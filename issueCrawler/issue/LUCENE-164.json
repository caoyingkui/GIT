{
    "id": "LUCENE-164",
    "title": "java.io.IOException: Too many open files",
    "details": {
        "labels": "",
        "priority": "Major",
        "components": [
            "core/search"
        ],
        "type": "Bug",
        "fix_versions": [],
        "affect_versions": "None",
        "resolution": "Duplicate",
        "status": "Closed"
    },
    "description": "The page that I am receiving the error is when I have searched and want to \ndisplay one of the results.  Each results has a unique ID so I just search \nusing Lucene again to return that one Unique ID.  \n\n<%\n\n  /* Searches the DR index for the iec_id  - unique so only returns one results \n*/\n\n     Searcher searcher_dr = new IndexSearcher(dr_indexLocation);\n     Analyzer analyzer_dr = new StandardAnalyzer();\n\n     String term = request.getParameter(\"query\");\n\n     String query = request.getParameter(\"iec_id\");\n\n     Query query_es = QueryParser.parse(query, \"id\", analyzer_dr);\n\n     Hits hits_es  = searcher_dr.search(query_es);\n\n%>\n\n<%\n   // Get the data contained in the result\n     Document doc = hits_es.doc(0);\n     String title = StringTools.highlightTerm(term,doc.get(\"Title\"));\n     String state = StringTools.highlightTerm(term,doc.get(\"state\"));\n     String workAroundAvailable = StringTools.highlightTerm(term,doc.get\n(\"workAroundA\nvailable\"));\n     String workAroundType = StringTools.highlightTerm(term,doc.get\n(\"workAroundType\")\n);\n     String workAroundMustBeReapplied = StringTools.highlightTerm(term,doc.get\n(\"workA\nroundMustBeReapplied\"));\n     String contents = StringTools.highlightTerm(term,doc.get(\"contents\"));\n     String workAroundDescription = StringTools.highlightTerm(term,doc.get\n(\"workAroun\ndDescription\"));\n     String workAroundReapplication = StringTools.highlightTerm(term,doc.get\n(\"workAro\nundReapplication\"));\n\n\n%>\n<font size=\"-1\">\n<b>IEC ID: </b><%=query%>\n<br>\n<b>Title: </b> <%=title%>\n<br>\n<b>State: </b> <%=state%>\n<br>\n<b>Workaround Available: </b>\n<%=workAroundAvailable%>\n\n<br>\n<b>Workaround Type: </b>\n<%=workAroundType%>\n<br>\n<b>Workaround must be reapplied: </b>\n         <%=workAroundMustBeReapplied%>\n<br>\n<br>\n<b>Description: </b><br>\n         <%=contents%>\n<p>\n<b>Workaround Description:</b><br>\n\n          <%=workAroundDescription%>\n<p>\n<b>Workaround Reapplication:</b><br>\n          <%=workAroundReapplication%>\n\n</font>\n<p>\n\n\n\n\nERROR:\n\njava.io.IOException: Too many open files\n\tat java.io.UnixFileSystem.createFileExclusively(Native Method)\n\tat java.io.File.createNewFile(File.java:827)\n\tat org.apache.lucene.store.FSDirectory$1.obtain(FSDirectory.java:288)\n\tat org.apache.lucene.store.Lock$With.run(Lock.java:102)\n\tat org.apache.lucene.index.IndexReader.open(IndexReader.java:103)\n\tat org.apache.lucene.index.IndexReader.open(IndexReader.java:91)\n\tat org.apache.lucene.search.IndexSearcher.(IndexSearcher.java:75)\n\tat org.apache.jsp.display_0005fdr$jsp._jspService\n(display_0005fdr$jsp.java:128)\n\tat org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:107)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat org.apache.jasper.servlet.JspServlet$JspServletWrapper.service\n(JspServlet.java:201)\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile\n(JspServlet.java:381)\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:473)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\n(ApplicationFilterChain.java:247)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter\n(ApplicationFilterChain.java:193)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke\n(StandardWrapperValve.java:243)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:566)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.core.StandardContextValve.invoke\n(StandardContextValve.java:190)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:566)\n\tat org.apache.catalina.valves.CertificatesValve.invoke\n(CertificatesValve.java:246)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:564)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.core.StandardContext.invoke\n(StandardContext.java:2347)\n\tat org.apache.catalina.core.StandardHostValve.invoke\n(StandardHostValve.java:180)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:566)\n\tat org.apache.catalina.valves.ErrorDispatcherValve.invoke\n(ErrorDispatcherValve.java:170)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:564)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke\n(ErrorReportValve.java:170)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:564)\n\tat org.apache.catalina.valves.AccessLogValve.invoke\n(AccessLogValve.java:468)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:564)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.core.StandardEngineValve.invoke\n(StandardEngineValve.java:174)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:566)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.connector.http.HttpProcessor.process\n(HttpProcessor.java:1027)\n\tat org.apache.catalina.connector.http.HttpProcessor.run\n(HttpProcessor.java:1125)\n\tat java.lang.Thread.run(Thread.java:536)\n\n\n\n--------------------------------------------------------------------------------\n\nThis error did not always used to happen.\n\n\nSometimes the error looks like this\ndescription The requested resource (/home/tpleasan/cots/jakarta/jakarta-tomcat-\n4.0.6/webapps/knowledgebase/indexes/index_dr/_3d.f7 (Too many open files)) is \nnot available.\n\n--------------------------------------------------------------------------------",
    "attachments": {},
    "issue_links": {},
    "comments": [
        {
            "date": "2003-11-24T05:43:10+0000",
            "content": "\n\n\n\t\n\t\n\t\t\n\t\t\n\t\t\tThis bug has been marked as a duplicate of 24902 ***\n\t\t\n\t\t\n\t\n\t\n\n ",
            "author": "Otis Gospodnetic",
            "id": "comment-12321452"
        }
    ]
}