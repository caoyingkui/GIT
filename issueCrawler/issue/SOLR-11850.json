{
    "id": "SOLR-11850",
    "title": "Seeing lot of ERROR servlet.SolrDispatchFilter - org.mortbay.jetty.EofException",
    "details": {
        "labels": "",
        "priority": "Major",
        "components": [],
        "type": "Bug",
        "fix_versions": [],
        "affect_versions": "None",
        "resolution": "Invalid",
        "status": "Closed"
    },
    "description": "Hi, We have a application on Apache solar 4.0.0.2011.11.15.18.03.14.\n\nRecently we are seeing a lot of errors in logs.\n\n2018-01-12 16:22:59,013 ERROR servlet.SolrDispatchFilter - org.mortbay.jetty.EofException\n\tat org.mortbay.jetty.HttpGenerator.flush(HttpGenerator.java:791)\n\tat org.mortbay.jetty.AbstractGenerator$Output.flush(AbstractGenerator.java:569)\n\tat org.mortbay.jetty.HttpConnection$Output.flush(HttpConnection.java:1012)\n\tat sun.nio.cs.StreamEncoder.implFlush(Unknown Source)\n\tat sun.nio.cs.StreamEncoder.flush(Unknown Source)\n\tat java.io.OutputStreamWriter.flush(Unknown Source)\n\tat org.apache.solr.common.util.FastWriter.flush(FastWriter.java:115)\n\tat org.apache.solr.servlet.SolrDispatchFilter.writeResponse(SolrDispatchFilter.java:341)\n\tat org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:261)\n\tat com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:129)\n\tat com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:59)\n\tat com.google.inject.servlet.ManagedFilterPipeline.dispatch(ManagedFilterPipeline.java:122)\n\tat com.google.inject.servlet.GuiceFilter.doFilter(GuiceFilter.java:110)\n\tat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)\n\tat org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:399)\n\tat org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\n\tat org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)\n\tat org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)\n\tat org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:450)\n\tat org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:230)\n\tat org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)\n\tat org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n\tat org.mortbay.jetty.Server.handle(Server.java:326)\n\tat org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)\n\tat org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:928)\n\tat org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:549)\n\tat org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)\n\tat org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)\n\tat org.mortbay.jetty.bio.SocketConnector$Connection.run(SocketConnector.java:228)\n\tat org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)\nCaused by: java.net.SocketException: Connection reset by peer: socket write error\n\tat java.net.SocketOutputStream.socketWrite0(Native Method)\n\tat java.net.SocketOutputStream.socketWrite(Unknown Source)\n\tat java.net.SocketOutputStream.write(Unknown Source)\n\tat org.mortbay.io.ByteArrayBuffer.writeTo(ByteArrayBuffer.java:368)\n\tat org.mortbay.io.bio.StreamEndPoint.flush(StreamEndPoint.java:129)\n\tat org.mortbay.io.bio.StreamEndPoint.flush(StreamEndPoint.java:149)\n\tat org.mortbay.jetty.HttpGenerator.flush(HttpGenerator.java:714)\n\t... 29 more\n\n2018-01-12 16:22:59,013 WARN mortbay.log - Committed before 500 null\n\norg.mortbay.jetty.EofException\n\tat org.mortbay.jetty.HttpGenerator.flush(HttpGenerator.java:791)\n\tat org.mortbay.jetty.AbstractGenerator$Output.flush(AbstractGenerator.java:569)\n\tat org.mortbay.jetty.HttpConnection$Output.flush(HttpConnection.java:1012)\n\tat sun.nio.cs.StreamEncoder.implFlush(Unknown Source)\n\tat sun.nio.cs.StreamEncoder.flush(Unknown Source)\n\tat java.io.OutputStreamWriter.flush(Unknown Source)\n\tat org.apache.solr.common.util.FastWriter.flush(FastWriter.java:115)\n\tat org.apache.solr.servlet.SolrDispatchFilter.writeResponse(SolrDispatchFilter.java:341)\n\tat org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:261)\n\tat com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:129)\n\tat com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:59)\n\tat com.google.inject.servlet.ManagedFilterPipeline.dispatch(ManagedFilterPipeline.java:122)\n\tat com.google.inject.servlet.GuiceFilter.doFilter(GuiceFilter.java:110)\n\tat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)\n\tat org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:399)\n\tat org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\n\tat org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)\n\tat org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)\n\tat org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:450)\n\tat org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:230)\n\tat org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)\n\tat org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n\tat org.mortbay.jetty.Server.handle(Server.java:326)\n\tat org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)\n\tat org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:928)\n\tat org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:549)\n\tat org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)\n\tat org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)\n\tat org.mortbay.jetty.bio.SocketConnector$Connection.run(SocketConnector.java:228)\n\tat org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)\nCaused by: java.net.SocketException: Connection reset by peer: socket write error\n\tat java.net.SocketOutputStream.socketWrite0(Native Method)\n\tat java.net.SocketOutputStream.socketWrite(Unknown Source)\n\tat java.net.SocketOutputStream.write(Unknown Source)\n\tat org.mortbay.io.ByteArrayBuffer.writeTo(ByteArrayBuffer.java:368)\n\tat org.mortbay.io.bio.StreamEndPoint.flush(StreamEndPoint.java:129)\n\tat org.mortbay.io.bio.StreamEndPoint.flush(StreamEndPoint.java:149)\n\tat org.mortbay.jetty.HttpGenerator.flush(HttpGenerator.java:714)\n\t... 29 more\n\n2018-01-12 16:22:59,014 ERROR mortbay.log - /solr/ATLAS/select\njava.lang.IllegalStateException: Committed\n\tat org.mortbay.jetty.Response.resetBuffer(Response.java:1023)\n\tat org.mortbay.jetty.Response.sendError(Response.java:240)\n\tat org.apache.solr.servlet.SolrDispatchFilter.sendError(SolrDispatchFilter.java:377)\n\tat org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:279)\n\tat com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:129)\n\tat com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:59)\n\tat com.google.inject.servlet.ManagedFilterPipeline.dispatch(ManagedFilterPipeline.java:122)\n\tat com.google.inject.servlet.GuiceFilter.doFilter(GuiceFilter.java:110)\n\tat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)\n\tat org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:399)\n\tat org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\n\tat org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)\n\tat org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)\n\tat org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:450)\n\tat org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:230)\n\tat org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)\n\tat org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n\tat org.mortbay.jetty.Server.handle(Server.java:326)\n\tat org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)\n\tat org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:928)\n\tat org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:549)\n\tat org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)\n\tat org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)\n\tat org.mortbay.jetty.bio.SocketConnector$Connection.run(SocketConnector.java:228)\n\tat org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)",
    "attachments": {},
    "issue_links": {},
    "comments": [
        {
            "date": "2018-01-12T17:38:57+0000",
            "content": "Have you discussed this on the Solr-User mailing list yet? That's a better place for diagnosis than the JIRA project, which we reserve for suspected and confirmed bugs. More information is available at: https://lucene.apache.org/solr/community.html#mailing-lists-irc.\n\nWhen you mail the list, please provide additional information such as what are you or your users are doing when this occurs, and any configurations associated with those actions.\n\nThis issue will be closed as Invalid since it is not a confirmed bug and not enough information has been supplied to begin any diagnosis. ",
            "author": "Cassandra Targett",
            "id": "comment-16324276"
        }
    ]
}