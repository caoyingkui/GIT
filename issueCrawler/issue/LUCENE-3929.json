{
    "id": "LUCENE-3929",
    "title": "org.apache.lucene.analysis.fr.FrenchAnalyzer could introduce french accent insensitive search.",
    "details": {
        "labels": "",
        "priority": "Minor",
        "components": [
            "core/search"
        ],
        "type": "Improvement",
        "fix_versions": [
            "3.6",
            "4.0-ALPHA"
        ],
        "affect_versions": "None",
        "resolution": "Fixed",
        "status": "Closed"
    },
    "description": "The GermanAnalyzer does the same with the Umlaut for example. Searching for 'gehort' will return 'geh\u00f6rt' and 'gehort' .\n\nI expected that the FrenchAnalyzer would also return 's\u00e9curitaires' and 'securitaires' and searching for any of them, but it's not the case",
    "attachments": {},
    "issue_links": {},
    "comments": [
        {
            "date": "2012-03-27T15:13:22+0000",
            "content": "this is already the case in 3.6 (FrenchAnalyzer defaults were changed to use Savoy's stemmer \ninstead of snowball, it does this for any word > 5 chars long). I think we can close this... ",
            "author": "Robert Muir",
            "id": "comment-13239547"
        },
        {
            "date": "2012-03-27T15:18:25+0000",
            "content": "I committed your example as a test demonstrating it works:\nhttp://svn.apache.org/viewvc?rev=1305870&view=rev ",
            "author": "Robert Muir",
            "id": "comment-13239551"
        },
        {
            "date": "2012-04-05T09:27:32+0000",
            "content": "Indeed I was using version 2.4.1. Thank you very much for your feedback Robert. ",
            "author": "Geoffroy Schneck",
            "id": "comment-13247107"
        },
        {
            "date": "2015-09-24T10:50:49+0000",
            "content": "But what about the many words with less than 5 letters ?\nHere's an example list of almost 400 words that can not be searched without the correct accents:\nFor me, this makes it unuseable. But feel free to reclose this issue if the current behavior is the expected one.\n\n{\n    \"\u00e0\"\n    \"abb\u00e9\"\n    \"a\u00e9ra\"\n    \"a\u00e8re\"\n    \"a\u00e9r\u00e9\"\n    \"\u00e2g\u00e9\"\n    \"\u00e2g\u00e9e\"\n    \"\u00e2g\u00e9s\"\n    \"aid\u00e9\"\n    \"ail\u00e9\"\n    \"aim\u00e9\"\n    \"a\u00een\u00e9\"\n    \"ais\u00e9\"\n    \"al\u00e9a\"\n    \"all\u00e9\"\n    \"all\u00f4\"\n    \"arm\u00e9\"\n    \"ax\u00e9\"\n    \"ax\u00e9e\"\n    \"ax\u00e9s\"\n    \"bas\u00e9\"\n    \"b\u00e2t\u00e9\"\n    \"bav\u00e9\"\n    \"b\u00e9at\"\n    \"b\u00e9b\u00e9\"\n    \"b\u00e9e\"\n    \"b\u00e9er\"\n    \"b\u00e9es\"\n    \"b\u00e9ni\"\n    \"b\u00eata\"\n    \"b\u00eate\"\n    \"bl\u00e9\"\n    \"bl\u00e9s\"\n    \"box\u00e9\"\n    \"bu\u00e9e\"\n    \"but\u00e9\"\n    \"\u00e7\u00e0\"\n    \"caf\u00e9\"\n    \"cal\u00e9\"\n    \"cas\u00e9\"\n    \"c\u00e9da\"\n    \"c\u00e8de\"\n    \"c\u00e9d\u00e9\"\n    \"c\u00e8ne\"\n    \"c\u00e8pe\"\n    \"cir\u00e9\"\n    \"cit\u00e9\"\n    \"cl\u00e9\"\n    \"cl\u00e9s\"\n    \"cl\u00f4t\"\n    \"cod\u00e9\"\n    \"c\u00f4ne\"\n    \"c\u00f4te\"\n    \"c\u00f4t\u00e9\"\n    \"cot\u00e9\"\n    \"cr\u00e9a\"\n    \"cr\u00e9e\"\n    \"cr\u00e9\u00e9\"\n    \"cri\u00e9\"\n    \"cub\u00e9\"\n    \"cur\u00e9\"\n    \"cuv\u00e9\"\n    \"dat\u00e9\"\n    \"d\u00e9\"\n    \"d\u00e9c.\"\n    \"de\u00e7\u00e0\"\n    \"d\u00e9\u00e7u\"\n    \"d\u00e9fi\"\n    \"d\u00e9j\u00e0\"\n    \"del\u00e0\"\n    \"d\u00e9ni\"\n    \"d\u00e9p.\"\n    \"d\u00e8s\"\n    \"d\u00e9s\"\n    \"d\u00een\u00e9\"\n    \"d\u00f4me\"\n    \"dop\u00e9\"\n    \"dor\u00e9\"\n    \"dos\u00e9\"\n    \"dot\u00e9\"\n    \"dou\u00e9\"\n    \"dup\u00e9\"\n    \"dur\u00e9\"\n    \"\u00e9bat\"\n    \"\u00e9cho\"\n    \"\u00e9chu\"\n    \"\u00e9cot\"\n    \"\u00e9cru\"\n    \"\u00e9cu\"\n    \"\u00e9cus\"\n    \"\u00e9dam\"\n    \"\u00e9dit\"\n    \"\u00e9gal\"\n    \"\u00e9lan\"\n    \"\u00e9lis\"\n    \"\u00e9lit\"\n    \"\u00e9lu\"\n    \"\u00e9lue\"\n    \"\u00e9lus\"\n    \"\u00e9lut\"\n    \"\u00e8me\"\n    \"\u00e9met\"\n    \"\u00e9mir\"\n    \"\u00e9mis\"\n    \"\u00e9mit\"\n    \"\u00e9moi\"\n    \"\u00e9mu\"\n    \"\u00e9mue\"\n    \"\u00e9mus\"\n    \"\u00e9mut\"\n    \"\u00e9p\u00e9e\"\n    \"\u00e9pi\"\n    \"\u00e9pia\"\n    \"\u00e9pie\"\n    \"\u00e9pi\u00e9\"\n    \"\u00e9pis\"\n    \"\u00e8re\"\n    \"\u00e8res\"\n    \"err\u00e9\"\n    \"\u00e8s\"\n    \"\u00e9tai\"\n    \"\u00e9tal\"\n    \"\u00e9tat\"\n    \"\u00e9tau\"\n    \"\u00e9t\u00e9\"\n    \"\u00eates\"\n    \"\u00e9t\u00e9s\"\n    \"\u00eatre\"\n    \"\u00e9tui\"\n    \"fam\u00e9\"\n    \"fan\u00e9\"\n    \"f\u00e9e\"\n    \"f\u00e9es\"\n    \"f\u00eala\"\n    \"f\u00eale\"\n    \"f\u00eal\u00e9\"\n    \"f\u00e9ru\"\n    \"f\u00eata\"\n    \"f\u00eate\"\n    \"f\u00eat\u00e9\"\n    \"f\u00e9tu\"\n    \"f\u00e8ve\"\n    \"fi\u00e9\"\n    \"fi\u00e9e\"\n    \"fi\u00e9s\"\n    \"fig\u00e9\"\n    \"fil\u00e9\"\n    \"fix\u00e9\"\n    \"for\u00e9\"\n    \"fum\u00e9\"\n    \"fus\u00e9\"\n    \"fut\u00e9\"\n    \"gag\u00e9\"\n    \"gar\u00e9\"\n    \"g\u00e2t\u00e9\"\n    \"gav\u00e9\"\n    \"gaz\u00e9\"\n    \"g\u00e8le\"\n    \"gel\u00e9\"\n    \"g\u00e9mi\"\n    \"g\u00eana\"\n    \"g\u00e8ne\"\n    \"g\u00eane\"\n    \"g\u00ean\u00e9\"\n    \"g\u00e9ra\"\n    \"g\u00e8re\"\n    \"g\u00e9r\u00e9\"\n    \"gob\u00e9\"\n    \"gr\u00e9\"\n    \"gr\u00e8s\"\n    \"gu\u00e9\"\n    \"gu\u00e9s\"\n    \"h\u00e2l\u00e9\"\n    \"h\u00e2t\u00e9\"\n    \"h\u00e9la\"\n    \"h\u00e8le\"\n    \"h\u00e9l\u00e9\"\n    \"h\u00e8re\"\n    \"h\u00f4te\"\n    \"hu\u00e9\"\n    \"hu\u00e9e\"\n    \"hu\u00e9s\"\n    \"hum\u00e9\"\n    \"id\u00e9e\"\n    \"inn\u00e9\"\n    \"iod\u00e9\"\n    \"jas\u00e9\"\n    \"jet\u00e9\"\n    \"jou\u00e9\"\n    \"jub\u00e9\"\n    \"jug\u00e9\"\n    \"jur\u00e9\"\n    \"k\u00e9pi\"\n    \"l\u00e0\"\n    \"lac\u00e9\"\n    \"lam\u00e9\"\n    \"lav\u00e9\"\n    \"l\u00e8s\"\n    \"l\u00e9sa\"\n    \"l\u00e8se\"\n    \"l\u00e9s\u00e9\"\n    \"l\u00e8ve\"\n    \"lev\u00e9\"\n    \"li\u00e9\"\n    \"li\u00e9e\"\n    \"li\u00e9s\"\n    \"lim\u00e9\"\n    \"log\u00e9\"\n    \"lou\u00e9\"\n    \"lun\u00e9\"\n    \"lux\u00e9\"\n    \"m\u00e9at\"\n    \"m\u00eala\"\n    \"m\u00eale\"\n    \"m\u00eal\u00e9\"\n    \"m\u00eame\"\n    \"m\u00e8ne\"\n    \"men\u00e9\"\n    \"m\u00e8re\"\n    \"mim\u00e9\"\n    \"min\u00e9\"\n    \"mir\u00e9\"\n    \"mis\u00e9\"\n    \"mit\u00e9\"\n    \"mix\u00e9\"\n    \"m\u00f4le\"\n    \"mu\u00e9\"\n    \"mu\u00e9e\"\n    \"mu\u00e9s\"\n    \"mur\u00e9\"\n    \"mut\u00e9\"\n    \"nag\u00e9\"\n    \"n\u00e9\"\n    \"n\u00e9e\"\n    \"n\u00e9es\"\n    \"n\u00e9on\"\n    \"n\u00e9s\"\n    \"n\u00e9v\u00e9\"\n    \"ni\u00e9\"\n    \"ni\u00e9e\"\n    \"ni\u00e9s\"\n    \"n\u00f4\"\n    \"n\u00f4s\"\n    \"not\u00e9\"\n    \"nou\u00e9\"\n    \"noy\u00e9\"\n    \"nu\u00e9e\"\n    \"\u00f4\"\n    \"ob\u00e9i\"\n    \"opt\u00e9\"\n    \"or\u00e9e\"\n    \"orn\u00e9\"\n    \"os\u00e9\"\n    \"os\u00e9e\"\n    \"os\u00e9s\"\n    \"\u00f4ta\"\n    \"\u00f4te\"\n    \"\u00f4t\u00e9\"\n    \"\u00f4t\u00e9e\"\n    \"\u00f4ter\"\n    \"\u00f4tes\"\n    \"\u00f4t\u00e9s\"\n    \"\u00f4tez\"\n    \"p\u00e2m\u00e9\"\n    \"pan\u00e9\"\n    \"par\u00e9\"\n    \"p\u00e2t\u00e9\"\n    \"pav\u00e9\"\n    \"pay\u00e9\"\n    \"p\u00e8le\"\n    \"pel\u00e9\"\n    \"p\u00eane\"\n    \"p\u00e8re\"\n    \"p\u00e9ri\"\n    \"p\u00e8se\"\n    \"pes\u00e9\"\n    \"p\u00e8te\"\n    \"p\u00e9t\u00e9\"\n    \"pil\u00e9\"\n    \"pis\u00e9\"\n    \"pli\u00e9\"\n    \"p\u00f4le\"\n    \"pos\u00e9\"\n    \"pr\u00e9\"\n    \"pr\u00e8s\"\n    \"pr\u00e9s\"\n    \"pr\u00eat\"\n    \"pri\u00e9\"\n    \"pu\u00e9\"\n    \"rac\u00e9\"\n    \"rag\u00e9\"\n    \"r\u00e2l\u00e9\"\n    \"ram\u00e9\"\n    \"r\u00e2p\u00e9\"\n    \"ras\u00e9\"\n    \"rat\u00e9\"\n    \"ray\u00e9\"\n    \"r\u00e9\"\n    \"r\u00e9el\"\n    \"r\u00e9er\"\n    \"r\u00e9f.\"\n    \"r\u00e9gi\"\n    \"r\u00eane\"\n    \"r\u00eava\"\n    \"r\u00eave\"\n    \"r\u00eav\u00e9\"\n    \"rid\u00e9\"\n    \"rim\u00e9\"\n    \"riv\u00e9\"\n    \"r\u00f4da\"\n    \"r\u00f4de\"\n    \"r\u00f4d\u00e9\"\n    \"rod\u00e9\"\n    \"r\u00f4le\"\n    \"ros\u00e9\"\n    \"r\u00f4t\"\n    \"r\u00f4ti\"\n    \"r\u00f4ts\"\n    \"rou\u00e9\"\n    \"ru\u00e9\"\n    \"ru\u00e9e\"\n    \"ru\u00e9s\"\n    \"rus\u00e9\"\n    \"sak\u00e9\"\n    \"sal\u00e9\"\n    \"sap\u00e9\"\n    \"sci\u00e9\"\n    \"s\u00e8me\"\n    \"sem\u00e9\"\n    \"s\u00e8ve\"\n    \"s\u00e9vi\"\n    \"ski\u00e9\"\n    \"suc\u00e9\"\n    \"su\u00e9\"\n    \"su\u00e9e\"\n    \"su\u00e9s\"\n    \"tal\u00e9\"\n    \"tap\u00e9\"\n    \"tar\u00e9\"\n    \"t\u00e2t\u00e9\"\n    \"tax\u00e9\"\n    \"t\u00e9l.\"\n    \"t\u00e9l\u00e9\"\n    \"t\u00e9nu\"\n    \"t\u00eate\"\n    \"t\u00eatu\"\n    \"th\u00e9\"\n    \"th\u00e9s\"\n    \"tir\u00e9\"\n    \"t\u00f4le\"\n    \"t\u00f4t\"\n    \"tr\u00e8s\"\n    \"tri\u00e9\"\n    \"tu\u00e9\"\n    \"tu\u00e9e\"\n    \"tu\u00e9s\"\n    \"typ\u00e9\"\n    \"ur\u00e9e\"\n    \"urg\u00e9\"\n    \"us\u00e9\"\n    \"us\u00e9e\"\n    \"us\u00e9s\"\n    \"v\u00e9cu\"\n    \"v\u00e9lo\"\n    \"v\u00eat\"\n    \"v\u00eate\"\n    \"v\u00eats\"\n    \"v\u00eatu\"\n    \"vex\u00e9\"\n    \"vid\u00e9\"\n    \"vir\u00e9\"\n    \"vis\u00e9\"\n    \"vol\u00e9\"\n    \"vot\u00e9\"\n    \"vou\u00e9\"\n    \"z\u00e9bu\"\n    \"z\u00e8le\"\n    \"z\u00e9l\u00e9\"\n    \"z\u00e9ro\"\n    \"zon\u00e9\"\n}\n\n ",
            "author": "Jon Harper",
            "id": "comment-14906190"
        },
        {
            "date": "2015-09-24T10:54:00+0000",
            "content": "Actually I can not reopen an issue. Trying to ping Robert Muir Robert Muir ",
            "author": "Jon Harper",
            "id": "comment-14906192"
        },
        {
            "date": "2015-09-24T11:21:43+0000",
            "content": "The issue is one of time. If we want to change how that stemmer works or whatever, then we should at least measure and test that it doesnt send relevance down the tubes. If it is left to me to run those experiments, it will take some time, even though I do want to fix it. It is a lot of work, I can't test everyone's idea about how the analyzers should work. ",
            "author": "Robert Muir",
            "id": "comment-14906215"
        },
        {
            "date": "2016-01-18T10:45:06+0000",
            "content": "Robert Muir, Nice to know you have this is mind. Thanks for replying and good luck with this work\n\nAnother observation, FrenchLightStemmer implementing Savoy's stemmer only removes the following 'accents' (for words >=5 letters):\nFrenchLightStemmer.java:\n\n          case '\u00e0': \n          case '\u00e1':\n          case '\u00e2': s[i] = 'a'; break;\n          case '\u00f4': s[i] = 'o'; break;\n          case '\u00e8':\n          case '\u00e9':\n          case '\u00ea': s[i] = 'e'; break;\n          case '\u00f9':\n          case '\u00fb': s[i] = 'u'; break;\n          case '\u00ee': s[i] = 'i'; break;\n          case '\u00e7': s[i] = 'c'; break;\n\n\n\nThis leaves out for exemple \u00eb \u00ef \u00fc found in the following 221 words (including 'No\u00ebl', the french word for 'christmas'!)\n\na\u00efeul\na\u00efeule\na\u00efeules\na\u00efeuls\na\u00efeux\naigu\u00eb\naigu\u00ebs\na\u00efoli\nambigu\u00eb\nambigu\u00ebs\nambigu\u00eft\u00e9\nambigu\u00eft\u00e9s\namu\u00efr\nandro\u00efde\nandro\u00efdes\nanthropo\u00efde\nanthropo\u00efdes\narcha\u00efque\narcha\u00efques\narcha\u00efsme\narcha\u00efsmes\nast\u00e9ro\u00efde\nast\u00e9ro\u00efdes\nba\u00efonnette\nba\u00efonnettes\nca\u00efd\nca\u00efds\nca\u00efman\nca\u00efmans\ncama\u00efeu\ncama\u00efeux\ncano\u00eb\ncano\u00ebs\ncapharna\u00fcm\ncara\u00efbe\ncara\u00efbes\ncellulo\u00efd\ncigu\u00eb\ncoca\u00efne\ncoca\u00efnomane\ncoca\u00efnomanes\ncoca\u00efnomanie\nco\u00efncida\nco\u00efncidaient\nco\u00efncidait\nco\u00efncidant\nco\u00efncide\nco\u00efncid\u00e9\nco\u00efncidence\nco\u00efncidences\nco\u00efncident\nco\u00efncidente\nco\u00efncidentes\nco\u00efncidents\nco\u00efncider\nco\u00efncidera\nco\u00efncideraient\nco\u00efnciderait\nco\u00efncid\u00e8rent\nco\u00efncideront\nco\u00efnculp\u00e9\nco\u00efnculp\u00e9e\nco\u00efnculp\u00e9es\nco\u00efnculp\u00e9s\nco\u00eft\nco\u00efter\nco\u00efts\ncontigu\u00eb\ncontigu\u00ebs\ncontigu\u00eft\u00e9\ncrapa\u00fcter\ndala\u00ef-lama\ndala\u00ef-lamas\nd\u00e9sambigu\u00efser\n\u00e9go\u00efne\n\u00e9go\u00efnes\n\u00e9go\u00efsme\n\u00e9go\u00efste\n\u00e9go\u00efstement\n\u00e9go\u00efstes\nentre-ha\u00efr\nexigu\u00eb\nexigu\u00ebs\nexigu\u00eft\u00e9\nfa\u00efence\nfa\u00efencerie\nfa\u00efenceries\nfa\u00efences\nfa\u00efencier\nfa\u00efenciers\ngla\u00efeul\ngla\u00efeuls\nha\u00ef\nha\u00efe\nha\u00efes\nha\u00efr\nha\u00efra\nha\u00efrai\nha\u00efraient\nha\u00efrais\nha\u00efrait\nha\u00efras\nha\u00efrez\nha\u00efriez\nha\u00efrions\nha\u00efrons\nha\u00efront\nha\u00efs\nha\u00efssable\nha\u00efssables\nha\u00efssaient\nha\u00efssais\nha\u00efssait\nha\u00efssant\nha\u00efsse\nha\u00efssent\nha\u00efsses\nha\u00efssez\nha\u00efssiez\nha\u00efssions\nha\u00efssons\nhautbo\u00efste\nhautbo\u00efstes\nh\u00e9bra\u00efque\nh\u00e9bra\u00efques\nh\u00e9morro\u00efde\nh\u00e9morro\u00efdes\nh\u00e9ro\u00ef-comique\nh\u00e9ro\u00ef-comiques\nh\u00e9ro\u00efne\nh\u00e9ro\u00efnes\nh\u00e9ro\u00efnomane\nh\u00e9ro\u00efnomanes\nh\u00e9ro\u00efque\nh\u00e9ro\u00efquement\nh\u00e9ro\u00efques\nh\u00e9ro\u00efsme\nhumano\u00efde\nhumano\u00efdes\ninou\u00ef\ninou\u00efe\ninou\u00efes\ninou\u00efs\njuda\u00efque\njuda\u00efques\njuda\u00efser\njuda\u00efsme\nla\u00efc\nla\u00efcisation\nla\u00efciser\nla\u00efcit\u00e9\nla\u00efcs\nla\u00efque\nla\u00efques\nla\u00efus\nla\u00efusser\nma\u00efs\nmao\u00efste\nmao\u00efstes\nmosa\u00efque\nmosa\u00efques\nna\u00eff\nna\u00effs\nna\u00efve\nna\u00efvement\nna\u00efves\nna\u00efvet\u00e9\nna\u00efvet\u00e9s\nn\u00e9gro\u00efde\nn\u00e9gro\u00efdes\nno\u00ebl\nou\u00ef-dire\nou\u00efe\nou\u00efes\nou\u00efr\npaga\u00efe\npa\u00efen\npa\u00efenne\npa\u00efennes\npa\u00efens\nparano\u00efa\nparano\u00efaque\nparano\u00efaques\nprosa\u00efque\nprosa\u00efques\nprosa\u00efsme\nrhodo\u00efd\nsamoura\u00ef\nsamoura\u00efs\nsinuso\u00efdal\nsinuso\u00efdale\nsinuso\u00efdales\nsinuso\u00efdaux\nsinuso\u00efde\nsinuso\u00efdes\nspermatozo\u00efde\nspermatozo\u00efdes\nsto\u00efcisme\nsto\u00efque\nsto\u00efquement\nsto\u00efques\nsuraigu\u00eb\nsuraigu\u00ebs\nta\u00efga\nta\u00efgas\ntha\u00eflandais\ntha\u00eflandaise\ntha\u00eflandaises\nthyro\u00efde\nthyro\u00efdes\nthyro\u00efdien\nthyro\u00efdienne\nthyro\u00efdiennes\nthyro\u00efdiens\ntro\u00efka\ntro\u00efkas\ntypho\u00efde\ntypho\u00efdes\nza\u00efrois\nza\u00efroise\nza\u00efroises\n\n \n\nRegards,\nJon ",
            "author": "Jon Harper",
            "id": "comment-15105091"
        }
    ]
}