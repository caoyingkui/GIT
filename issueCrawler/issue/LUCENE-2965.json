{
    "id": "LUCENE-2965",
    "title": "Faster GeoHashUtils",
    "details": {
        "labels": "",
        "priority": "Major",
        "components": [
            "modules/spatial"
        ],
        "type": "Improvement",
        "fix_versions": [],
        "affect_versions": "2.9.2,                                            2.9.4,                                            3.0,                                            3.0.1,                                            3.0.2,                                            3.0.3",
        "resolution": "Unresolved",
        "status": "Open"
    },
    "description": "I found the current implement of org.apache.lucene.spatial.geohash.GeoHashUtils.encode and decode is slow and this is my improvement (400% faster )\n\n/**\n\n\tEncodes the given latitude and longitude into a geohash\n\t *\n\t@param latitude Latitude to encode\n\t@param longitude Longitude to encode\n\t@return Geohash encoding of the longitude and latitude\n\t */\n\tpublic static String encode(double latitude, double longitude) {\n\t\tdouble latL = -90, latH = 90;\n\t\tdouble lngL = -180, lngH = 180;\n\t\tdouble mid;\n//\t\tassert PRECISION % 2 == 0;\n\t\tfinal char[] geohash = new char[PRECISION];\n\t\tint len = 0;\n\t\tint ch = 0;\n\t\twhile (len < PRECISION) {\n\t\t\tif (longitude > (mid = (lngL + lngH) * 0.5)) \n{\n\t\t\t\tch |= 16;\n\t\t\t\tlngL = mid;\n\t\t\t}\n else\n\t\t\t\tlngH = mid;\n\n\n\n\t\t\tif (longitude > (mid = (lngL + lngH) * 0.5)) \n{\n\t\t\t\tch |= 4;\n\t\t\t\tlngL = mid;\n\t\t\t}\n else\n\t\t\t\tlngH = mid;\n\n\t\t\tif (longitude > (mid = (lngL + lngH) * 0.5)) \n{\n\t\t\t\tch |= 1;\n\t\t\t\tlngL = mid;\n\t\t\t}\n else \n{\n\t\t\t\tlngH = mid;\n\t\t\t}\n\n\t\t\tif (latitude > (mid = (latL + latH) * 0.5)) \n{\n\t\t\t\tch |= 8;\n\t\t\t\tlatL = mid;\n\t\t\t}\n else \n{\n\t\t\t\tlatH = mid;\n\t\t\t}\n\t\t\tif (latitude > (mid = (latL + latH) * 0.5)) {\n\t\t\t\tch |= 2;\n\t\t\t\tlatL = mid;\n\t\t\t} else {\t\t\t\tlatH = mid;\t\t\t}\n\n\t\t\tgeohash[len++] = BASE_32[ch];\n\t\t\tch = 0;\n\n\t\t\tif (latitude > (mid = (latL + latH) * 0.5)) \n{\n\t\t\t\tch |= 16;\n\t\t\t\tlatL = mid;\n\t\t\t}\n else\n\t\t\t\tlatH = mid;\n\n\t\t\tif (longitude > (mid = (lngL + lngH) * 0.5)) \n{\n\t\t\t\tch |= 8;\n\t\t\t\tlngL = mid;\n\t\t\t}\n else\n\t\t\t\tlngH = mid;\n\n\t\t\tif (latitude > (mid = (latL + latH) * 0.5)) \n{\n\t\t\t\tch |= 4;\n\t\t\t\tlatL = mid;\n\t\t\t}\n else\n\t\t\t\tlatH = mid;\n\n\t\t\tif (longitude > (mid = (lngL + lngH) * 0.5)) \n{\n\t\t\t\tch |= 2;\n\t\t\t\tlngL = mid;\n\t\t\t}\n else\n\t\t\t\tlngH = mid;\n\n\t\t\tif (latitude > (mid = (latL + latH) * 0.5)) \n{\n\t\t\t\tch |= 1;\n\t\t\t\tlatL = mid;\n\t\t\t}\n else\n\t\t\t\tlatH = mid;\n\n\t\t\tgeohash[len++] = BASE_32[ch];\n\t\t\tch = 0;\n\t\t}\n\n\t\treturn new String(geohash);\n\t}\n\n\t/**\n\n\tDecodes the given geohash into a latitude and longitude\n\t *\n\t@param geohash Geohash to deocde\n\t@return Array with the latitude at index 0, and longitude at index 1\n\t */\n\tpublic static double[] decode(String geohash) {\n\t\tdouble latL = -90.0, latH = 90.0;\n\t\tdouble lngL = -180.0, lngH = 180.0;\n\t\tdouble gap;\n\t\tint len = geohash.length();\n\t\tfor (int i = 0; i < len; ) \nUnknown macro: {\t\t\tswitch (geohash.charAt(i++)) {\n\t\t\tcase '0':\n\t\t\t\tlatH -= (latH - latL) * 0.75;\n\t\t\t\tlngH -= (lngH - lngL) * 0.875;\n\t\t\t\tbreak;\n\t\t\tcase '1':\n\t\t\t\tlatH -= (latH - latL) * 0.75;\n\t\t\t\tgap = lngH - lngL;\n\t\t\t\tlngL += gap * 0.125;\n\t\t\t\tlngH -= gap * 0.75;\n\t\t\t\tbreak;\n\t\t\tcase '2':\n\t\t\t\tgap = latH - latL;\n\t\t\t\tlatL += gap * 0.25;\n\t\t\t\tlatH -= gap * 0.5;\n\t\t\t\tlngH -= (lngH - lngL) * 0.875;\n\t\t\t\tbreak;\n\t\t\tcase '3':\n\t\t\t\tgap = latH - latL;\n\t\t\t\tlatL += gap * 0.25;\n\t\t\t\tlatH -= gap * 0.5;\n\t\t\t\tgap = lngH - lngL;\n\t\t\t\tlngL += gap * 0.125;\n\t\t\t\tlngH -= gap * 0.75;\n\t\t\t\tbreak;\n\t\t\tcase '4':\n\t\t\t\tlatH -= (latH - latL) * 0.75;\n\t\t\t\tgap = lngH - lngL;\n\t\t\t\tlngL += gap * 0.25;\n\t\t\t\tlngH -= gap * 0.625;\n\t\t\t\tbreak;\n\t\t\tcase '5':\n\t\t\t\tlatH -= (latH - latL) * 0.75;\n\t\t\t\tgap = lngH - lngL;\n\t\t\t\tlngL += gap * 0.375;\n\t\t\t\tlngH -= gap * 0.5;\n\t\t\t\tbreak;\n\t\t\tcase '6':\n\t\t\t\tgap = latH - latL;\n\t\t\t\tlatL += gap * 0.25;\n\t\t\t\tlatH -= gap * 0.5;\n\t\t\t\tgap = lngH - lngL;\n\t\t\t\tlngL += gap * 0.25;\n\t\t\t\tlngH -= gap * 0.625;\n\t\t\t\tbreak;\n\t\t\tcase '7':\n\t\t\t\tgap = latH - latL;\n\t\t\t\tlatL += gap * 0.25;\n\t\t\t\tlatH -= gap * 0.5;\n\t\t\t\tgap = lngH - lngL;\n\t\t\t\tlngL += gap * 0.375;\n\t\t\t\tlngH -= gap * 0.5;\n\t\t\t\tbreak;\n\t\t\tcase '8':\n\t\t\t\tgap = latH - latL;\n\t\t\t\tlatL += gap * 0.5;\n\t\t\t\tlatH -= gap * 0.25;\n\t\t\t\tlngH -= (lngH - lngL) * 0.875;\n\t\t\t\tbreak;\n\t\t\tcase '9':\n\t\t\t\tgap = latH - latL;\n\t\t\t\tlatL += gap * 0.5;\n\t\t\t\tlatH -= gap * 0.25;\n\t\t\t\tgap = lngH - lngL;\n\t\t\t\tlngL += gap * 0.125;\n\t\t\t\tlngH -= gap * 0.75;\n\t\t\t\tbreak;\n\t\t\tcase 'b':\n\t\t\t\tlatL += (latH - latL) * 0.75;\n\t\t\t\tlngH -= (lngH - lngL) * 0.875;\n\t\t\t\tbreak;\n\t\t\tcase 'c':\n\t\t\t\tlatL += (latH - latL) * 0.75;\n\t\t\t\tgap = lngH - lngL;\n\t\t\t\tlngL += gap * 0.125;\n\t\t\t\tlngH -= gap * 0.75;\n\t\t\t\tbreak;\n\t\t\tcase 'd':\n\t\t\t\tgap = latH - latL;\n\t\t\t\tlatL += gap * 0.5;\n\t\t\t\tlatH -= gap * 0.25;\n\t\t\t\tgap = lngH - lngL;\n\t\t\t\tlngL += gap * 0.25;\n\t\t\t\tlngH -= gap * 0.625;\n\t\t\t\tbreak;\n\t\t\tcase 'e':\n\t\t\t\tgap = latH - latL;\n\t\t\t\tlatL += gap * 0.5;\n\t\t\t\tlatH -= gap * 0.25;\n\t\t\t\tgap = lngH - lngL;\n\t\t\t\tlngL += gap * 0.375;\n\t\t\t\tlngH -= gap * 0.5;\n\t\t\t\tbreak;\n\t\t\tcase 'f':\n\t\t\t\tlatL += (latH - latL) * 0.75;\n\t\t\t\tgap = lngH - lngL;\n\t\t\t\tlngL += gap * 0.25;\n\t\t\t\tlngH -= gap * 0.625;\n\t\t\t\tbreak;\n\t\t\tcase 'g':\n\t\t\t\tlatL += (latH - latL) * 0.75;\n\t\t\t\tgap = lngH - lngL;\n\t\t\t\tlngL += gap * 0.375;\n\t\t\t\tlngH -= gap * 0.5;\n\t\t\t\tbreak;\n\t\t\tcase 'h':\n\t\t\t\tlatH -= (latH - latL) * 0.75;\n\t\t\t\tgap = lngH - lngL;\n\t\t\t\tlngL += gap * 0.5;\n\t\t\t\tlngH -= gap * 0.375;\n\t\t\t\tbreak;\n\t\t\tcase 'j':\n\t\t\t\tlatH -= (latH - latL) * 0.75;\n\t\t\t\tgap = lngH - lngL;\n\t\t\t\tlngL += gap * 0.625;\n\t\t\t\tlngH -= gap * 0.25;\n\t\t\t\tbreak;\n\t\t\tcase 'k':\n\t\t\t\tgap = latH - latL;\n\t\t\t\tlatL += gap * 0.25;\n\t\t\t\tlatH -= gap * 0.5;\n\t\t\t\tgap = lngH - lngL;\n\t\t\t\tlngL += gap * 0.5;\n\t\t\t\tlngH -= gap * 0.375;\n\t\t\t\tbreak;\n\t\t\tcase 'm':\n\t\t\t\tgap = latH - latL;\n\t\t\t\tlatL += gap * 0.25;\n\t\t\t\tlatH -= gap * 0.5;\n\t\t\t\tgap = lngH - lngL;\n\t\t\t\tlngL += gap * 0.625;\n\t\t\t\tlngH -= gap * 0.25;\n\t\t\t\tbreak;\n\t\t\tcase 'n':\n\t\t\t\tlatH -= (latH - latL) * 0.75;\n\t\t\t\tgap = lngH - lngL;\n\t\t\t\tlngL += gap * 0.75;\n\t\t\t\tlngH -= gap * 0.125;\n\t\t\t\tbreak;\n\t\t\tcase 'p':\n\t\t\t\tlatH -= (latH - latL) * 0.75;\n\t\t\t\tlngL += (lngH - lngL) * 0.875;\n\t\t\t\tbreak;\n\t\t\tcase 'q':\n\t\t\t\tgap = latH - latL;\n\t\t\t\tlatL += gap * 0.25;\n\t\t\t\tlatH -= gap * 0.5;\n\t\t\t\tgap = lngH - lngL;\n\t\t\t\tlngL += gap * 0.75;\n\t\t\t\tlngH -= gap * 0.125;\n\t\t\t\tbreak;\n\t\t\tcase 'r':\n\t\t\t\tgap = latH - latL;\n\t\t\t\tlatL += gap * 0.25;\n\t\t\t\tlatH -= gap * 0.5;\n\t\t\t\tlngL += (lngH - lngL) * 0.875;\n\t\t\t\tbreak;\n\t\t\tcase 's':\n\t\t\t\tgap = latH - latL;\n\t\t\t\tlatL += gap * 0.5;\n\t\t\t\tlatH -= gap * 0.25;\n\t\t\t\tgap = lngH - lngL;\n\t\t\t\tlngL += gap * 0.5;\n\t\t\t\tlngH -= gap * 0.375;\n\t\t\t\tbreak;\n\t\t\tcase 't':\n\t\t\t\tgap = latH - latL;\n\t\t\t\tlatL += gap * 0.5;\n\t\t\t\tlatH -= gap * 0.25;\n\t\t\t\tgap = lngH - lngL;\n\t\t\t\tlngL += gap * 0.625;\n\t\t\t\tlngH -= gap * 0.25;\n\t\t\t\tbreak;\n\t\t\tcase 'u':\n\t\t\t\tlatL += (latH - latL) * 0.75;\n\t\t\t\tgap = lngH - lngL;\n\t\t\t\tlngL += gap * 0.5;\n\t\t\t\tlngH -= gap * 0.375;\n\t\t\t\tbreak;\n\t\t\tcase 'v':\n\t\t\t\tlatL += (latH - latL) * 0.75;\n\t\t\t\tgap = lngH - lngL;\n\t\t\t\tlngL += gap * 0.625;\n\t\t\t\tlngH -= gap * 0.25;\n\t\t\t\tbreak;\n\t\t\tcase 'w':\n\t\t\t\tgap = latH - latL;\n\t\t\t\tlatL += gap * 0.5;\n\t\t\t\tlatH -= gap * 0.25;\n\t\t\t\tgap = lngH - lngL;\n\t\t\t\tlngL += gap * 0.75;\n\t\t\t\tlngH -= gap * 0.125;\n\t\t\t\tbreak;\n\t\t\tcase 'x':\n\t\t\t\tgap = latH - latL;\n\t\t\t\tlatL += gap * 0.5;\n\t\t\t\tlatH -= gap * 0.25;\n\t\t\t\tlngL += (lngH - lngL) * 0.875;\n\t\t\t\tbreak;\n\t\t\tcase 'y':\n\t\t\t\tlatL += (latH - latL) * 0.75;\n\t\t\t\tgap = lngH - lngL;\n\t\t\t\tlngL += gap * 0.75;\n\t\t\t\tlngH -= gap * 0.125;\n\t\t\t\tbreak;\n\t\t\tcase 'z':\n\t\t\t\tlatL += (latH - latL) * 0.75;\n\t\t\t\tlngL += (lngH - lngL) * 0.875;\n\t\t\t\tbreak;\n\t\t\t}\t\t\tswitch (geohash.charAt(i++)) {\n\t\t\tcase '0':\n\t\t\t\tlatH -= (latH - latL) * 0.875;\n\t\t\t\tlngH -= (lngH - lngL) * 0.75;\n\t\t\t\tbreak;\n\t\t\tcase '1':\n\t\t\t\tgap = latH - latL;\n\t\t\t\tlatL += gap * 0.125;\n\t\t\t\tlatH -= gap * 0.75;\n\t\t\t\tlngH -= (lngH - lngL) * 0.75;\n\t\t\t\tbreak;\n\t\t\tcase '2':\n\t\t\t\tlatH -= (latH - latL) * 0.875;\n\t\t\t\tgap = lngH - lngL;\n\t\t\t\tlngL += gap * 0.25;\n\t\t\t\tlngH -= gap * 0.5;\n\t\t\t\tbreak;\n\t\t\tcase '3':\n\t\t\t\tgap = latH - latL;\n\t\t\t\tlatL += gap * 0.125;\n\t\t\t\tlatH -= gap * 0.75;\n\t\t\t\tgap = lngH - lngL;\n\t\t\t\tlngL += gap * 0.25;\n\t\t\t\tlngH -= gap * 0.5;\n\t\t\t\tbreak;\n\t\t\tcase '4':\n\t\t\t\tgap = latH - latL;\n\t\t\t\tlatL += gap * 0.25;\n\t\t\t\tlatH -= gap * 0.625;\n\t\t\t\tlngH -= (lngH - lngL) * 0.75;\n\t\t\t\tbreak;\n\t\t\tcase '5':\n\t\t\t\tgap = latH - latL;\n\t\t\t\tlatL += gap * 0.375;\n\t\t\t\tlatH -= gap * 0.5;\n\t\t\t\tlngH -= (lngH - lngL) * 0.75;\n\t\t\t\tbreak;\n\t\t\tcase '6':\n\t\t\t\tgap = latH - latL;\n\t\t\t\tlatL += gap * 0.25;\n\t\t\t\tlatH -= gap * 0.625;\n\t\t\t\tgap = lngH - lngL;\n\t\t\t\tlngL += gap * 0.25;\n\t\t\t\tlngH -= gap * 0.5;\n\t\t\t\tbreak;\n\t\t\tcase '7':\n\t\t\t\tgap = latH - latL;\n\t\t\t\tlatL += gap * 0.375;\n\t\t\t\tlatH -= gap * 0.5;\n\t\t\t\tgap = lngH - lngL;\n\t\t\t\tlngL += gap * 0.25;\n\t\t\t\tlngH -= gap * 0.5;\n\t\t\t\tbreak;\n\t\t\tcase '8':\n\t\t\t\tlatH -= (latH - latL) * 0.875;\n\t\t\t\tgap = lngH - lngL;\n\t\t\t\tlngL += gap * 0.5;\n\t\t\t\tlngH -= gap * 0.25;\n\t\t\t\tbreak;\n\t\t\tcase '9':\n\t\t\t\tgap = latH - latL;\n\t\t\t\tlatL += gap * 0.125;\n\t\t\t\tlatH -= gap * 0.75;\n\t\t\t\tgap = lngH - lngL;\n\t\t\t\tlngL += gap * 0.5;\n\t\t\t\tlngH -= gap * 0.25;\n\t\t\t\tbreak;\n\t\t\tcase 'b':\n\t\t\t\tlatH -= (latH - latL) * 0.875;\n\t\t\t\tlngL += (lngH - lngL) * 0.75;\n\t\t\t\tbreak;\n\t\t\tcase 'c':\n\t\t\t\tgap = latH - latL;\n\t\t\t\tlatL += gap * 0.125;\n\t\t\t\tlatH -= gap * 0.75;\n\t\t\t\tlngL += (lngH - lngL) * 0.75;\n\t\t\t\tbreak;\n\t\t\tcase 'd':\n\t\t\t\tgap = latH - latL;\n\t\t\t\tlatL += gap * 0.25;\n\t\t\t\tlatH -= gap * 0.625;\n\t\t\t\tgap = lngH - lngL;\n\t\t\t\tlngL += gap * 0.5;\n\t\t\t\tlngH -= gap * 0.25;\n\t\t\t\tbreak;\n\t\t\tcase 'e':\n\t\t\t\tgap = latH - latL;\n\t\t\t\tlatL += gap * 0.375;\n\t\t\t\tlatH -= gap * 0.5;\n\t\t\t\tgap = lngH - lngL;\n\t\t\t\tlngL += gap * 0.5;\n\t\t\t\tlngH -= gap * 0.25;\n\t\t\t\tbreak;\n\t\t\tcase 'f':\n\t\t\t\tgap = latH - latL;\n\t\t\t\tlatL += gap * 0.25;\n\t\t\t\tlatH -= gap * 0.625;\n\t\t\t\tlngL += (lngH - lngL) * 0.75;\n\t\t\t\tbreak;\n\t\t\tcase 'g':\n\t\t\t\tgap = latH - latL;\n\t\t\t\tlatL += gap * 0.375;\n\t\t\t\tlatH -= gap * 0.5;\n\t\t\t\tlngL += (lngH - lngL) * 0.75;\n\t\t\t\tbreak;\n\t\t\tcase 'h':\n\t\t\t\tgap = latH - latL;\n\t\t\t\tlatL += gap * 0.5;\n\t\t\t\tlatH -= gap * 0.375;\n\t\t\t\tlngH -= (lngH - lngL) * 0.75;\n\t\t\t\tbreak;\n\t\t\tcase 'j':\n\t\t\t\tgap = latH - latL;\n\t\t\t\tlatL += gap * 0.625;\n\t\t\t\tlatH -= gap * 0.25;\n\t\t\t\tlngH -= (lngH - lngL) * 0.75;\n\t\t\t\tbreak;\n\t\t\tcase 'k':\n\t\t\t\tgap = latH - latL;\n\t\t\t\tlatL += gap * 0.5;\n\t\t\t\tlatH -= gap * 0.375;\n\t\t\t\tgap = lngH - lngL;\n\t\t\t\tlngL += gap * 0.25;\n\t\t\t\tlngH -= gap * 0.5;\n\t\t\t\tbreak;\n\t\t\tcase 'm':\n\t\t\t\tgap = latH - latL;\n\t\t\t\tlatL += gap * 0.625;\n\t\t\t\tlatH -= gap * 0.25;\n\t\t\t\tgap = lngH - lngL;\n\t\t\t\tlngL += gap * 0.25;\n\t\t\t\tlngH -= gap * 0.5;\n\t\t\t\tbreak;\n\t\t\tcase 'n':\n\t\t\t\tgap = latH - latL;\n\t\t\t\tlatL += gap * 0.75;\n\t\t\t\tlatH -= gap * 0.125;\n\t\t\t\tlngH -= (lngH - lngL) * 0.75;\n\t\t\t\tbreak;\n\t\t\tcase 'p':\n\t\t\t\tlatL += (latH - latL) * 0.875;\n\t\t\t\tlngH -= (lngH - lngL) * 0.75;\n\t\t\t\tbreak;\n\t\t\tcase 'q':\n\t\t\t\tgap = latH - latL;\n\t\t\t\tlatL += gap * 0.75;\n\t\t\t\tlatH -= gap * 0.125;\n\t\t\t\tgap = lngH - lngL;\n\t\t\t\tlngL += gap * 0.25;\n\t\t\t\tlngH -= gap * 0.5;\n\t\t\t\tbreak;\n\t\t\tcase 'r':\n\t\t\t\tlatL += (latH - latL) * 0.875;\n\t\t\t\tgap = lngH - lngL;\n\t\t\t\tlngL += gap * 0.25;\n\t\t\t\tlngH -= gap * 0.5;\n\t\t\t\tbreak;\n\t\t\tcase 's':\n\t\t\t\tgap = latH - latL;\n\t\t\t\tlatL += gap * 0.5;\n\t\t\t\tlatH -= gap * 0.375;\n\t\t\t\tgap = lngH - lngL;\n\t\t\t\tlngL += gap * 0.5;\n\t\t\t\tlngH -= gap * 0.25;\n\t\t\t\tbreak;\n\t\t\tcase 't':\n\t\t\t\tgap = latH - latL;\n\t\t\t\tlatL += gap * 0.625;\n\t\t\t\tlatH -= gap * 0.25;\n\t\t\t\tgap = lngH - lngL;\n\t\t\t\tlngL += gap * 0.5;\n\t\t\t\tlngH -= gap * 0.25;\n\t\t\t\tbreak;\n\t\t\tcase 'u':\n\t\t\t\tgap = latH - latL;\n\t\t\t\tlatL += gap * 0.5;\n\t\t\t\tlatH -= gap * 0.375;\n\t\t\t\tlngL += (lngH - lngL) * 0.75;\n\t\t\t\tbreak;\n\t\t\tcase 'v':\n\t\t\t\tgap = latH - latL;\n\t\t\t\tlatL += gap * 0.625;\n\t\t\t\tlatH -= gap * 0.25;\n\t\t\t\tlngL += (lngH - lngL) * 0.75;\n\t\t\t\tbreak;\n\t\t\tcase 'w':\n\t\t\t\tgap = latH - latL;\n\t\t\t\tlatL += gap * 0.75;\n\t\t\t\tlatH -= gap * 0.125;\n\t\t\t\tgap = lngH - lngL;\n\t\t\t\tlngL += gap * 0.5;\n\t\t\t\tlngH -= gap * 0.25;\n\t\t\t\tbreak;\n\t\t\tcase 'x':\n\t\t\t\tlatL += (latH - latL) * 0.875;\n\t\t\t\tgap = lngH - lngL;\n\t\t\t\tlngL += gap * 0.5;\n\t\t\t\tlngH -= gap * 0.25;\n\t\t\t\tbreak;\n\t\t\tcase 'y':\n\t\t\t\tgap = latH - latL;\n\t\t\t\tlatL += gap * 0.75;\n\t\t\t\tlatH -= gap * 0.125;\n\t\t\t\tlngL += (lngH - lngL) * 0.75;\n\t\t\t\tbreak;\n\t\t\tcase 'z':\n\t\t\t\tlatL += (latH - latL) * 0.875;\n\t\t\t\tlngL += (lngH - lngL) * 0.75;\n\t\t\t\tbreak;\n\t\t\t}\t\t} \n\t\treturn new double[] \n{ (latL + latH) / 2D, (lngL + lngH) / 2D }\n;\n\t}",
    "attachments": {},
    "issue_links": {},
    "comments": [
        {
            "date": "2011-03-11T14:45:10+0000",
            "content": "The proper way to propose a code improvement is to post a patch file.  Please do so and then we'll discuss.\nFYI I already made some performance tweaks to encode/decode as part of SOLR-2155 ",
            "author": "David Smiley",
            "id": "comment-13005655"
        }
    ]
}