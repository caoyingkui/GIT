{
    "id": "SOLR-3620",
    "title": "Almost every test relating to cloud hangs since July 12, 2012",
    "details": {
        "affect_versions": "None",
        "status": "Closed",
        "fix_versions": [
            "4.0-BETA",
            "6.0"
        ],
        "components": [
            "SolrCloud"
        ],
        "type": "Bug",
        "priority": "Blocker",
        "labels": "",
        "resolution": "Fixed"
    },
    "description": "I have no idea, but please review the posts on the de@lao mailing list today!",
    "attachments": {},
    "issue_links": {},
    "comments": [
        {
            "author": "Mark Miller",
            "id": "comment-13413842",
            "date": "2012-07-13T16:03:54+0000",
            "content": "Hmm...I'll take a look. I committed some stuff so I have been keeping an eye on things with CCMenu - but its almost all green.  "
        },
        {
            "author": "Mark Miller",
            "id": "comment-13413873",
            "date": "2012-07-13T17:01:38+0000",
            "content": "I think I have a handle on the issue. Some of my test improvements have made it so one test ends up with a lot more SolrCores in a CoreContainer than would happen in the past, and I think that has made it easier for this existing issue to be seen.\n\nI'm working on it. "
        },
        {
            "author": "Mark Miller",
            "id": "comment-13413936",
            "date": "2012-07-13T18:23:46+0000",
            "content": "I've committed an attempted fix.\n\nFrom what I can tell this is a shutdown deadlock issue that involves recovery threads.\n\nWhen a SolrCore hits a ref count of 0 (its closed by everyone using it) it will try and cancel any recovery thread.\n\nThis is bad if it happens when a lock on 'CoreContainer#cores' is held. You can end up with a deadlock of waiting. This only happens in CoreContainer#shutdown that I know of. It holds the cores lock and calls close on all the cores. This could cause a recovery to be canceled. That sequence is what can lead to deadlock. We defend against this by canceling all recoveries before getting the cores lock in CoreContainer#shutdown. We do that for just this case. Otherwise, the 'cores' lock will be held when calling SolrCore#close which could trigger a recovery cancel (because the ref count hits 0) which waits for the recovery thread to finish ('#join'). But the recovery thread could be in the middle of trying to recover - where it sometimes gets a core from the CoreContainer which uses the 'cores' lock. It's waiting for #shutdown to give up that lock while #shutdown waits for it to finish its loop and die.\n\nSo how is it happening here? And why did a collections API commit to improve tests and add a RELOAD command expose this?\n\nFirst, the only reason I can think of how this could be happening even with our little defense cancelRecovery loop is that somehow a recovery is then getting kicked off again before shutdown completes.\n\nSo the fix I have tried is to add a bit of code to make sure recoveries do not start after the CoreContainer#shutdown method starts. Hopefully that plugs this.\n\nIf that is indeed the issue, this problem existed, and the new beefed up collections api test exposed it because its a test that uses more SolrCores in a single instance than most any other test. With more cores trying to recover during shutdown, I think it's easier to expose this deadlock situation.\n\nThat's my initial guess and fix attempt. "
        },
        {
            "author": "Uwe Schindler",
            "id": "comment-13414728",
            "date": "2012-07-15T18:01:46+0000",
            "content": "Hi, your last commit readding some code broke it again. 16 hrs doing nothing:\n\n\n[junit4:junit4] >>> JVM J1: stdout (verbatim) ----\n[junit4:junit4] 2012-07-15 17:47:22\n[junit4:junit4] Full thread dump Java HotSpot(TM) 64-Bit Server VM (23.0-b21 mixed mode):\n[junit4:junit4] \n[junit4:junit4] \"RecoveryThread\" daemon prio=10 tid=0x00007f90f0622800 nid=0x606c waiting for monitor entry [0x00007f90d9e1f000]\n[junit4:junit4]    java.lang.Thread.State: BLOCKED (on object monitor)\n[junit4:junit4] \tat org.apache.solr.core.CoreContainer.getCore(CoreContainer.java:1018)\n[junit4:junit4] \t- waiting to lock <0x00000000de8c1330> (a java.util.LinkedHashMap)\n[junit4:junit4] \tat org.apache.solr.cloud.RecoveryStrategy.run(RecoveryStrategy.java:195)\n[junit4:junit4] \n[junit4:junit4] \"Thread-453\" daemon prio=10 tid=0x00007f90f0213000 nid=0x6064 waiting on condition [0x00007f90d8a0b000]\n[junit4:junit4]    java.lang.Thread.State: WAITING (parking)\n[junit4:junit4] \tat sun.misc.Unsafe.park(Native Method)\n[junit4:junit4] \t- parking to wait for  <0x00000000e63347d8> (a java.util.concurrent.CountDownLatch$Sync)\n[junit4:junit4] \tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:834)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireSharedInterruptibly(AbstractQueuedSynchronizer.java:994)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireSharedInterruptibly(AbstractQueuedSynchronizer.java:1303)\n[junit4:junit4] \tat java.util.concurrent.CountDownLatch.await(CountDownLatch.java:236)\n[junit4:junit4] \tat org.apache.solr.cloud.DistributedQueue$LatchChildWatcher.await(DistributedQueue.java:185)\n[junit4:junit4] \tat org.apache.solr.cloud.DistributedQueue.peek(DistributedQueue.java:291)\n[junit4:junit4] \tat org.apache.solr.cloud.OverseerCollectionProcessor.run(OverseerCollectionProcessor.java:81)\n[junit4:junit4] \tat java.lang.Thread.run(Thread.java:722)\n[junit4:junit4] \n[junit4:junit4] \"Thread-452\" daemon prio=10 tid=0x00007f90f0072800 nid=0x6063 waiting on condition [0x00007f90d8708000]\n[junit4:junit4]    java.lang.Thread.State: TIMED_WAITING (sleeping)\n[junit4:junit4] \tat java.lang.Thread.sleep(Native Method)\n[junit4:junit4] \tat org.apache.solr.cloud.Overseer$CloudStateUpdater.run(Overseer.java:153)\n[junit4:junit4] \tat java.lang.Thread.run(Thread.java:722)\n[junit4:junit4] \n[junit4:junit4] \"Thread-451\" daemon prio=10 tid=0x00007f90f05ce800 nid=0x6059 waiting on condition [0x00007f90d65e7000]\n[junit4:junit4]    java.lang.Thread.State: WAITING (parking)\n[junit4:junit4] \tat sun.misc.Unsafe.park(Native Method)\n[junit4:junit4] \t- parking to wait for  <0x00000000e6334938> (a java.util.concurrent.CountDownLatch$Sync)\n[junit4:junit4] \tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:834)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireSharedInterruptibly(AbstractQueuedSynchronizer.java:994)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireSharedInterruptibly(AbstractQueuedSynchronizer.java:1303)\n[junit4:junit4] \tat java.util.concurrent.CountDownLatch.await(CountDownLatch.java:236)\n[junit4:junit4] \tat org.apache.solr.cloud.DistributedQueue$LatchChildWatcher.await(DistributedQueue.java:185)\n[junit4:junit4] \tat org.apache.solr.cloud.DistributedQueue.peek(DistributedQueue.java:291)\n[junit4:junit4] \tat org.apache.solr.cloud.OverseerCollectionProcessor.run(OverseerCollectionProcessor.java:81)\n[junit4:junit4] \tat java.lang.Thread.run(Thread.java:722)\n[junit4:junit4] \n[junit4:junit4] \"pool-356-thread-1\" prio=10 tid=0x00007f90f05d7800 nid=0x5fff waiting on condition [0x00007f90d54d6000]\n[junit4:junit4]    java.lang.Thread.State: WAITING (parking)\n[junit4:junit4] \tat sun.misc.Unsafe.park(Native Method)\n[junit4:junit4] \t- parking to wait for  <0x00000000eada77f8> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n[junit4:junit4] \tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2043)\n[junit4:junit4] \tat java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1043)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1103)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\n[junit4:junit4] \tat java.lang.Thread.run(Thread.java:722)\n[junit4:junit4] \n[junit4:junit4] \"pool-350-thread-1\" prio=10 tid=0x00007f90f03d9000 nid=0x5ffc waiting on condition [0x00007f90d76f8000]\n[junit4:junit4]    java.lang.Thread.State: WAITING (parking)\n[junit4:junit4] \tat sun.misc.Unsafe.park(Native Method)\n[junit4:junit4] \t- parking to wait for  <0x00000000eada57f8> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n[junit4:junit4] \tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2043)\n[junit4:junit4] \tat java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1043)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1103)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\n[junit4:junit4] \tat java.lang.Thread.run(Thread.java:722)\n[junit4:junit4] \n[junit4:junit4] \"qtp1140126667-1093\" prio=10 tid=0x00007f90f05c1800 nid=0x5ff7 waiting on condition [0x00007f90d59db000]\n[junit4:junit4]    java.lang.Thread.State: TIMED_WAITING (parking)\n[junit4:junit4] \tat sun.misc.Unsafe.park(Native Method)\n[junit4:junit4] \t- parking to wait for  <0x00000000dd9a7700> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n[junit4:junit4] \tat java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:226)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2082)\n[junit4:junit4] \tat org.eclipse.jetty.util.BlockingArrayQueue.poll(BlockingArrayQueue.java:337)\n[junit4:junit4] \tat org.eclipse.jetty.util.thread.QueuedThreadPool.idleJobPoll(QueuedThreadPool.java:517)\n[junit4:junit4] \tat org.eclipse.jetty.util.thread.QueuedThreadPool.access$600(QueuedThreadPool.java:39)\n[junit4:junit4] \tat org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:563)\n[junit4:junit4] \tat java.lang.Thread.run(Thread.java:722)\n[junit4:junit4] \n[junit4:junit4] \"pool-341-thread-1\" prio=10 tid=0x00007f90f03d2000 nid=0x5ff1 waiting on condition [0x00007f90d7cfe000]\n[junit4:junit4]    java.lang.Thread.State: WAITING (parking)\n[junit4:junit4] \tat sun.misc.Unsafe.park(Native Method)\n[junit4:junit4] \t- parking to wait for  <0x00000000de29d028> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n[junit4:junit4] \tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2043)\n[junit4:junit4] \tat java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1043)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1103)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\n[junit4:junit4] \tat java.lang.Thread.run(Thread.java:722)\n[junit4:junit4] \n[junit4:junit4] \"pool-340-thread-1\" prio=10 tid=0x00007f90f03d3800 nid=0x5ff0 waiting on condition [0x00007f90d7bfd000]\n[junit4:junit4]    java.lang.Thread.State: WAITING (parking)\n[junit4:junit4] \tat sun.misc.Unsafe.park(Native Method)\n[junit4:junit4] \t- parking to wait for  <0x00000000de29d190> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n[junit4:junit4] \tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2043)\n[junit4:junit4] \tat java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1043)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1103)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\n[junit4:junit4] \tat java.lang.Thread.run(Thread.java:722)\n[junit4:junit4] \n[junit4:junit4] \"pool-329-thread-1\" prio=10 tid=0x00007f90f0374000 nid=0x5fe3 waiting on condition [0x00007f91acc94000]\n[junit4:junit4]    java.lang.Thread.State: WAITING (parking)\n[junit4:junit4] \tat sun.misc.Unsafe.park(Native Method)\n[junit4:junit4] \t- parking to wait for  <0x00000000dfa22ef8> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n[junit4:junit4] \tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2043)\n[junit4:junit4] \tat java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1043)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1103)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\n[junit4:junit4] \tat java.lang.Thread.run(Thread.java:722)\n[junit4:junit4] \n[junit4:junit4] \"pool-325-thread-1\" prio=10 tid=0x00007f90f041c000 nid=0x5fe2 waiting on condition [0x00007f90d79fb000]\n[junit4:junit4]    java.lang.Thread.State: WAITING (parking)\n[junit4:junit4] \tat sun.misc.Unsafe.park(Native Method)\n[junit4:junit4] \t- parking to wait for  <0x00000000ed5d5f68> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n[junit4:junit4] \tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2043)\n[junit4:junit4] \tat java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1043)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1103)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\n[junit4:junit4] \tat java.lang.Thread.run(Thread.java:722)\n[junit4:junit4] \n[junit4:junit4] \"qtp1983231457-1072\" prio=10 tid=0x00007f90f0421800 nid=0x5fdd waiting on condition [0x00007f90d66e8000]\n[junit4:junit4]    java.lang.Thread.State: TIMED_WAITING (parking)\n[junit4:junit4] \tat sun.misc.Unsafe.park(Native Method)\n[junit4:junit4] \t- parking to wait for  <0x00000000dd551660> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n[junit4:junit4] \tat java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:226)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2082)\n[junit4:junit4] \tat org.eclipse.jetty.util.BlockingArrayQueue.poll(BlockingArrayQueue.java:337)\n[junit4:junit4] \tat org.eclipse.jetty.util.thread.QueuedThreadPool.idleJobPoll(QueuedThreadPool.java:517)\n[junit4:junit4] \tat org.eclipse.jetty.util.thread.QueuedThreadPool.access$600(QueuedThreadPool.java:39)\n[junit4:junit4] \tat org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:563)\n[junit4:junit4] \tat java.lang.Thread.run(Thread.java:722)\n[junit4:junit4] \n[junit4:junit4] \"qtp1983231457-1071\" prio=10 tid=0x00007f90f0420000 nid=0x5fdc waiting on condition [0x00007f90d67e9000]\n[junit4:junit4]    java.lang.Thread.State: TIMED_WAITING (parking)\n[junit4:junit4] \tat sun.misc.Unsafe.park(Native Method)\n[junit4:junit4] \t- parking to wait for  <0x00000000dd551660> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n[junit4:junit4] \tat java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:226)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2082)\n[junit4:junit4] \tat org.eclipse.jetty.util.BlockingArrayQueue.poll(BlockingArrayQueue.java:337)\n[junit4:junit4] \tat org.eclipse.jetty.util.thread.QueuedThreadPool.idleJobPoll(QueuedThreadPool.java:517)\n[junit4:junit4] \tat org.eclipse.jetty.util.thread.QueuedThreadPool.access$600(QueuedThreadPool.java:39)\n[junit4:junit4] \tat org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:563)\n[junit4:junit4] \tat java.lang.Thread.run(Thread.java:722)\n[junit4:junit4] \n[junit4:junit4] \"pool-319-thread-1\" prio=10 tid=0x00007f90f0418000 nid=0x5fd8 waiting on condition [0x00007f90d6bed000]\n[junit4:junit4]    java.lang.Thread.State: WAITING (parking)\n[junit4:junit4] \tat sun.misc.Unsafe.park(Native Method)\n[junit4:junit4] \t- parking to wait for  <0x00000000ed2b68b8> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n[junit4:junit4] \tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2043)\n[junit4:junit4] \tat java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1043)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1103)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\n[junit4:junit4] \tat java.lang.Thread.run(Thread.java:722)\n[junit4:junit4] \n[junit4:junit4] \"pool-313-thread-1\" prio=10 tid=0x00007f90f0346000 nid=0x5fd6 waiting on condition [0x00007f90db4f3000]\n[junit4:junit4]    java.lang.Thread.State: WAITING (parking)\n[junit4:junit4] \tat sun.misc.Unsafe.park(Native Method)\n[junit4:junit4] \t- parking to wait for  <0x00000000ed2b3188> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n[junit4:junit4] \tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2043)\n[junit4:junit4] \tat java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1043)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1103)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\n[junit4:junit4] \tat java.lang.Thread.run(Thread.java:722)\n[junit4:junit4] \n[junit4:junit4] \"qtp1140126667-1064\" prio=10 tid=0x00007f90f0406000 nid=0x5fd4 waiting on condition [0x00007f90d6def000]\n[junit4:junit4]    java.lang.Thread.State: TIMED_WAITING (parking)\n[junit4:junit4] \tat sun.misc.Unsafe.park(Native Method)\n[junit4:junit4] \t- parking to wait for  <0x00000000dd9a7700> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n[junit4:junit4] \tat java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:226)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2082)\n[junit4:junit4] \tat org.eclipse.jetty.util.BlockingArrayQueue.poll(BlockingArrayQueue.java:337)\n[junit4:junit4] \tat org.eclipse.jetty.util.thread.QueuedThreadPool.idleJobPoll(QueuedThreadPool.java:517)\n[junit4:junit4] \tat org.eclipse.jetty.util.thread.QueuedThreadPool.access$600(QueuedThreadPool.java:39)\n[junit4:junit4] \tat org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:563)\n[junit4:junit4] \tat java.lang.Thread.run(Thread.java:722)\n[junit4:junit4] \n[junit4:junit4] \"qtp1983231457-1060\" prio=10 tid=0x00007f90f040a000 nid=0x5fd0 waiting on condition [0x00007f90d6ff1000]\n[junit4:junit4]    java.lang.Thread.State: TIMED_WAITING (parking)\n[junit4:junit4] \tat sun.misc.Unsafe.park(Native Method)\n[junit4:junit4] \t- parking to wait for  <0x00000000dd551660> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n[junit4:junit4] \tat java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:226)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2082)\n[junit4:junit4] \tat org.eclipse.jetty.util.BlockingArrayQueue.poll(BlockingArrayQueue.java:337)\n[junit4:junit4] \tat org.eclipse.jetty.util.thread.QueuedThreadPool.idleJobPoll(QueuedThreadPool.java:517)\n[junit4:junit4] \tat org.eclipse.jetty.util.thread.QueuedThreadPool.access$600(QueuedThreadPool.java:39)\n[junit4:junit4] \tat org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:563)\n[junit4:junit4] \tat java.lang.Thread.run(Thread.java:722)\n[junit4:junit4] \n[junit4:junit4] \"qtp1983231457-1059\" prio=10 tid=0x00007f90f0408000 nid=0x5fcf waiting on condition [0x00007f90d70f2000]\n[junit4:junit4]    java.lang.Thread.State: TIMED_WAITING (parking)\n[junit4:junit4] \tat sun.misc.Unsafe.park(Native Method)\n[junit4:junit4] \t- parking to wait for  <0x00000000dd551660> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n[junit4:junit4] \tat java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:226)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2082)\n[junit4:junit4] \tat org.eclipse.jetty.util.BlockingArrayQueue.poll(BlockingArrayQueue.java:337)\n[junit4:junit4] \tat org.eclipse.jetty.util.thread.QueuedThreadPool.idleJobPoll(QueuedThreadPool.java:517)\n[junit4:junit4] \tat org.eclipse.jetty.util.thread.QueuedThreadPool.access$600(QueuedThreadPool.java:39)\n[junit4:junit4] \tat org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:563)\n[junit4:junit4] \tat java.lang.Thread.run(Thread.java:722)\n[junit4:junit4] \n[junit4:junit4] \"pool-307-thread-1\" prio=10 tid=0x00007f90f03f0800 nid=0x5fc9 waiting on condition [0x00007f90d74f6000]\n[junit4:junit4]    java.lang.Thread.State: WAITING (parking)\n[junit4:junit4] \tat sun.misc.Unsafe.park(Native Method)\n[junit4:junit4] \t- parking to wait for  <0x00000000e88aea58> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n[junit4:junit4] \tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2043)\n[junit4:junit4] \tat java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1043)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1103)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\n[junit4:junit4] \tat java.lang.Thread.run(Thread.java:722)\n[junit4:junit4] \n[junit4:junit4] \"pool-296-thread-1\" prio=10 tid=0x00007f90f039a000 nid=0x5fc1 waiting on condition [0x00007f90d8c0d000]\n[junit4:junit4]    java.lang.Thread.State: WAITING (parking)\n[junit4:junit4] \tat sun.misc.Unsafe.park(Native Method)\n[junit4:junit4] \t- parking to wait for  <0x00000000e3e18068> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n[junit4:junit4] \tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2043)\n[junit4:junit4] \tat java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1043)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1103)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\n[junit4:junit4] \tat java.lang.Thread.run(Thread.java:722)\n[junit4:junit4] \n[junit4:junit4] \"pool-295-thread-1\" prio=10 tid=0x00007f90f01ea800 nid=0x5fc0 waiting on condition [0x00007f90d8b0c000]\n[junit4:junit4]    java.lang.Thread.State: WAITING (parking)\n[junit4:junit4] \tat sun.misc.Unsafe.park(Native Method)\n[junit4:junit4] \t- parking to wait for  <0x00000000e3e16068> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n[junit4:junit4] \tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2043)\n[junit4:junit4] \tat java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1043)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1103)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\n[junit4:junit4] \tat java.lang.Thread.run(Thread.java:722)\n[junit4:junit4] \n[junit4:junit4] \"qtp1983231457-1043\" prio=10 tid=0x00007f90f03dd000 nid=0x5fba waiting on condition [0x00007f90d7afc000]\n[junit4:junit4]    java.lang.Thread.State: TIMED_WAITING (parking)\n[junit4:junit4] \tat sun.misc.Unsafe.park(Native Method)\n[junit4:junit4] \t- parking to wait for  <0x00000000dd551660> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n[junit4:junit4] \tat java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:226)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2082)\n[junit4:junit4] \tat org.eclipse.jetty.util.BlockingArrayQueue.poll(BlockingArrayQueue.java:337)\n[junit4:junit4] \tat org.eclipse.jetty.util.thread.QueuedThreadPool.idleJobPoll(QueuedThreadPool.java:517)\n[junit4:junit4] \tat org.eclipse.jetty.util.thread.QueuedThreadPool.access$600(QueuedThreadPool.java:39)\n[junit4:junit4] \tat org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:563)\n[junit4:junit4] \tat java.lang.Thread.run(Thread.java:722)\n[junit4:junit4] \n[junit4:junit4] \"pool-289-thread-1\" prio=10 tid=0x00007f90f03d6800 nid=0x5fb5 waiting on condition [0x00007f90d7dff000]\n[junit4:junit4]    java.lang.Thread.State: WAITING (parking)\n[junit4:junit4] \tat sun.misc.Unsafe.park(Native Method)\n[junit4:junit4] \t- parking to wait for  <0x00000000ec6cb148> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n[junit4:junit4] \tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2043)\n[junit4:junit4] \tat java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1043)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1103)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\n[junit4:junit4] \tat java.lang.Thread.run(Thread.java:722)\n[junit4:junit4] \n[junit4:junit4] \"pool-280-thread-1\" prio=10 tid=0x00007f90f03c3800 nid=0x5fb2 waiting on condition [0x00007f90d8102000]\n[junit4:junit4]    java.lang.Thread.State: WAITING (parking)\n[junit4:junit4] \tat sun.misc.Unsafe.park(Native Method)\n[junit4:junit4] \t- parking to wait for  <0x00000000ec6cb418> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n[junit4:junit4] \tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2043)\n[junit4:junit4] \tat java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1043)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1103)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\n[junit4:junit4] \tat java.lang.Thread.run(Thread.java:722)\n[junit4:junit4] \n[junit4:junit4] \"qtp1140126667-1036\" prio=10 tid=0x00007f90f03c2000 nid=0x5fb0 waiting on condition [0x00007f90d8203000]\n[junit4:junit4]    java.lang.Thread.State: TIMED_WAITING (parking)\n[junit4:junit4] \tat sun.misc.Unsafe.park(Native Method)\n[junit4:junit4] \t- parking to wait for  <0x00000000dd9a7700> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n[junit4:junit4] \tat java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:226)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2082)\n[junit4:junit4] \tat org.eclipse.jetty.util.BlockingArrayQueue.poll(BlockingArrayQueue.java:337)\n[junit4:junit4] \tat org.eclipse.jetty.util.thread.QueuedThreadPool.idleJobPoll(QueuedThreadPool.java:517)\n[junit4:junit4] \tat org.eclipse.jetty.util.thread.QueuedThreadPool.access$600(QueuedThreadPool.java:39)\n[junit4:junit4] \tat org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:563)\n[junit4:junit4] \tat java.lang.Thread.run(Thread.java:722)\n[junit4:junit4] \n[junit4:junit4] \"pool-269-thread-1\" prio=10 tid=0x00007f90f033f800 nid=0x5fa9 waiting on condition [0x00007f91ac28a000]\n[junit4:junit4]    java.lang.Thread.State: WAITING (parking)\n[junit4:junit4] \tat sun.misc.Unsafe.park(Native Method)\n[junit4:junit4] \t- parking to wait for  <0x00000000e76b2fc8> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n[junit4:junit4] \tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2043)\n[junit4:junit4] \tat java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1043)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1103)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\n[junit4:junit4] \tat java.lang.Thread.run(Thread.java:722)\n[junit4:junit4] \n[junit4:junit4] \"pool-268-thread-1\" prio=10 tid=0x00007f90f01f0000 nid=0x5fa8 waiting on condition [0x00007f91ad3ba000]\n[junit4:junit4]    java.lang.Thread.State: WAITING (parking)\n[junit4:junit4] \tat sun.misc.Unsafe.park(Native Method)\n[junit4:junit4] \t- parking to wait for  <0x00000000e76bc998> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n[junit4:junit4] \tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2043)\n[junit4:junit4] \tat java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1043)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1103)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\n[junit4:junit4] \tat java.lang.Thread.run(Thread.java:722)\n[junit4:junit4] \n[junit4:junit4] \"pool-258-thread-1\" prio=10 tid=0x00007f90f002b000 nid=0x5f9e waiting on condition [0x00007f90db3f2000]\n[junit4:junit4]    java.lang.Thread.State: WAITING (parking)\n[junit4:junit4] \tat sun.misc.Unsafe.park(Native Method)\n[junit4:junit4] \t- parking to wait for  <0x00000000e8cd42c0> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n[junit4:junit4] \tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2043)\n[junit4:junit4] \tat java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1043)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1103)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\n[junit4:junit4] \tat java.lang.Thread.run(Thread.java:722)\n[junit4:junit4] \n[junit4:junit4] \"pool-256-thread-1\" prio=10 tid=0x00007f90f032a000 nid=0x5f9d waiting on condition [0x00007f91adac1000]\n[junit4:junit4]    java.lang.Thread.State: WAITING (parking)\n[junit4:junit4] \tat sun.misc.Unsafe.park(Native Method)\n[junit4:junit4] \t- parking to wait for  <0x00000000e8cd8458> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n[junit4:junit4] \tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2043)\n[junit4:junit4] \tat java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1043)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1103)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\n[junit4:junit4] \tat java.lang.Thread.run(Thread.java:722)\n[junit4:junit4] \n[junit4:junit4] \"pool-245-thread-1\" prio=10 tid=0x00007f90f0396000 nid=0x5f93 waiting on condition [0x00007f90d8d0e000]\n[junit4:junit4]    java.lang.Thread.State: WAITING (parking)\n[junit4:junit4] \tat sun.misc.Unsafe.park(Native Method)\n[junit4:junit4] \t- parking to wait for  <0x00000000ea9146c0> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n[junit4:junit4] \tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2043)\n[junit4:junit4] \tat java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1043)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1103)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\n[junit4:junit4] \tat java.lang.Thread.run(Thread.java:722)\n[junit4:junit4] \n[junit4:junit4] \"pool-207-thread-1\" prio=10 tid=0x00007f90f0177000 nid=0x5dff waiting on condition [0x00007f91ad6bd000]\n[junit4:junit4]    java.lang.Thread.State: WAITING (parking)\n[junit4:junit4] \tat sun.misc.Unsafe.park(Native Method)\n[junit4:junit4] \t- parking to wait for  <0x00000000df2876b0> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n[junit4:junit4] \tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2043)\n[junit4:junit4] \tat java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1043)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1103)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\n[junit4:junit4] \tat java.lang.Thread.run(Thread.java:722)\n[junit4:junit4] \n[junit4:junit4] \"pool-198-thread-1\" prio=10 tid=0x00007f90f002c800 nid=0x5df7 waiting on condition [0x00007f91ac189000]\n[junit4:junit4]    java.lang.Thread.State: WAITING (parking)\n[junit4:junit4] \tat sun.misc.Unsafe.park(Native Method)\n[junit4:junit4] \t- parking to wait for  <0x00000000de76f9e8> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n[junit4:junit4] \tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2043)\n[junit4:junit4] \tat java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1043)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1103)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\n[junit4:junit4] \tat java.lang.Thread.run(Thread.java:722)\n[junit4:junit4] \n[junit4:junit4] \"TEST-TestScope-org.apache.solr.cloud.BasicDistributedZkTest.testDistribSearch-seed#[48DA1587C9569BE9]-EventThread\" daemon prio=10 tid=0x00007f90f017b800 nid=0x5dee waiting on condition [0x00007f91ad4bb000]\n[junit4:junit4]    java.lang.Thread.State: WAITING (parking)\n[junit4:junit4] \tat sun.misc.Unsafe.park(Native Method)\n[junit4:junit4] \t- parking to wait for  <0x00000000e92624c0> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n[junit4:junit4] \tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2043)\n[junit4:junit4] \tat java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\n[junit4:junit4] \tat org.apache.zookeeper.ClientCnxn$EventThread.run(ClientCnxn.java:503)\n[junit4:junit4] \n[junit4:junit4] \"TEST-TestScope-org.apache.solr.cloud.BasicDistributedZkTest.testDistribSearch-seed#[48DA1587C9569BE9]-SendThread(localhost.localdomain:42251)\" daemon prio=10 tid=0x00007f90f017a000 nid=0x5ded runnable [0x00007f91ad5bc000]\n[junit4:junit4]    java.lang.Thread.State: RUNNABLE\n[junit4:junit4] \tat sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)\n[junit4:junit4] \tat sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:228)\n[junit4:junit4] \tat sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:81)\n[junit4:junit4] \tat sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:87)\n[junit4:junit4] \t- locked <0x00000000e9251a28> (a sun.nio.ch.Util$2)\n[junit4:junit4] \t- locked <0x00000000e92519d0> (a java.util.Collections$UnmodifiableSet)\n[junit4:junit4] \t- locked <0x00000000e92519e0> (a sun.nio.ch.EPollSelectorImpl)\n[junit4:junit4] \tat sun.nio.ch.SelectorImpl.select(SelectorImpl.java:98)\n[junit4:junit4] \tat org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1134)\n[junit4:junit4] \n[junit4:junit4] \"pool-189-thread-1\" prio=10 tid=0x00007f90f01c6000 nid=0x5de4 waiting on condition [0x00007f91adfc6000]\n[junit4:junit4]    java.lang.Thread.State: WAITING (parking)\n[junit4:junit4] \tat sun.misc.Unsafe.park(Native Method)\n[junit4:junit4] \t- parking to wait for  <0x00000000e92575d8> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n[junit4:junit4] \tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2043)\n[junit4:junit4] \tat java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1043)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1103)\n[junit4:junit4] \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\n[junit4:junit4] \tat java.lang.Thread.run(Thread.java:722)\n[junit4:junit4] \n[junit4:junit4] \"TEST-TestScope-org.apache.solr.cloud.BasicDistributedZkTest.testDistribSearch-seed#[48DA1587C9569BE9]-EventThread\" daemon prio=10 tid=0x00007f90f01cb800 nid=0x5de3 waiting on condition [0x00007f91ae0c7000]\n[junit4:junit4]    java.lang.Thread.State: WAITING (parking)\n[junit4:junit4] \tat sun.misc.Unsafe.park(Native Method)\n[junit4:junit4] \t- parking to wait for  <0x00000000e9253620> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n[junit4:junit4] \tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2043)\n[junit4:junit4] \tat java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\n[junit4:junit4] \tat org.apache.zookeeper.ClientCnxn$EventThread.run(ClientCnxn.java:503)\n[junit4:junit4] \n[junit4:junit4] \"TEST-TestScope-org.apache.solr.cloud.BasicDistributedZkTest.testDistribSearch-seed#[48DA1587C9569BE9]-SendThread(localhost.localdomain:42251)\" daemon prio=10 tid=0x00007f90f01ca000 nid=0x5de2 runnable [0x00007f91ae2c9000]\n[junit4:junit4]    java.lang.Thread.State: RUNNABLE\n[junit4:junit4] \tat sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)\n[junit4:junit4] \tat sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:228)\n[junit4:junit4] \tat sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:81)\n[junit4:junit4] \tat sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:87)\n[junit4:junit4] \t- locked <0x00000000e92a8338> (a sun.nio.ch.Util$2)\n[junit4:junit4] \t- locked <0x00000000e92a82e0> (a java.util.Collections$UnmodifiableSet)\n[junit4:junit4] \t- locked <0x00000000e92a82f0> (a sun.nio.ch.EPollSelectorImpl)\n[junit4:junit4] \tat sun.nio.ch.SelectorImpl.select(SelectorImpl.java:98)\n[junit4:junit4] \tat org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1134)\n[junit4:junit4] \n[junit4:junit4] \"qtp1140126667-831\" prio=10 tid=0x00007f90f0444800 nid=0x5ddf waiting on condition [0x00007f91ae7ce000]\n[junit4:junit4]    java.lang.Thread.State: TIMED_WAITING (parking)\n[junit4:junit4] \tat sun.misc.Unsafe.park(Native Method)\n[junit4:junit4] \t- parking to wait for  <0x00000000dd9a7700> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n[junit4:junit4] \tat java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:226)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2082)\n[junit4:junit4] \tat org.eclipse.jetty.util.BlockingArrayQueue.poll(BlockingArrayQueue.java:337)\n[junit4:junit4] \tat org.eclipse.jetty.util.thread.QueuedThreadPool.idleJobPoll(QueuedThreadPool.java:517)\n[junit4:junit4] \tat org.eclipse.jetty.util.thread.QueuedThreadPool.access$600(QueuedThreadPool.java:39)\n[junit4:junit4] \tat org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:563)\n[junit4:junit4] \tat java.lang.Thread.run(Thread.java:722)\n[junit4:junit4] \n[junit4:junit4] \"qtp1140126667-829\" prio=10 tid=0x00007f90f0260800 nid=0x5ddd waiting on condition [0x00007f91ae9d0000]\n[junit4:junit4]    java.lang.Thread.State: TIMED_WAITING (parking)\n[junit4:junit4] \tat sun.misc.Unsafe.park(Native Method)\n[junit4:junit4] \t- parking to wait for  <0x00000000dd9a7700> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n[junit4:junit4] \tat java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:226)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2082)\n[junit4:junit4] \tat org.eclipse.jetty.util.BlockingArrayQueue.poll(BlockingArrayQueue.java:337)\n[junit4:junit4] \tat org.eclipse.jetty.util.thread.QueuedThreadPool.idleJobPoll(QueuedThreadPool.java:517)\n[junit4:junit4] \tat org.eclipse.jetty.util.thread.QueuedThreadPool.access$600(QueuedThreadPool.java:39)\n[junit4:junit4] \tat org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:563)\n[junit4:junit4] \tat java.lang.Thread.run(Thread.java:722)\n[junit4:junit4] \n[junit4:junit4] \"qtp1140126667-828\" prio=10 tid=0x00007f90f0003000 nid=0x5ddc waiting on condition [0x00007f91aeed5000]\n[junit4:junit4]    java.lang.Thread.State: TIMED_WAITING (parking)\n[junit4:junit4] \tat sun.misc.Unsafe.park(Native Method)\n[junit4:junit4] \t- parking to wait for  <0x00000000dd9a7700> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n[junit4:junit4] \tat java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:226)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2082)\n[junit4:junit4] \tat org.eclipse.jetty.util.BlockingArrayQueue.poll(BlockingArrayQueue.java:337)\n[junit4:junit4] \tat org.eclipse.jetty.util.thread.QueuedThreadPool.idleJobPoll(QueuedThreadPool.java:517)\n[junit4:junit4] \tat org.eclipse.jetty.util.thread.QueuedThreadPool.access$600(QueuedThreadPool.java:39)\n[junit4:junit4] \tat org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:563)\n[junit4:junit4] \tat java.lang.Thread.run(Thread.java:722)\n[junit4:junit4] \n[junit4:junit4] \"qtp1140126667-827\" prio=10 tid=0x00007f90f042a800 nid=0x5ddb waiting on condition [0x00007f91aefd6000]\n[junit4:junit4]    java.lang.Thread.State: TIMED_WAITING (parking)\n[junit4:junit4] \tat sun.misc.Unsafe.park(Native Method)\n[junit4:junit4] \t- parking to wait for  <0x00000000dd9a7700> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n[junit4:junit4] \tat java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:226)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2082)\n[junit4:junit4] \tat org.eclipse.jetty.util.BlockingArrayQueue.poll(BlockingArrayQueue.java:337)\n[junit4:junit4] \tat org.eclipse.jetty.util.thread.QueuedThreadPool.idleJobPoll(QueuedThreadPool.java:517)\n[junit4:junit4] \tat org.eclipse.jetty.util.thread.QueuedThreadPool.access$600(QueuedThreadPool.java:39)\n[junit4:junit4] \tat org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:563)\n[junit4:junit4] \tat java.lang.Thread.run(Thread.java:722)\n[junit4:junit4] \n[junit4:junit4] \"qtp1140126667-826 Acceptor0 SocketConnector@0.0.0.0:57292\" prio=10 tid=0x00007f90f042a000 nid=0x5dda runnable [0x00007f91af2f1000]\n[junit4:junit4]    java.lang.Thread.State: RUNNABLE\n[junit4:junit4] \tat java.net.PlainSocketImpl.socketAccept(Native Method)\n[junit4:junit4] \tat java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:398)\n[junit4:junit4] \tat java.net.ServerSocket.implAccept(ServerSocket.java:522)\n[junit4:junit4] \tat java.net.ServerSocket.accept(ServerSocket.java:490)\n[junit4:junit4] \tat org.eclipse.jetty.server.bio.SocketConnector.accept(SocketConnector.java:112)\n[junit4:junit4] \tat org.eclipse.jetty.server.AbstractConnector$Acceptor.run(AbstractConnector.java:933)\n[junit4:junit4] \tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:599)\n[junit4:junit4] \tat org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:534)\n[junit4:junit4] \tat java.lang.Thread.run(Thread.java:722)\n[junit4:junit4] \n[junit4:junit4] \"HashSessionScavenger-17\" daemon prio=10 tid=0x00007f90f0044000 nid=0x5dd9 in Object.wait() [0x00007f91af3f2000]\n[junit4:junit4]    java.lang.Thread.State: TIMED_WAITING (on object monitor)\n[junit4:junit4] \tat java.lang.Object.wait(Native Method)\n[junit4:junit4] \tat java.util.TimerThread.mainLoop(Timer.java:552)\n[junit4:junit4] \t- locked <0x00000000e92550f0> (a java.util.TaskQueue)\n[junit4:junit4] \tat java.util.TimerThread.run(Timer.java:505)\n[junit4:junit4] \n[junit4:junit4] \"TEST-TestScope-org.apache.solr.cloud.BasicDistributedZkTest.testDistribSearch-seed#[48DA1587C9569BE9]-EventThread\" daemon prio=10 tid=0x00007f90f0310800 nid=0x5dd7 waiting on condition [0x00007f91af5f4000]\n[junit4:junit4]    java.lang.Thread.State: WAITING (parking)\n[junit4:junit4] \tat sun.misc.Unsafe.park(Native Method)\n[junit4:junit4] \t- parking to wait for  <0x00000000de8c4a00> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n[junit4:junit4] \tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2043)\n[junit4:junit4] \tat java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\n[junit4:junit4] \tat org.apache.zookeeper.ClientCnxn$EventThread.run(ClientCnxn.java:503)\n[junit4:junit4] \n[junit4:junit4] \"TEST-TestScope-org.apache.solr.cloud.BasicDistributedZkTest.testDistribSearch-seed#[48DA1587C9569BE9]-SendThread(localhost.localdomain:42251)\" daemon prio=10 tid=0x00007f90f0462800 nid=0x5dd6 runnable [0x00007f91af6f5000]\n[junit4:junit4]    java.lang.Thread.State: RUNNABLE\n[junit4:junit4] \tat sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)\n[junit4:junit4] \tat sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:228)\n[junit4:junit4] \tat sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:81)\n[junit4:junit4] \tat sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:87)\n[junit4:junit4] \t- locked <0x00000000de8c6ab8> (a sun.nio.ch.Util$2)\n[junit4:junit4] \t- locked <0x00000000de8c6a60> (a java.util.Collections$UnmodifiableSet)\n[junit4:junit4] \t- locked <0x00000000de8c6a70> (a sun.nio.ch.EPollSelectorImpl)\n[junit4:junit4] \tat sun.nio.ch.SelectorImpl.select(SelectorImpl.java:98)\n[junit4:junit4] \tat org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1134)\n[junit4:junit4] \n[junit4:junit4] \"qtp1983231457-821\" prio=10 tid=0x00007f90f0040000 nid=0x5dd5 waiting on condition [0x00007f91af7f6000]\n[junit4:junit4]    java.lang.Thread.State: TIMED_WAITING (parking)\n[junit4:junit4] \tat sun.misc.Unsafe.park(Native Method)\n[junit4:junit4] \t- parking to wait for  <0x00000000dd551660> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n[junit4:junit4] \tat java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:226)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2082)\n[junit4:junit4] \tat org.eclipse.jetty.util.BlockingArrayQueue.poll(BlockingArrayQueue.java:337)\n[junit4:junit4] \tat org.eclipse.jetty.util.thread.QueuedThreadPool.idleJobPoll(QueuedThreadPool.java:517)\n[junit4:junit4] \tat org.eclipse.jetty.util.thread.QueuedThreadPool.access$600(QueuedThreadPool.java:39)\n[junit4:junit4] \tat org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:563)\n[junit4:junit4] \tat java.lang.Thread.run(Thread.java:722)\n[junit4:junit4] \n[junit4:junit4] \"qtp1983231457-820\" prio=10 tid=0x00007f90f003f800 nid=0x5dd4 waiting on condition [0x00007f91af8f7000]\n[junit4:junit4]    java.lang.Thread.State: TIMED_WAITING (parking)\n[junit4:junit4] \tat sun.misc.Unsafe.park(Native Method)\n[junit4:junit4] \t- parking to wait for  <0x00000000dd551660> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n[junit4:junit4] \tat java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:226)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2082)\n[junit4:junit4] \tat org.eclipse.jetty.util.BlockingArrayQueue.poll(BlockingArrayQueue.java:337)\n[junit4:junit4] \tat org.eclipse.jetty.util.thread.QueuedThreadPool.idleJobPoll(QueuedThreadPool.java:517)\n[junit4:junit4] \tat org.eclipse.jetty.util.thread.QueuedThreadPool.access$600(QueuedThreadPool.java:39)\n[junit4:junit4] \tat org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:563)\n[junit4:junit4] \tat java.lang.Thread.run(Thread.java:722)\n[junit4:junit4] \n[junit4:junit4] \"qtp1983231457-817\" prio=10 tid=0x00007f90f005a000 nid=0x5dd1 waiting on condition [0x00007f91b4735000]\n[junit4:junit4]    java.lang.Thread.State: TIMED_WAITING (parking)\n[junit4:junit4] \tat sun.misc.Unsafe.park(Native Method)\n[junit4:junit4] \t- parking to wait for  <0x00000000dd551660> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n[junit4:junit4] \tat java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:226)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2082)\n[junit4:junit4] \tat org.eclipse.jetty.util.BlockingArrayQueue.poll(BlockingArrayQueue.java:337)\n[junit4:junit4] \tat org.eclipse.jetty.util.thread.QueuedThreadPool.idleJobPoll(QueuedThreadPool.java:517)\n[junit4:junit4] \tat org.eclipse.jetty.util.thread.QueuedThreadPool.access$600(QueuedThreadPool.java:39)\n[junit4:junit4] \tat org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:563)\n[junit4:junit4] \tat java.lang.Thread.run(Thread.java:722)\n[junit4:junit4] \n[junit4:junit4] \"Thread-251\" daemon prio=10 tid=0x00007f90f0206000 nid=0x5da8 waiting on condition [0x00007f91adcc3000]\n[junit4:junit4]    java.lang.Thread.State: WAITING (parking)\n[junit4:junit4] \tat sun.misc.Unsafe.park(Native Method)\n[junit4:junit4] \t- parking to wait for  <0x00000000e633c900> (a java.util.concurrent.CountDownLatch$Sync)\n[junit4:junit4] \tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:834)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireSharedInterruptibly(AbstractQueuedSynchronizer.java:994)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireSharedInterruptibly(AbstractQueuedSynchronizer.java:1303)\n[junit4:junit4] \tat java.util.concurrent.CountDownLatch.await(CountDownLatch.java:236)\n[junit4:junit4] \tat org.apache.solr.cloud.DistributedQueue$LatchChildWatcher.await(DistributedQueue.java:185)\n[junit4:junit4] \tat org.apache.solr.cloud.DistributedQueue.peek(DistributedQueue.java:291)\n[junit4:junit4] \tat org.apache.solr.cloud.OverseerCollectionProcessor.run(OverseerCollectionProcessor.java:81)\n[junit4:junit4] \tat java.lang.Thread.run(Thread.java:722)\n[junit4:junit4] \n[junit4:junit4] \"ProcessThread:-1\" daemon prio=10 tid=0x00007f90f0058000 nid=0x5d96 waiting on condition [0x00007f91b4230000]\n[junit4:junit4]    java.lang.Thread.State: WAITING (parking)\n[junit4:junit4] \tat sun.misc.Unsafe.park(Native Method)\n[junit4:junit4] \t- parking to wait for  <0x00000000e925b180> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n[junit4:junit4] \tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2043)\n[junit4:junit4] \tat java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\n[junit4:junit4] \tat org.apache.zookeeper.server.PrepRequestProcessor.run(PrepRequestProcessor.java:104)\n[junit4:junit4] \n[junit4:junit4] \"SyncThread:0\" daemon prio=10 tid=0x00007f90f030d000 nid=0x5d95 waiting on condition [0x00007f91afffe000]\n[junit4:junit4]    java.lang.Thread.State: WAITING (parking)\n[junit4:junit4] \tat sun.misc.Unsafe.park(Native Method)\n[junit4:junit4] \t- parking to wait for  <0x00000000e92a2c00> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n[junit4:junit4] \tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2043)\n[junit4:junit4] \tat java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\n[junit4:junit4] \tat org.apache.zookeeper.server.SyncRequestProcessor.run(SyncRequestProcessor.java:94)\n[junit4:junit4] \n[junit4:junit4] \"SessionTracker\" daemon prio=10 tid=0x00007f90f00d4000 nid=0x5d94 in Object.wait() [0x00007f91afcfb000]\n[junit4:junit4]    java.lang.Thread.State: TIMED_WAITING (on object monitor)\n[junit4:junit4] \tat java.lang.Object.wait(Native Method)\n[junit4:junit4] \tat org.apache.zookeeper.server.SessionTrackerImpl.run(SessionTrackerImpl.java:145)\n[junit4:junit4] \t- locked <0x00000000e926c188> (a org.apache.zookeeper.server.SessionTrackerImpl)\n[junit4:junit4] \n[junit4:junit4] \"NIOServerCxn.Factory:0.0.0.0/0.0.0.0:0\" daemon prio=10 tid=0x00007f90f030a800 nid=0x5d93 runnable [0x00007f90da627000]\n[junit4:junit4]    java.lang.Thread.State: RUNNABLE\n[junit4:junit4] \tat sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)\n[junit4:junit4] \tat sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:228)\n[junit4:junit4] \tat sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:81)\n[junit4:junit4] \tat sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:87)\n[junit4:junit4] \t- locked <0x00000000e925b230> (a sun.nio.ch.Util$2)\n[junit4:junit4] \t- locked <0x00000000e925b220> (a java.util.Collections$UnmodifiableSet)\n[junit4:junit4] \t- locked <0x00000000e925b240> (a sun.nio.ch.EPollSelectorImpl)\n[junit4:junit4] \tat sun.nio.ch.SelectorImpl.select(SelectorImpl.java:98)\n[junit4:junit4] \tat org.apache.zookeeper.server.NIOServerCnxn$Factory.run(NIOServerCnxn.java:232)\n[junit4:junit4] \n[junit4:junit4] \"Thread-240\" daemon prio=10 tid=0x00007f90f01fb000 nid=0x5d92 in Object.wait() [0x00007f91b4937000]\n[junit4:junit4]    java.lang.Thread.State: WAITING (on object monitor)\n[junit4:junit4] \tat java.lang.Object.wait(Native Method)\n[junit4:junit4] \t- waiting on <0x00000000e926c290> (a org.apache.zookeeper.server.NIOServerCnxn$Factory)\n[junit4:junit4] \tat java.lang.Thread.join(Thread.java:1258)\n[junit4:junit4] \t- locked <0x00000000e926c290> (a org.apache.zookeeper.server.NIOServerCnxn$Factory)\n[junit4:junit4] \tat java.lang.Thread.join(Thread.java:1332)\n[junit4:junit4] \tat org.apache.solr.cloud.ZkTestServer$ZKServerMain.runFromConfig(ZkTestServer.java:103)\n[junit4:junit4] \tat org.apache.solr.cloud.ZkTestServer$2.run(ZkTestServer.java:214)\n[junit4:junit4] \n[junit4:junit4] \"TEST-TestScope-org.apache.solr.cloud.BasicDistributedZkTest.testDistribSearch-seed#[48DA1587C9569BE9]\" prio=10 tid=0x00007f91e822b000 nid=0x5d91 in Object.wait() [0x00007f91b432f000]\n[junit4:junit4]    java.lang.Thread.State: WAITING (on object monitor)\n[junit4:junit4] \tat java.lang.Object.wait(Native Method)\n[junit4:junit4] \t- waiting on <0x00000000e6338770> (a org.apache.solr.cloud.RecoveryStrategy)\n[junit4:junit4] \tat java.lang.Thread.join(Thread.java:1258)\n[junit4:junit4] \t- locked <0x00000000e6338770> (a org.apache.solr.cloud.RecoveryStrategy)\n[junit4:junit4] \tat java.lang.Thread.join(Thread.java:1332)\n[junit4:junit4] \tat org.apache.solr.update.DefaultSolrCoreState.cancelRecovery(DefaultSolrCoreState.java:161)\n[junit4:junit4] \t- locked <0x00000000ea925c58> (a java.lang.Object)\n[junit4:junit4] \tat org.apache.solr.update.DefaultSolrCoreState.decref(DefaultSolrCoreState.java:85)\n[junit4:junit4] \t- locked <0x00000000ea925c30> (a org.apache.solr.update.DefaultSolrCoreState)\n[junit4:junit4] \tat org.apache.solr.update.DirectUpdateHandler2.close(DirectUpdateHandler2.java:619)\n[junit4:junit4] \tat org.apache.solr.core.SolrCore.close(SolrCore.java:843)\n[junit4:junit4] \tat org.apache.solr.core.CoreContainer.shutdown(CoreContainer.java:578)\n[junit4:junit4] \t- locked <0x00000000de8c1330> (a java.util.LinkedHashMap)\n[junit4:junit4] \tat org.apache.solr.servlet.SolrDispatchFilter.destroy(SolrDispatchFilter.java:129)\n[junit4:junit4] \tat org.eclipse.jetty.servlet.FilterHolder.destroyInstance(FilterHolder.java:148)\n[junit4:junit4] \tat org.eclipse.jetty.servlet.FilterHolder.doStop(FilterHolder.java:126)\n[junit4:junit4] \tat org.eclipse.jetty.util.component.AbstractLifeCycle.stop(AbstractLifeCycle.java:84)\n[junit4:junit4] \t- locked <0x00000000de8c1140> (a java.lang.Object)\n[junit4:junit4] \tat org.eclipse.jetty.servlet.ServletHandler.doStop(ServletHandler.java:199)\n[junit4:junit4] \t- locked <0x00000000de8c0f68> (a org.eclipse.jetty.servlet.ServletHandler)\n[junit4:junit4] \tat org.eclipse.jetty.util.component.AbstractLifeCycle.stop(AbstractLifeCycle.java:84)\n[junit4:junit4] \t- locked <0x00000000de8c0ff0> (a java.lang.Object)\n[junit4:junit4] \tat org.eclipse.jetty.server.handler.HandlerWrapper.doStop(HandlerWrapper.java:102)\n[junit4:junit4] \tat org.eclipse.jetty.server.session.SessionHandler.doStop(SessionHandler.java:133)\n[junit4:junit4] \tat org.eclipse.jetty.util.component.AbstractLifeCycle.stop(AbstractLifeCycle.java:84)\n[junit4:junit4] \t- locked <0x00000000de8c0ea8> (a java.lang.Object)\n[junit4:junit4] \tat org.eclipse.jetty.server.handler.HandlerWrapper.doStop(HandlerWrapper.java:102)\n[junit4:junit4] \tat org.eclipse.jetty.util.component.AbstractLifeCycle.stop(AbstractLifeCycle.java:84)\n[junit4:junit4] \t- locked <0x00000000de8c0da0> (a java.lang.Object)\n[junit4:junit4] \tat org.eclipse.jetty.server.handler.HandlerWrapper.doStop(HandlerWrapper.java:102)\n[junit4:junit4] \tat org.eclipse.jetty.server.handler.ContextHandler.doStop(ContextHandler.java:798)\n[junit4:junit4] \tat org.eclipse.jetty.servlet.ServletContextHandler.doStop(ServletContextHandler.java:153)\n[junit4:junit4] \tat org.eclipse.jetty.util.component.AbstractLifeCycle.stop(AbstractLifeCycle.java:84)\n[junit4:junit4] \t- locked <0x00000000de8c0c90> (a java.lang.Object)\n[junit4:junit4] \tat org.eclipse.jetty.server.handler.HandlerWrapper.doStop(HandlerWrapper.java:102)\n[junit4:junit4] \tat org.eclipse.jetty.server.Server.doStop(Server.java:324)\n[junit4:junit4] \tat org.eclipse.jetty.util.component.AbstractLifeCycle.stop(AbstractLifeCycle.java:84)\n[junit4:junit4] \t- locked <0x00000000de8c0b30> (a java.lang.Object)\n[junit4:junit4] \tat org.apache.solr.client.solrj.embedded.JettySolrRunner.stop(JettySolrRunner.java:222)\n[junit4:junit4] \tat org.apache.solr.BaseDistributedSearchTestCase.destroyServers(BaseDistributedSearchTestCase.java:243)\n[junit4:junit4] \tat org.apache.solr.BaseDistributedSearchTestCase.testDistribSearch(BaseDistributedSearchTestCase.java:680)\n[junit4:junit4] \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n[junit4:junit4] \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n[junit4:junit4] \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n[junit4:junit4] \tat java.lang.reflect.Method.invoke(Method.java:601)\n[junit4:junit4] \tat com.carrotsearch.randomizedtesting.RandomizedRunner.invoke(RandomizedRunner.java:1995)\n[junit4:junit4] \tat com.carrotsearch.randomizedtesting.RandomizedRunner.access$1100(RandomizedRunner.java:132)\n[junit4:junit4] \tat com.carrotsearch.randomizedtesting.RandomizedRunner$6.evaluate(RandomizedRunner.java:818)\n[junit4:junit4] \tat com.carrotsearch.randomizedtesting.RandomizedRunner$7.evaluate(RandomizedRunner.java:877)\n[junit4:junit4] \tat com.carrotsearch.randomizedtesting.RandomizedRunner$8.evaluate(RandomizedRunner.java:891)\n[junit4:junit4] \tat com.carrotsearch.randomizedtesting.rules.SystemPropertiesRestoreRule$1.evaluate(SystemPropertiesRestoreRule.java:53)\n[junit4:junit4] \tat org.apache.lucene.util.TestRuleSetupTeardownChained$1.evaluate(TestRuleSetupTeardownChained.java:50)\n[junit4:junit4] \tat org.apache.lucene.util.TestRuleFieldCacheSanity$1.evaluate(TestRuleFieldCacheSanity.java:32)\n[junit4:junit4] \tat org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:45)\n[junit4:junit4] \tat com.carrotsearch.randomizedtesting.rules.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:55)\n[junit4:junit4] \tat org.apache.lucene.util.TestRuleReportUncaughtExceptions$1.evaluate(TestRuleReportUncaughtExceptions.java:68)\n[junit4:junit4] \tat org.apache.lucene.util.TestRuleThreadAndTestName$1.evaluate(TestRuleThreadAndTestName.java:48)\n[junit4:junit4] \tat org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:70)\n[junit4:junit4] \tat org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:48)\n[junit4:junit4] \tat com.carrotsearch.randomizedtesting.RandomizedRunner.runSingleTest(RandomizedRunner.java:825)\n[junit4:junit4] \tat com.carrotsearch.randomizedtesting.RandomizedRunner.access$700(RandomizedRunner.java:132)\n[junit4:junit4] \tat com.carrotsearch.randomizedtesting.RandomizedRunner$3$1.run(RandomizedRunner.java:671)\n[junit4:junit4] \tat com.carrotsearch.randomizedtesting.RandomizedRunner$3.evaluate(RandomizedRunner.java:697)\n[junit4:junit4] \tat com.carrotsearch.randomizedtesting.RandomizedRunner$4.evaluate(RandomizedRunner.java:736)\n[junit4:junit4] \tat com.carrotsearch.randomizedtesting.RandomizedRunner$5.evaluate(RandomizedRunner.java:747)\n[junit4:junit4] \tat com.carrotsearch.randomizedtesting.rules.SystemPropertiesRestoreRule$1.evaluate(SystemPropertiesRestoreRule.java:53)\n[junit4:junit4] \tat org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:45)\n[junit4:junit4] \tat org.apache.lucene.util.TestRuleReportUncaughtExceptions$1.evaluate(TestRuleReportUncaughtExceptions.java:68)\n[junit4:junit4] \tat org.apache.lucene.util.TestRuleStoreClassName$1.evaluate(TestRuleStoreClassName.java:38)\n[junit4:junit4] \tat org.apache.lucene.util.TestRuleIcuHack$1.evaluate(TestRuleIcuHack.java:51)\n[junit4:junit4] \tat com.carrotsearch.randomizedtesting.rules.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:55)\n[junit4:junit4] \tat org.apache.lucene.util.TestRuleNoInstanceHooksOverrides$1.evaluate(TestRuleNoInstanceHooksOverrides.java:53)\n[junit4:junit4] \tat org.apache.lucene.util.TestRuleNoStaticHooksShadowing$1.evaluate(TestRuleNoStaticHooksShadowing.java:52)\n[junit4:junit4] \tat org.apache.lucene.util.TestRuleAssertionsRequired$1.evaluate(TestRuleAssertionsRequired.java:36)\n[junit4:junit4] \tat org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:48)\n[junit4:junit4] \tat org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:70)\n[junit4:junit4] \tat org.apache.lucene.util.TestRuleIgnoreTestSuites$1.evaluate(TestRuleIgnoreTestSuites.java:55)\n[junit4:junit4] \tat com.carrotsearch.randomizedtesting.RandomizedRunner.runSuite(RandomizedRunner.java:605)\n[junit4:junit4] \tat com.carrotsearch.randomizedtesting.RandomizedRunner.access$400(RandomizedRunner.java:132)\n[junit4:junit4] \tat com.carrotsearch.randomizedtesting.RandomizedRunner$2.run(RandomizedRunner.java:551)\n[junit4:junit4] \n[junit4:junit4] \"Thread-239\" daemon prio=10 tid=0x00007f90f00b8800 nid=0x5d21 waiting on condition [0x00007f91ac38b000]\n[junit4:junit4]    java.lang.Thread.State: WAITING (parking)\n[junit4:junit4] \tat sun.misc.Unsafe.park(Native Method)\n[junit4:junit4] \t- parking to wait for  <0x00000000e926c3e8> (a java.util.concurrent.CountDownLatch$Sync)\n[junit4:junit4] \tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:834)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireSharedInterruptibly(AbstractQueuedSynchronizer.java:994)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireSharedInterruptibly(AbstractQueuedSynchronizer.java:1303)\n[junit4:junit4] \tat java.util.concurrent.CountDownLatch.await(CountDownLatch.java:236)\n[junit4:junit4] \tat org.apache.solr.cloud.DistributedQueue$LatchChildWatcher.await(DistributedQueue.java:185)\n[junit4:junit4] \tat org.apache.solr.cloud.DistributedQueue.peek(DistributedQueue.java:291)\n[junit4:junit4] \tat org.apache.solr.cloud.OverseerCollectionProcessor.run(OverseerCollectionProcessor.java:81)\n[junit4:junit4] \tat java.lang.Thread.run(Thread.java:722)\n[junit4:junit4] \n[junit4:junit4] \"Thread-236\" daemon prio=10 tid=0x00007f90f0290800 nid=0x5cdb waiting on condition [0x00007f91ac58d000]\n[junit4:junit4]    java.lang.Thread.State: WAITING (parking)\n[junit4:junit4] \tat sun.misc.Unsafe.park(Native Method)\n[junit4:junit4] \t- parking to wait for  <0x00000000e926de20> (a java.util.concurrent.CountDownLatch$Sync)\n[junit4:junit4] \tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:834)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireSharedInterruptibly(AbstractQueuedSynchronizer.java:994)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireSharedInterruptibly(AbstractQueuedSynchronizer.java:1303)\n[junit4:junit4] \tat java.util.concurrent.CountDownLatch.await(CountDownLatch.java:236)\n[junit4:junit4] \tat org.apache.solr.cloud.DistributedQueue$LatchChildWatcher.await(DistributedQueue.java:185)\n[junit4:junit4] \tat org.apache.solr.cloud.DistributedQueue.peek(DistributedQueue.java:291)\n[junit4:junit4] \tat org.apache.solr.cloud.OverseerCollectionProcessor.run(OverseerCollectionProcessor.java:81)\n[junit4:junit4] \tat java.lang.Thread.run(Thread.java:722)\n[junit4:junit4] \n[junit4:junit4] \"Thread-233\" daemon prio=10 tid=0x00007f90f0240800 nid=0x5cc8 waiting on condition [0x00007f91afaf9000]\n[junit4:junit4]    java.lang.Thread.State: WAITING (parking)\n[junit4:junit4] \tat sun.misc.Unsafe.park(Native Method)\n[junit4:junit4] \t- parking to wait for  <0x00000000e926c548> (a java.util.concurrent.CountDownLatch$Sync)\n[junit4:junit4] \tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:834)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireSharedInterruptibly(AbstractQueuedSynchronizer.java:994)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireSharedInterruptibly(AbstractQueuedSynchronizer.java:1303)\n[junit4:junit4] \tat java.util.concurrent.CountDownLatch.await(CountDownLatch.java:236)\n[junit4:junit4] \tat org.apache.solr.cloud.DistributedQueue$LatchChildWatcher.await(DistributedQueue.java:185)\n[junit4:junit4] \tat org.apache.solr.cloud.DistributedQueue.peek(DistributedQueue.java:291)\n[junit4:junit4] \tat org.apache.solr.cloud.OverseerCollectionProcessor.run(OverseerCollectionProcessor.java:81)\n[junit4:junit4] \tat java.lang.Thread.run(Thread.java:722)\n[junit4:junit4] \n[junit4:junit4] \"Thread-174\" daemon prio=10 tid=0x00007f90f01f9000 nid=0x5c30 waiting on condition [0x00007f91acb93000]\n[junit4:junit4]    java.lang.Thread.State: WAITING (parking)\n[junit4:junit4] \tat sun.misc.Unsafe.park(Native Method)\n[junit4:junit4] \t- parking to wait for  <0x00000000e926df80> (a java.util.concurrent.CountDownLatch$Sync)\n[junit4:junit4] \tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:834)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireSharedInterruptibly(AbstractQueuedSynchronizer.java:994)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireSharedInterruptibly(AbstractQueuedSynchronizer.java:1303)\n[junit4:junit4] \tat java.util.concurrent.CountDownLatch.await(CountDownLatch.java:236)\n[junit4:junit4] \tat org.apache.solr.cloud.DistributedQueue$LatchChildWatcher.await(DistributedQueue.java:185)\n[junit4:junit4] \tat org.apache.solr.cloud.DistributedQueue.peek(DistributedQueue.java:291)\n[junit4:junit4] \tat org.apache.solr.cloud.OverseerCollectionProcessor.run(OverseerCollectionProcessor.java:81)\n[junit4:junit4] \tat java.lang.Thread.run(Thread.java:722)\n[junit4:junit4] \n[junit4:junit4] \"Thread-172\" daemon prio=10 tid=0x00007f90f00c4800 nid=0x5c2e waiting on condition [0x00007f91ae4cb000]\n[junit4:junit4]    java.lang.Thread.State: WAITING (parking)\n[junit4:junit4] \tat sun.misc.Unsafe.park(Native Method)\n[junit4:junit4] \t- parking to wait for  <0x00000000e926e0e0> (a java.util.concurrent.CountDownLatch$Sync)\n[junit4:junit4] \tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:834)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireSharedInterruptibly(AbstractQueuedSynchronizer.java:994)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireSharedInterruptibly(AbstractQueuedSynchronizer.java:1303)\n[junit4:junit4] \tat java.util.concurrent.CountDownLatch.await(CountDownLatch.java:236)\n[junit4:junit4] \tat org.apache.solr.cloud.DistributedQueue$LatchChildWatcher.await(DistributedQueue.java:185)\n[junit4:junit4] \tat org.apache.solr.cloud.DistributedQueue.peek(DistributedQueue.java:291)\n[junit4:junit4] \tat org.apache.solr.cloud.OverseerCollectionProcessor.run(OverseerCollectionProcessor.java:81)\n[junit4:junit4] \tat java.lang.Thread.run(Thread.java:722)\n[junit4:junit4] \n[junit4:junit4] \"TEST-TestScope-org.apache.solr.cloud.FullSolrCloudTest.testDistribSearch-seed#[48DA1587C9569BE9]-EventThread\" daemon prio=10 tid=0x00007f90f028e000 nid=0x5c29 waiting on condition [0x00007f91ae1c8000]\n[junit4:junit4]    java.lang.Thread.State: WAITING (parking)\n[junit4:junit4] \tat sun.misc.Unsafe.park(Native Method)\n[junit4:junit4] \t- parking to wait for  <0x00000000e926c788> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n[junit4:junit4] \tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2043)\n[junit4:junit4] \tat java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\n[junit4:junit4] \tat org.apache.zookeeper.ClientCnxn$EventThread.run(ClientCnxn.java:503)\n[junit4:junit4] \n[junit4:junit4] \"TEST-TestScope-org.apache.solr.cloud.FullSolrCloudTest.testDistribSearch-seed#[48DA1587C9569BE9]-SendThread(localhost.localdomain:42154)\" daemon prio=10 tid=0x00007f90f023e800 nid=0x5c28 waiting on condition [0x00007f90db6f5000]\n[junit4:junit4]    java.lang.Thread.State: TIMED_WAITING (sleeping)\n[junit4:junit4] \tat java.lang.Thread.sleep(Native Method)\n[junit4:junit4] \tat org.apache.zookeeper.ClientCnxn$SendThread.startConnect(ClientCnxn.java:1041)\n[junit4:junit4] \tat org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1104)\n[junit4:junit4] \n[junit4:junit4] \"Thread-170\" daemon prio=10 tid=0x00007f90f0239800 nid=0x5c19 waiting on condition [0x00007f90da526000]\n[junit4:junit4]    java.lang.Thread.State: WAITING (parking)\n[junit4:junit4] \tat sun.misc.Unsafe.park(Native Method)\n[junit4:junit4] \t- parking to wait for  <0x00000000e926e240> (a java.util.concurrent.CountDownLatch$Sync)\n[junit4:junit4] \tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:834)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireSharedInterruptibly(AbstractQueuedSynchronizer.java:994)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireSharedInterruptibly(AbstractQueuedSynchronizer.java:1303)\n[junit4:junit4] \tat java.util.concurrent.CountDownLatch.await(CountDownLatch.java:236)\n[junit4:junit4] \tat org.apache.solr.cloud.DistributedQueue$LatchChildWatcher.await(DistributedQueue.java:185)\n[junit4:junit4] \tat org.apache.solr.cloud.DistributedQueue.peek(DistributedQueue.java:291)\n[junit4:junit4] \tat org.apache.solr.cloud.OverseerCollectionProcessor.run(OverseerCollectionProcessor.java:81)\n[junit4:junit4] \tat java.lang.Thread.run(Thread.java:722)\n[junit4:junit4] \n[junit4:junit4] \"Thread-78\" daemon prio=10 tid=0x00007f90f0058800 nid=0x5a0e waiting on condition [0x00007f91aedd4000]\n[junit4:junit4]    java.lang.Thread.State: WAITING (parking)\n[junit4:junit4] \tat sun.misc.Unsafe.park(Native Method)\n[junit4:junit4] \t- parking to wait for  <0x00000000e925b390> (a java.util.concurrent.CountDownLatch$Sync)\n[junit4:junit4] \tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:834)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireSharedInterruptibly(AbstractQueuedSynchronizer.java:994)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireSharedInterruptibly(AbstractQueuedSynchronizer.java:1303)\n[junit4:junit4] \tat java.util.concurrent.CountDownLatch.await(CountDownLatch.java:236)\n[junit4:junit4] \tat org.apache.solr.cloud.DistributedQueue$LatchChildWatcher.await(DistributedQueue.java:185)\n[junit4:junit4] \tat org.apache.solr.cloud.DistributedQueue.peek(DistributedQueue.java:291)\n[junit4:junit4] \tat org.apache.solr.cloud.OverseerCollectionProcessor.run(OverseerCollectionProcessor.java:81)\n[junit4:junit4] \tat java.lang.Thread.run(Thread.java:722)\n[junit4:junit4] \n[junit4:junit4] \"Thread-7\" daemon prio=10 tid=0x00007f9160595000 nid=0x5746 waiting on condition [0x00007f91b4a38000]\n[junit4:junit4]    java.lang.Thread.State: WAITING (parking)\n[junit4:junit4] \tat sun.misc.Unsafe.park(Native Method)\n[junit4:junit4] \t- parking to wait for  <0x00000000dd1dd668> (a java.util.concurrent.CountDownLatch$Sync)\n[junit4:junit4] \tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:834)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireSharedInterruptibly(AbstractQueuedSynchronizer.java:994)\n[junit4:junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireSharedInterruptibly(AbstractQueuedSynchronizer.java:1303)\n[junit4:junit4] \tat java.util.concurrent.CountDownLatch.await(CountDownLatch.java:236)\n[junit4:junit4] \tat org.apache.solr.cloud.DistributedQueue$LatchChildWatcher.await(DistributedQueue.java:185)\n[junit4:junit4] \tat org.apache.solr.cloud.DistributedQueue.peek(DistributedQueue.java:291)\n[junit4:junit4] \tat org.apache.solr.cloud.OverseerCollectionProcessor.run(OverseerCollectionProcessor.java:81)\n[junit4:junit4] \tat java.lang.Thread.run(Thread.java:722)\n[junit4:junit4] \n[junit4:junit4] \"Service Thread\" daemon prio=10 tid=0x00007f91e81c0800 nid=0x56e3 runnable [0x0000000000000000]\n[junit4:junit4]    java.lang.Thread.State: RUNNABLE\n[junit4:junit4] \n[junit4:junit4] \"C2 CompilerThread1\" daemon prio=10 tid=0x00007f91e81be000 nid=0x56e2 waiting on condition [0x0000000000000000]\n[junit4:junit4]    java.lang.Thread.State: RUNNABLE\n[junit4:junit4] \n[junit4:junit4] \"C2 CompilerThread0\" daemon prio=10 tid=0x00007f91e81bc000 nid=0x56e1 waiting on condition [0x0000000000000000]\n[junit4:junit4]    java.lang.Thread.State: RUNNABLE\n[junit4:junit4] \n[junit4:junit4] \"Signal Dispatcher\" daemon prio=10 tid=0x00007f91e81b9800 nid=0x56e0 waiting on condition [0x0000000000000000]\n[junit4:junit4]    java.lang.Thread.State: RUNNABLE\n[junit4:junit4] \n[junit4:junit4] \"Surrogate Locker Thread (Concurrent GC)\" daemon prio=10 tid=0x00007f91e81b7800 nid=0x56df waiting on condition [0x0000000000000000]\n[junit4:junit4]    java.lang.Thread.State: RUNNABLE\n[junit4:junit4] \n[junit4:junit4] \"Finalizer\" daemon prio=10 tid=0x00007f91e8169800 nid=0x56dc in Object.wait() [0x00007f91b65e9000]\n[junit4:junit4]    java.lang.Thread.State: WAITING (on object monitor)\n[junit4:junit4] \tat java.lang.Object.wait(Native Method)\n[junit4:junit4] \tat java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:135)\n[junit4:junit4] \t- locked <0x00000000dcfcdbe0> (a java.lang.ref.ReferenceQueue$Lock)\n[junit4:junit4] \tat java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:151)\n[junit4:junit4] \tat java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:177)\n[junit4:junit4] \n[junit4:junit4] \"Reference Handler\" daemon prio=10 tid=0x00007f91e8167800 nid=0x56db in Object.wait() [0x00007f91e41f2000]\n[junit4:junit4]    java.lang.Thread.State: WAITING (on object monitor)\n[junit4:junit4] \tat java.lang.Object.wait(Native Method)\n[junit4:junit4] \tat java.lang.Object.wait(Object.java:503)\n[junit4:junit4] \tat java.lang.ref.Reference$ReferenceHandler.run(Reference.java:133)\n[junit4:junit4] \t- locked <0x00000000dd1dd7c8> (a java.lang.ref.Reference$Lock)\n[junit4:junit4] \n[junit4:junit4] \"main\" prio=10 tid=0x00007f91e800f000 nid=0x56af in Object.wait() [0x00007f91f1286000]\n[junit4:junit4]    java.lang.Thread.State: WAITING (on object monitor)\n[junit4:junit4] \tat java.lang.Object.wait(Native Method)\n[junit4:junit4] \t- waiting on <0x00000000e925d1a0> (a com.carrotsearch.randomizedtesting.RandomizedRunner$2)\n[junit4:junit4] \tat java.lang.Thread.join(Thread.java:1258)\n[junit4:junit4] \t- locked <0x00000000e925d1a0> (a com.carrotsearch.randomizedtesting.RandomizedRunner$2)\n[junit4:junit4] \tat java.lang.Thread.join(Thread.java:1332)\n[junit4:junit4] \tat com.carrotsearch.randomizedtesting.RandomizedRunner.runSuite(RandomizedRunner.java:561)\n[junit4:junit4] \tat com.carrotsearch.randomizedtesting.RandomizedRunner.run(RandomizedRunner.java:521)\n[junit4:junit4] \tat com.carrotsearch.ant.tasks.junit4.slave.SlaveMain.execute(SlaveMain.java:153)\n[junit4:junit4] \tat com.carrotsearch.ant.tasks.junit4.slave.SlaveMain.main(SlaveMain.java:246)\n[junit4:junit4] \tat com.carrotsearch.ant.tasks.junit4.slave.SlaveMainSafe.main(SlaveMainSafe.java:12)\n[junit4:junit4] \n[junit4:junit4] \"VM Thread\" prio=10 tid=0x00007f91e8160000 nid=0x56d9 runnable \n[junit4:junit4] \n[junit4:junit4] \"Gang worker#0 (Parallel GC Threads)\" prio=10 tid=0x00007f91e801b800 nid=0x56b1 runnable \n[junit4:junit4] \n[junit4:junit4] \"Gang worker#1 (Parallel GC Threads)\" prio=10 tid=0x00007f91e801d800 nid=0x56b2 runnable \n[junit4:junit4] \n[junit4:junit4] \"Gang worker#2 (Parallel GC Threads)\" prio=10 tid=0x00007f91e801f800 nid=0x56b3 runnable \n[junit4:junit4] \n[junit4:junit4] \"Gang worker#3 (Parallel GC Threads)\" prio=10 tid=0x00007f91e8021000 nid=0x56b4 runnable \n[junit4:junit4] \n[junit4:junit4] \"Gang worker#4 (Parallel GC Threads)\" prio=10 tid=0x00007f91e8023000 nid=0x56b5 runnable \n[junit4:junit4] \n[junit4:junit4] \"Gang worker#5 (Parallel GC Threads)\" prio=10 tid=0x00007f91e8025000 nid=0x56b6 runnable \n[junit4:junit4] \n[junit4:junit4] \"Gang worker#6 (Parallel GC Threads)\" prio=10 tid=0x00007f91e8026800 nid=0x56b7 runnable \n[junit4:junit4] \n[junit4:junit4] \"Gang worker#7 (Parallel GC Threads)\" prio=10 tid=0x00007f91e8028800 nid=0x56b8 runnable \n[junit4:junit4] \n[junit4:junit4] \"G1 Main Concurrent Mark GC Thread\" prio=10 tid=0x00007f91e803e800 nid=0x56c2 runnable \n[junit4:junit4] \n[junit4:junit4] \"Gang worker#0 (G1 Parallel Marking Threads)\" prio=10 tid=0x00007f91e8049800 nid=0x56ca runnable \n[junit4:junit4] \n[junit4:junit4] \"Gang worker#1 (G1 Parallel Marking Threads)\" prio=10 tid=0x00007f91e804b800 nid=0x56cc runnable \n[junit4:junit4] \n[junit4:junit4] \"G1 Concurrent Refinement Thread#0\" prio=10 tid=0x00007f91e803a000 nid=0x56c1 runnable \n[junit4:junit4] \n[junit4:junit4] \"G1 Concurrent Refinement Thread#1\" prio=10 tid=0x00007f91e8038000 nid=0x56c0 runnable \n[junit4:junit4] \n[junit4:junit4] \"G1 Concurrent Refinement Thread#2\" prio=10 tid=0x00007f91e8036000 nid=0x56bf runnable \n[junit4:junit4] \n[junit4:junit4] \"G1 Concurrent Refinement Thread#3\" prio=10 tid=0x00007f91e8034800 nid=0x56be runnable \n[junit4:junit4] \n[junit4:junit4] \"G1 Concurrent Refinement Thread#4\" prio=10 tid=0x00007f91e8032800 nid=0x56bd runnable \n[junit4:junit4] \n[junit4:junit4] \"G1 Concurrent Refinement Thread#5\" prio=10 tid=0x00007f91e8030800 nid=0x56bc runnable \n[junit4:junit4] \n[junit4:junit4] \"G1 Concurrent Refinement Thread#6\" prio=10 tid=0x00007f91e802f000 nid=0x56bb runnable \n[junit4:junit4] \n[junit4:junit4] \"G1 Concurrent Refinement Thread#7\" prio=10 tid=0x00007f91e802d000 nid=0x56ba runnable \n[junit4:junit4] \n[junit4:junit4] \"G1 Concurrent Refinement Thread#8\" prio=10 tid=0x00007f91e802b000 nid=0x56b9 runnable \n[junit4:junit4] \n[junit4:junit4] \n[junit4:junit4] \"VM Periodic Task Thread\" prio=10 tid=0x00007f91e81dc000 nid=0x56e4 waiting on condition \n[junit4:junit4] \n[junit4:junit4] JNI global references: 451\n[junit4:junit4] \n[junit4:junit4] Heap\n[junit4:junit4]  garbage-first heap   total 392192K, used 338577K [0x00000000dae00000, 0x00000000f2d00000, 0x00000000fae00000)\n[junit4:junit4]   region size 1024K, 240 young (245760K), 1 survivors (1024K)\n[junit4:junit4]  compacting perm gen  total 37888K, used 37190K [0x00000000fae00000, 0x00000000fd300000, 0x0000000100000000)\n[junit4:junit4]    the space 37888K,  98% used [0x00000000fae00000, 0x00000000fd251a88, 0x00000000fd251c00, 0x00000000fd300000)\n[junit4:junit4] No shared spaces configured.\n[junit4:junit4] <<< JVM J1: EOF ----\n\n "
        },
        {
            "author": "Uwe Schindler",
            "id": "comment-13414730",
            "date": "2012-07-15T18:03:21+0000",
            "content": "I mean that commit broke it again: http://svn.apache.org/viewvc?view=revision&revision=1361568 "
        },
        {
            "author": "Mark Miller",
            "id": "comment-13414775",
            "date": "2012-07-15T21:18:44+0000",
            "content": "Thanks! Well shoot - that means my fix did not quite work. Hmm...I will try again shortly... "
        },
        {
            "author": "Mark Miller",
            "id": "comment-13414786",
            "date": "2012-07-15T21:49:48+0000",
            "content": "So looking, there appears to be a hole in the fix - if a recovery is already stacked up and waiting, it was not checking the shutdown state before starting a new recovery - fingers crossed... "
        },
        {
            "author": "Mark Miller",
            "id": "comment-13415330",
            "date": "2012-07-16T15:58:10+0000",
            "content": "Hopefully that solved it - if not, we can reopen. "
        }
    ]
}