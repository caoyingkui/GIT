{
    "id": "SOLR-11002",
    "title": "Error while posting data",
    "details": {
        "labels": "",
        "priority": "Major",
        "components": [
            "SolrJ"
        ],
        "type": "Bug",
        "fix_versions": [
            "6.2.2"
        ],
        "affect_versions": "6.2",
        "resolution": "Invalid",
        "status": "Resolved"
    },
    "description": "we regularly go exception while we running solrj jobs , coluld you please help me to resolve this.\n\n\n2017-06-30 17:51:19.985 ERROR (qtp2012232625-241329) [c:mbrdaily s:shard12 r:core_node18 x:mbrdaily_shard12_replica1] o.a.s.h.RequestHandlerBase org.apache.solr.common.SolrException: Invalid Number:\nBCC:user@nribv5mhrrxuxztht34ek6ztnkteh6au1kojc8.burpcollaborator.net\nedm: a\n        at org.apache.solr.schema.TrieField.readableToIndexed(TrieField.java:537)\n        at org.apache.solr.schema.FieldType.getFieldQuery(FieldType.java:753)\n        at org.apache.solr.schema.TrieField.getFieldQuery(TrieField.java:496)\n        at org.apache.solr.parser.SolrQueryParserBase.getFieldQuery(SolrQueryParserBase.java:737)\n        at org.apache.solr.parser.SolrQueryParserBase.getFieldQuery(SolrQueryParserBase.java:385)\n        at org.apache.solr.parser.SolrQueryParserBase.handleQuotedTerm(SolrQueryParserBase.java:544)\n        at org.apache.solr.parser.QueryParser.Term(QueryParser.java:419)\n        at org.apache.solr.parser.QueryParser.Clause(QueryParser.java:186)\n        at org.apache.solr.parser.QueryParser.Query(QueryParser.java:140)\n        at org.apache.solr.parser.QueryParser.TopLevelQuery(QueryParser.java:96)\n        at org.apache.solr.parser.SolrQueryParserBase.parse(SolrQueryParserBase.java:153)\n        at org.apache.solr.search.LuceneQParser.parse(LuceneQParser.java:50)\n        at org.apache.solr.search.QParser.getQuery(QParser.java:141)\n        at org.apache.solr.handler.component.QueryComponent.prepare(QueryComponent.java:162)\n        at org.apache.solr.handler.component.SearchHandler.handleRequestBody(SearchHandler.java:267)\n        at org.apache.solr.handler.RequestHandlerBase.handleRequest(RequestHandlerBase.java:156)\n        at org.apache.solr.core.SolrCore.execute(SolrCore.java:2036)\n        at org.apache.solr.servlet.HttpSolrCall.execute(HttpSolrCall.java:657)\n        at org.apache.solr.servlet.HttpSolrCall.call(HttpSolrCall.java:464)\n        at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:257)\n        at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:208)\n        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1668)\n        at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:581)\n        at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\n        at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548)\n        at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:226)\n        at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1160)\n        at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:511)\n        at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185)\n        at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1092)\n        at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\n        at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:213)\n        at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:119)\n        at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:134)\n        at org.eclipse.jetty.server.Server.handle(Server.java:518)\n        at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:308)\n        at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:244)\n        at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:273)\n        at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:95)\n        at org.eclipse.jetty.io.SelectChannelEndPoint$2.run(SelectChannelEndPoint.java:93)\n        at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.produceAndRun(ExecuteProduceConsume.java:246)\n        at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.run(ExecuteProduceConsume.java:156)\n        at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:654)\n        at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:572)\n        at java.lang.Thread.run(Thread.java:745)\n\n2017-07-03 15:58:46.811 ERROR (updateExecutor-2-thread-20154-processing-http:////173.36.70.233:2400//solr//mbrdtl_shard8_replica1 x:mbrdtl_shard8_replica2 r:core_node17 n:173.36.70.230:2300_solr s:shard8 c:mbrdtl) [c:mbrdtl s:shard8 r:core_node17 x:mbrdtl_shard8_replica2] o.a.s.u.StreamingSolrClients error\njava.net.SocketException: Broken pipe\n        at java.net.SocketOutputStream.socketWrite0(Native Method)\n        at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:109)\n        at java.net.SocketOutputStream.write(SocketOutputStream.java:153)\n        at org.apache.http.impl.io.AbstractSessionOutputBuffer.flushBuffer(AbstractSessionOutputBuffer.java:159)\n        at org.apache.http.impl.io.AbstractSessionOutputBuffer.write(AbstractSessionOutputBuffer.java:179)\n        at org.apache.http.impl.io.ChunkedOutputStream.flushCacheWithAppend(ChunkedOutputStream.java:124)\n        at org.apache.http.impl.io.ChunkedOutputStream.write(ChunkedOutputStream.java:181)\n        at org.apache.solr.common.util.FastOutputStream.flush(FastOutputStream.java:213)\n        at org.apache.solr.common.util.FastOutputStream.flushBuffer(FastOutputStream.java:206)\n        at org.apache.solr.common.util.JavaBinCodec.marshal(JavaBinCodec.java:135)\n        at org.apache.solr.client.solrj.request.JavaBinUpdateRequestCodec.marshal(JavaBinUpdateRequestCodec.java:83)\n        at org.apache.solr.client.solrj.impl.BinaryRequestWriter.write(BinaryRequestWriter.java:108)\n        at org.apache.solr.client.solrj.impl.ConcurrentUpdateSolrClient$Runner$1.writeTo(ConcurrentUpdateSolrClient.java:252)\n        at org.apache.http.entity.EntityTemplate.writeTo(EntityTemplate.java:73)\n        at org.apache.http.entity.HttpEntityWrapper.writeTo(HttpEntityWrapper.java:96)\n        at org.apache.http.impl.client.EntityEnclosingRequestWrapper$EntityWrapper.writeTo(EntityEnclosingRequestWrapper.java:112)\n        at org.apache.http.impl.entity.EntitySerializer.serialize(EntitySerializer.java:117)\n        at org.apache.http.impl.AbstractHttpClientConnection.sendRequestEntity(AbstractHttpClientConnection.java:265)\n        at org.apache.http.impl.conn.ManagedClientConnectionImpl.sendRequestEntity(ManagedClientConnectionImpl.java:203)\n        at org.apache.http.protocol.HttpRequestExecutor.doSendRequest(HttpRequestExecutor.java:237)\n        at org.apache.http.protocol.HttpRequestExecutor.execute(HttpRequestExecutor.java:122)\n        at org.apache.http.impl.client.DefaultRequestDirector.tryExecute(DefaultRequestDirector.java:685)\n        at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:487)\n        at org.apache.http.impl.client.AbstractHttpClient.doExecute(AbstractHttpClient.java:882)\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:82)\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:107)\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:55)\n        at org.apache.solr.client.solrj.impl.ConcurrentUpdateSolrClient$Runner.sendUpdateStream(ConcurrentUpdateSolrClient.java:311)\n        at org.apache.solr.client.solrj.impl.ConcurrentUpdateSolrClient$Runner.run(ConcurrentUpdateSolrClient.java:185)\n        at org.apache.solr.common.util.ExecutorUtil$MDCAwareThreadPoolExecutor.lambda$execute$22(ExecutorUtil.java:229)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n        at java.lang.Thread.run(Thread.java:745)\n2017-07-03 15:58:47.510 ERROR (updateExecutor-2-thread-20154-processing-http:////173.36.70.233:2400//solr//mbrdtl_shard8_replica1 x:mbrdtl_shard8_replica2 r:core_node17 n:173.36.70.230:2300_solr s:shard8 c:mbrdtl) [c:mbrdtl s:shard8 r:core_node17 x:mbrdtl_shard8_replica2] o.a.s.u.StreamingSolrClients error\norg.apache.solr.common.SolrException: Service Unavailable\n\n\n\nrequest: http://173.36.70.233:2400/solr/mbrdtl_shard8_replica1/update?update.distrib=FROMLEADER&distrib.from=http%3A%2F%2F173.36.70.230%3A2300%2Fsolr%2Fmbrdtl_shard8_replica2%2F&wt=javabin&version=2\n        at org.apache.solr.client.solrj.impl.ConcurrentUpdateSolrClient$Runner.sendUpdateStream(ConcurrentUpdateSolrClient.java:320)\n        at org.apache.solr.client.solrj.impl.ConcurrentUpdateSolrClient$Runner.run(ConcurrentUpdateSolrClient.java:185)\n        at org.apache.solr.common.util.ExecutorUtil$MDCAwareThreadPoolExecutor.lambda$execute$22(ExecutorUtil.java:229)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n        at java.lang.Thread.run(Thread.java:745)\n2017-07-03 15:58:47.515 ERROR (updateExecutor-2-thread-20158-processing-http:////173.36.70.233:2400//solr//mbrdtl_shard8_replica1 x:mbrdtl_shard8_replica2 r:core_node17 n:173.36.70.230:2300_solr s:shard8 c:mbrdtl) [c:mbrdtl s:shard8 r:core_node17 x:mbrdtl_shard8_replica2] o.a.s.u.StreamingSolrClients error\norg.apache.solr.common.SolrException: Service Unavailable\n\n\n\nrequest: http://173.36.70.233:2400/solr/mbrdtl_shard8_replica1/update?update.distrib=FROMLEADER&distrib.from=http%3A%2F%2F173.36.70.230%3A2300%2Fsolr%2Fmbrdtl_shard8_replica2%2F&wt=javabin&version=2\n        at org.apache.solr.client.solrj.impl.ConcurrentUpdateSolrClient$Runner.sendUpdateStream(ConcurrentUpdateSolrClient.java:320)\n        at org.apache.solr.client.solrj.impl.ConcurrentUpdateSolrClient$Runner.run(ConcurrentUpdateSolrClient.java:185)\n        at org.apache.solr.common.util.ExecutorUtil$MDCAwareThreadPoolExecutor.lambda$execute$22(ExecutorUtil.java:229)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n        at java.lang.Thread.run(Thread.java:745)\n2017-07-03 15:58:47.898 ERROR (updateExecutor-2-thread-20157-processing-http:////173.36.70.233:2400//solr//mbrdtl_shard8_replica1 x:mbrdtl_shard8_replica2 r:core_node17 n:173.36.70.230:2300_solr s:shard8 c:mbrdtl) [c:mbrdtl s:shard8 r:core_node17 x:mbrdtl_shard8_replica2] o.a.s.u.StreamingSolrClients error\norg.apache.solr.common.SolrException: Service Unavailable\n\n\n\nrequest: http://173.36.70.233:2400/solr/mbrdtl_shard8_replica1/update?update.distrib=FROMLEADER&distrib.from=http%3A%2F%2F173.36.70.230%3A2300%2Fsolr%2Fmbrdtl_shard8_replica2%2F&wt=javabin&version=2\n        at org.apache.solr.client.solrj.impl.ConcurrentUpdateSolrClient$Runner.sendUpdateStream(ConcurrentUpdateSolrClient.java:320)\n        at org.apache.solr.client.solrj.impl.ConcurrentUpdateSolrClient$Runner.run(ConcurrentUpdateSolrClient.java:185)\n        at org.apache.solr.common.util.ExecutorUtil$MDCAwareThreadPoolExecutor.lambda$execute$22(ExecutorUtil.java:229)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n        at java.lang.Thread.run(Thread.java:745)\n2017-07-03 15:58:47.898 ERROR (updateExecutor-2-thread-20158-processing-http:////173.36.70.233:2400//solr//mbrdtl_shard8_replica1 x:mbrdtl_shard8_replica2 r:core_node17 n:173.36.70.230:2300_solr s:shard8 c:mbrdtl) [c:mbrdtl s:shard8 r:core_node17 x:mbrdtl_shard8_replica2] o.a.s.u.StreamingSolrClients error\norg.apache.solr.common.SolrException: Service Unavailable\n\n\n\nrequest: http://173.36.70.233:2400/solr/mbrdtl_shard8_replica1/update?update.distrib=FROMLEADER&distrib.from=http%3A%2F%2F173.36.70.230%3A2300%2Fsolr%2Fmbrdtl_shard8_replica2%2F&wt=javabin&version=2\n        at org.apache.solr.client.solrj.impl.ConcurrentUpdateSolrClient$Runner.sendUpdateStream(ConcurrentUpdateSolrClient.java:320)\n        at org.apache.solr.client.solrj.impl.ConcurrentUpdateSolrClient$Runner.run(ConcurrentUpdateSolrClient.java:185)\n        at org.apache.solr.common.util.ExecutorUtil$MDCAwareThreadPoolExecutor.lambda$execute$22(ExecutorUtil.java:229)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n        at java.lang.Thread.run(Thread.java:745)\n2017-07-03 15:58:47.900 ERROR (qtp2012232625-269259) [c:mbrdtl s:shard8 r:core_node17 x:mbrdtl_shard8_replica2] o.a.s.u.p.DistributedUpdateProcessor On core_node17, replica http://173.36.70.233:2400/solr/mbrdtl_shard8_replica1/ now thinks it is the leader! Failing the request to let the client retry! org.apache.solr.common.SolrException: Service Unavailable\n\n\n\nrequest: http://173.36.70.233:2400/solr/mbrdtl_shard8_replica1/update?update.distrib=FROMLEADER&distrib.from=http%3A%2F%2F173.36.70.230%3A2300%2Fsolr%2Fmbrdtl_shard8_replica2%2F&wt=javabin&version=2\n2017-07-03 15:58:47.900 ERROR (updateExecutor-2-thread-20154-processing-http:////173.36.70.233:2400//solr//mbrdtl_shard8_replica1 x:mbrdtl_shard8_replica2 r:core_node17 n:173.36.70.230:2300_solr s:shard8 c:mbrdtl) [c:mbrdtl s:shard8 r:core_node17 x:mbrdtl_shard8_replica2] o.a.s.u.StreamingSolrClients error\norg.apache.solr.common.SolrException: Service Unavailable\n\n\n\nrequest: http://173.36.70.233:2400/solr/mbrdtl_shard8_replica1/update?update.distrib=FROMLEADER&distrib.from=http%3A%2F%2F173.36.70.230%3A2300%2Fsolr%2Fmbrdtl_shard8_replica2%2F&wt=javabin&version=2\n        at org.apache.solr.client.solrj.impl.ConcurrentUpdateSolrClient$Runner.sendUpdateStream(ConcurrentUpdateSolrClient.java:320)\n        at org.apache.solr.client.solrj.impl.ConcurrentUpdateSolrClient$Runner.run(ConcurrentUpdateSolrClient.java:185)\n        at org.apache.solr.common.util.ExecutorUtil$MDCAwareThreadPoolExecutor.lambda$execute$22(ExecutorUtil.java:229)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n        at java.lang.Thread.run(Thread.java:745)\n2017-07-03 15:58:47.902 ERROR (qtp2012232625-269125) [c:mbrdtl s:shard8 r:core_node17 x:mbrdtl_shard8_replica2] o.a.s.u.p.DistributedUpdateProcessor On core_node17, replica http://173.36.70.233:2400/solr/mbrdtl_shard8_replica1/ now thinks it is the leader! Failing the request to let the client retry! org.apache.solr.common.SolrException: Service Unavailable\n\n\n\nrequest: http://173.36.70.233:2400/solr/mbrdtl_shard8_replica1/update?update.distrib=FROMLEADER&distrib.from=http%3A%2F%2F173.36.70.230%3A2300%2Fsolr%2Fmbrdtl_shard8_replica2%2F&wt=javabin&version=2\n2017-07-03 15:58:47.903 ERROR (qtp2012232625-269125) [c:mbrdtl s:shard8 r:core_node17 x:mbrdtl_shard8_replica2] o.a.s.u.p.DistributedUpdateProcessor On core_node17, replica http://173.36.70.233:2400/solr/mbrdtl_shard8_replica1/ now thinks it is the leader! Failing the request to let the client retry! org.apache.solr.common.SolrException: Service Unavailable\n\n\n\nrequest: http://173.36.70.233:2400/solr/mbrdtl_shard8_replica1/update?update.distrib=FROMLEADER&distrib.from=http%3A%2F%2F173.36.70.230%3A2300%2Fsolr%2Fmbrdtl_shard8_replica2%2F&wt=javabin&version=2\n2017-07-03 15:58:47.903 ERROR (qtp2012232625-270567) [c:mbrdtl s:shard8 r:core_node17 x:mbrdtl_shard8_replica2] o.a.s.u.p.DistributedUpdateProcessor On core_node17, replica http://173.36.70.233:2400/solr/mbrdtl_shard8_replica1/ now thinks it is the leader! Failing the request to let the client retry! org.apache.solr.common.SolrException: Service Unavailable\n\n\n\nrequest: http://173.36.70.233:2400/solr/mbrdtl_shard8_replica1/update?update.distrib=FROMLEADER&distrib.from=http%3A%2F%2F173.36.70.230%3A2300%2Fsolr%2Fmbrdtl_shard8_replica2%2F&wt=javabin&version=2\n2017-07-03 15:58:47.904 ERROR (qtp2012232625-269125) [c:mbrdtl s:shard8 r:core_node17 x:mbrdtl_shard8_replica2] o.a.s.h.RequestHandlerBase org.apache.solr.update.processor.DistributedUpdateProcessor$DistributedUpdatesAsyncException: 2 Async exceptions during distributed update:\nService Unavailable\n\n\n\nrequest: http://173.36.70.233:2400/solr/mbrdtl_shard8_replica1/update?update.distrib=FROMLEADER&distrib.from=http%3A%2F%2F173.36.70.230%3A2300%2Fsolr%2Fmbrdtl_shard8_replica2%2F&wt=javabin&version=2\nService Unavailable\n\n\n\nrequest: http://173.36.70.233:2400/solr/mbrdtl_shard8_replica1/update?update.distrib=FROMLEADER&distrib.from=http%3A%2F%2F173.36.70.230%3A2300%2Fsolr%2Fmbrdtl_shard8_replica2%2F&wt=javabin&version=2\n        at org.apache.solr.update.processor.DistributedUpdateProcessor.doFinish(DistributedUpdateProcessor.java:932)\n        at org.apache.solr.update.processor.DistributedUpdateProcessor.finish(DistributedUpdateProcessor.java:1663)\n        at org.apache.solr.handler.ContentStreamHandlerBase.handleRequestBody(ContentStreamHandlerBase.java:78)\n        at org.apache.solr.handler.RequestHandlerBase.handleRequest(RequestHandlerBase.java:156)\n        at org.apache.solr.core.SolrCore.execute(SolrCore.java:2036)\n        at org.apache.solr.servlet.HttpSolrCall.execute(HttpSolrCall.java:657)\n        at org.apache.solr.servlet.HttpSolrCall.call(HttpSolrCall.java:464)\n        at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:257)\n        at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:208)\n        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1668)\n        at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:581)\n        at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\n        at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548)\n        at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:226)\n        at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1160)\n        at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:511)\n        at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185)\n        at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1092)\n        at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\n        at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:213)\n        at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:119)\n        at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:134)\n        at org.eclipse.jetty.server.Server.handle(Server.java:518)\n        at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:308)\n        at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:244)\n        at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:273)\n        at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:95)\n        at org.eclipse.jetty.io.SelectChannelEndPoint$2.run(SelectChannelEndPoint.java:93)\n        at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.produceAndRun(ExecuteProduceConsume.java:246)\n        at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.run(ExecuteProduceConsume.java:156)\n        at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:654)\n        at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:572)\n        at java.lang.Thread.run(Thread.java:745)\n\n2017-07-03 15:58:47.904 ERROR (qtp2012232625-269259) [c:mbrdtl s:shard8 r:core_node17 x:mbrdtl_shard8_replica2] o.a.s.h.RequestHandlerBase org.apache.solr.update.processor.DistributedUpdateProcessor$DistributedUpdatesAsyncException: Async exception during distributed update: Service Unavailable\n\n\n\nrequest: http://173.36.70.233:2400/solr/mbrdtl_shard8_replica1/update?update.distrib=FROMLEADER&distrib.from=http%3A%2F%2F173.36.70.230%3A2300%2Fsolr%2Fmbrdtl_shard8_replica2%2F&wt=javabin&version=2\n        at org.apache.solr.update.processor.DistributedUpdateProcessor.doFinish(DistributedUpdateProcessor.java:932)\n        at org.apache.solr.update.processor.DistributedUpdateProcessor.finish(DistributedUpdateProcessor.java:1663)\n        at org.apache.solr.handler.ContentStreamHandlerBase.handleRequestBody(ContentStreamHandlerBase.java:78)\n        at org.apache.solr.handler.RequestHandlerBase.handleRequest(RequestHandlerBase.java:156)\n        at org.apache.solr.core.SolrCore.execute(SolrCore.java:2036)\n        at org.apache.solr.servlet.HttpSolrCall.execute(HttpSolrCall.java:657)\n        at org.apache.solr.servlet.HttpSolrCall.call(HttpSolrCall.java:464)\n        at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:257)\n        at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:208)\n        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1668)\n        at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:581)\n        at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\n        at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548)\n        at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:226)\n        at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1160)\n        at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:511)\n        at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185)\n        at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1092)\n        at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\n        at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:213)\n        at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:119)\n        at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:134)\n        at org.eclipse.jetty.server.Server.handle(Server.java:518)\n        at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:308)\n        at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:244)\n        at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:273)\n        at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:95)\n        at org.eclipse.jetty.io.SelectChannelEndPoint$2.run(SelectChannelEndPoint.java:93)\n        at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.produceAndRun(ExecuteProduceConsume.java:246)\n        at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.run(ExecuteProduceConsume.java:156)\n        at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:654)\n        at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:572)\n        at java.lang.Thread.run(Thread.java:745)\n\n2017-07-03 15:58:47.904 ERROR (qtp2012232625-270567) [c:mbrdtl s:shard8 r:core_node17 x:mbrdtl_shard8_replica2] o.a.s.u.p.DistributedUpdateProcessor On core_node17, replica http://173.36.70.233:2400/solr/mbrdtl_shard8_replica1/ now thinks it is the leader! Failing the request to let the client retry! org.apache.solr.common.SolrException: Service Unavailable\n\n\n\nrequest: http://173.36.70.233:2400/solr/mbrdtl_shard8_replica1/update?update.distrib=FROMLEADER&distrib.from=http%3A%2F%2F173.36.70.230%3A2300%2Fsolr%2Fmbrdtl_shard8_replica2%2F&wt=javabin&version=2\n2017-07-03 15:58:47.905 ERROR (qtp2012232625-270567) [c:mbrdtl s:shard8 r:core_node17 x:mbrdtl_shard8_replica2] o.a.s.h.RequestHandlerBase org.apache.solr.update.processor.DistributedUpdateProcessor$DistributedUpdatesAsyncException: 2 Async exceptions during distributed update:\nService Unavailable\n\n\n\nrequest: http://173.36.70.233:2400/solr/mbrdtl_shard8_replica1/update?update.distrib=FROMLEADER&distrib.from=http%3A%2F%2F173.36.70.230%3A2300%2Fsolr%2Fmbrdtl_shard8_replica2%2F&wt=javabin&version=2\nService Unavailable\n\n\n\nrequest: http://173.36.70.233:2400/solr/mbrdtl_shard8_replica1/update?update.distrib=FROMLEADER&distrib.from=http%3A%2F%2F173.36.70.230%3A2300%2Fsolr%2Fmbrdtl_shard8_replica2%2F&wt=javabin&version=2\n        at org.apache.solr.update.processor.DistributedUpdateProcessor.doFinish(DistributedUpdateProcessor.java:932)\n        at org.apache.solr.update.processor.DistributedUpdateProcessor.finish(DistributedUpdateProcessor.java:1663)\n        at org.apache.solr.handler.ContentStreamHandlerBase.handleRequestBody(ContentStreamHandlerBase.java:78)\n        at org.apache.solr.handler.RequestHandlerBase.handleRequest(RequestHandlerBase.java:156)\n        at org.apache.solr.core.SolrCore.execute(SolrCore.java:2036)\n        at org.apache.solr.servlet.HttpSolrCall.execute(HttpSolrCall.java:657)\n        at org.apache.solr.servlet.HttpSolrCall.call(HttpSolrCall.java:464)\n        at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:257)\n        at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:208)\n        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1668)\n        at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:581)\n        at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\n        at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548)\n        at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:226)\n        at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1160)\n        at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:511)\n        at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185)\n        at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1092)\n        at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\n        at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:213)\n        at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:119)\n        at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:134)\n        at org.eclipse.jetty.server.Server.handle(Server.java:518)\n        at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:308)\n        at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:244)\n        at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:273)\n        at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:95)\n        at org.eclipse.jetty.io.SelectChannelEndPoint$2.run(SelectChannelEndPoint.java:93)\n        at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.produceAndRun(ExecuteProduceConsume.java:246)\n        at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.run(ExecuteProduceConsume.java:156)\n        at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:654)\n        at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:572)\n        at java.lang.Thread.run(Thread.java:745)\n\n\nThanks,",
    "attachments": {},
    "issue_links": {},
    "comments": [
        {
            "date": "2017-07-20T15:43:27+0000",
            "content": "It would be better to ask this in solr-users mailing list to get more audience to help you out. Open a JIRA only when there's something actionable or we have specific insights on what is going wrong.\n\nhttp://lucene.apache.org/solr/community.html\n\nWith the looks of it, it looks like some of the nodes are down. Also you opened the JIRA under solrj sub category so insights into the client code you are running will be helpful too. ",
            "author": "Amrit Sarkar",
            "id": "comment-16094852"
        }
    ]
}