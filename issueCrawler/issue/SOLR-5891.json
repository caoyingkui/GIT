{
    "id": "SOLR-5891",
    "title": "Problems installing Apache Solr with Apache Tomcat",
    "details": {
        "affect_versions": "4.7",
        "status": "Resolved",
        "fix_versions": [
            "4.7"
        ],
        "components": [
            "clients - java",
            "SolrCloud"
        ],
        "type": "Bug",
        "priority": "Major",
        "labels": "",
        "resolution": "Invalid"
    },
    "description": "I installed Apache Solr, version 4.7.0. As part of the install, I performed the following: \n(Based on these instructions: http://sachkadam.wordpress.com/2013/04/29/solr-installation-on-centos-6/) -> The summary is as follows:\n\n\n\tI moved the \"/example/solr\" directory to /opt/solr.\n\tI created a \"solr.xml\" file with contains the following xml code:\n\n\n\tmore solr.xml\n\n\n\n<?xml version=\u201d1.0\u2033 encoding=\u201dutf-8\u2033?>\n<Context docBase=\u201d/opt/solr/solr-4.7.0.war\u201d debug=\u201d0\u2033 crossContext=\u201dtrue\u201d>\n<Environment name=\u201dsolr/home\u201d type=\u201djava.lang.String\u201d value=\u201d/opt/solr\u201d override=\u201dtrue\u201d/>\n</Context>\n\nThe \"solr.xml\" file is located in: /usr/share/apache-tomcat-7.0.52/conf/Catalina/localhost\n\n**When I try to access solr through the following URL: http://107.170.94.202:8983, I receive the following error: \n\n{msg=SolrCore 'collection1' is not available due to init failure: Could not load config file /root/solr-4.7.0/example/solr/collection1/solrconfig.xml,trace=org.apache.solr.common.SolrException: SolrCore 'collection1' is not available due to init failure: Could not load config file /root/solr-4.7.0/example/solr/collection1/solrconfig.xml\n\tat org.apache.solr.core.CoreContainer.getCore(CoreContainer.java:827)\n\tat org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:317)\n\tat org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:217)\n\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1419)\n\tat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:455)\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:137)\n\tat org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:557)\n\tat org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:231)\n\tat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1075)\n\tat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:384)\n\tat org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:193)\n\tat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1009)\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:135)\n\tat org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:255)\n\tat org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:154)\n\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:116)\n\tat org.eclipse.jetty.server.Server.handle(Server.java:368)\n\tat org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:489)\n\tat org.eclipse.jetty.server.BlockingHttpConnection.handleRequest(BlockingHttpConnection.java:53)\n\tat org.eclipse.jetty.server.AbstractHttpConnection.headerComplete(AbstractHttpConnection.java:942)\n\tat org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.headerComplete(AbstractHttpConnection.java:1004)\n\tat org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:640)\n\tat org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:235)\n\tat org.eclipse.jetty.server.BlockingHttpConnection.handle(BlockingHttpConnection.java:72)\n\tat org.eclipse.jetty.server.bio.SocketConnector$ConnectorEndPoint.run(SocketConnector.java:264)\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:608)\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:543)\n\tat java.lang.Thread.run(Thread.java:744)\nCaused by: org.apache.solr.common.SolrException: Could not load config file /root/solr-4.7.0/example/solr/collection1/solrconfig.xml\n\tat org.apache.solr.core.CoreContainer.createFromLocal(CoreContainer.java:530)\n\tat org.apache.solr.core.CoreContainer.create(CoreContainer.java:597)\n\tat org.apache.solr.core.CoreContainer$1.call(CoreContainer.java:258)\n\tat org.apache.solr.core.CoreContainer$1.call(CoreContainer.java:250)\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:262)\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:262)\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n\t... 1 more\nCaused by: java.io.IOException: Can't find resource 'solrconfig.xml' in classpath or '/root/solr-4.7.0/example/solr/collection1/conf'\n\tat org.apache.solr.core.SolrResourceLoader.openResource(SolrResourceLoader.java:342)\n\tat org.apache.solr.core.SolrResourceLoader.openConfig(SolrResourceLoader.java:288)\n\tat org.apache.solr.core.Config.<init>(Config.java:116)\n\tat org.apache.solr.core.Config.<init>(Config.java:86)\n\tat org.apache.solr.core.SolrConfig.<init>(SolrConfig.java:140)\n\tat org.apache.solr.core.CoreContainer.createFromLocal(CoreContainer.java:527)\n\t... 9 more\n,code=500}\n\nI also tried checking if Apache Solr was running through the following URL: \nhttp://107.170.94.202:8080/solr\n\nBut I receive the following error message:\n\u2014\nHTTP Status 404 - /solr\n\ntype Status report\n\nmessage /solr\n\ndescription The requested resource is not available.\nApache Tomcat/7.0.52\n\u2014\n\nIf you could share your expertise and let me know how I may resolve this issue it is greatly appreciated. Looking forward to your response.\n\nMany thanks,\nDean",
    "attachments": {},
    "issue_links": {},
    "comments": [
        {
            "author": "Tom\u00e1s Fern\u00e1ndez L\u00f6bbe",
            "id": "comment-13942116",
            "date": "2014-03-20T18:46:22+0000",
            "content": "Looks like a configuration issue. You are trying to set the solr home to /opt/solr but apparently Solr is reading from /root/solr-4.7.0/example/solr (maybe you set that somewhere else?).\nAnyway, you should raise this question int the users list: https://lucene.apache.org/solr/discussion.html "
        }
    ]
}