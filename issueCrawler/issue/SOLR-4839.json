{
    "id": "SOLR-4839",
    "title": "Jetty 9",
    "details": {
        "affect_versions": "None",
        "status": "Closed",
        "fix_versions": [
            "5.2",
            "6.0"
        ],
        "components": [],
        "type": "Improvement",
        "priority": "Major",
        "labels": "",
        "resolution": "Fixed"
    },
    "description": "Implement Jetty 9",
    "attachments": {
        "SOLR-4839-separate-client-ssl-options.patch": "https://issues.apache.org/jira/secure/attachment/12728165/SOLR-4839-separate-client-ssl-options.patch",
        "SOLR-4839.patch": "https://issues.apache.org/jira/secure/attachment/12688217/SOLR-4839.patch",
        "SOLR-4839-conform-jetty9_2_10.patch": "https://issues.apache.org/jira/secure/attachment/12727154/SOLR-4839-conform-jetty9_2_10.patch",
        "SOLR-4839-branch_5x.patch": "https://issues.apache.org/jira/secure/attachment/12728237/SOLR-4839-branch_5x.patch",
        "SOLR-4839-fix-eclipse.patch": "https://issues.apache.org/jira/secure/attachment/12690347/SOLR-4839-fix-eclipse.patch",
        "SOLR-4839-ssl-support_patch.patch": "https://issues.apache.org/jira/secure/attachment/12727574/SOLR-4839-ssl-support_patch.patch",
        "SOLR-4839-mod-JettySolrRunner.patch": "https://issues.apache.org/jira/secure/attachment/12691519/SOLR-4839-mod-JettySolrRunner.patch",
        "SOLR-4839-jetty9.2.10": "https://issues.apache.org/jira/secure/attachment/12727122/SOLR-4839-jetty9.2.10"
    },
    "issue_links": {},
    "comments": [
        {
            "author": "Bill Bell",
            "id": "comment-13661499",
            "date": "2013-05-19T06:10:12+0000",
            "content": "Stable 9.0.3.v20130506 "
        },
        {
            "author": "Shawn Heisey",
            "id": "comment-13816105",
            "date": "2013-11-07T16:38:31+0000",
            "content": "I changed the jetty version in a branch_4x checkout to 9.0.6.v20130930 ... this resulted in compilation errors.  The API isn't the same, so this won't be a trivial patch.\n\nFixing the API issues looks like it's going to be more than just changing class and/or method names.  I spent a few minutes on it before my morning commute and concluded that I wasn't going to be able to do it quickly, and without a lot of research, I won't know if I'm doing it correctly. "
        },
        {
            "author": "Robert Muir",
            "id": "comment-13816111",
            "date": "2013-11-07T16:41:30+0000",
            "content": "doesnt jetty 9 require java7? "
        },
        {
            "author": "Shawn Heisey",
            "id": "comment-13816112",
            "date": "2013-11-07T16:43:39+0000",
            "content": "Robert Muir, you are correct.  I didn't even think to look at that.  So this will be a trunk change only. "
        },
        {
            "author": "Alexandre Rafalovitch",
            "id": "comment-13972387",
            "date": "2014-04-17T08:14:56+0000",
            "content": "Is this now worth a review, since we are moving to Java 7? For 4.9? "
        },
        {
            "author": "Steve Rowe",
            "id": "comment-14172556",
            "date": "2014-10-15T16:36:55+0000",
            "content": "We should make this change soon: Jetty 9 has builtin support for disabling protocols (POODLE), e.g. (from http://stackoverflow.com/questions/19913403/how-do-i-disallow-particular-ssl-protocols-in-jetty):\n\n\n<Arg name=\"sslContextFactory\">\n    ...\n    <Set name=\"excludeProtocols\">\n      <Array type=\"java.lang.String\">\n        <Item>SSLv3</Item>\n      </Array>\n     </Set>\n\n  "
        },
        {
            "author": "Shalin Shekhar Mangar",
            "id": "comment-14252808",
            "date": "2014-12-19T02:25:16+0000",
            "content": "Patch to upgrade to Jetty 9.\n\nSome core tests still fail that I need to dig in:\n\n   [junit4] Tests with failures:\n   [junit4]   - org.apache.solr.rest.schema.TestSchemaResource (suite)\n   [junit4]   - org.apache.solr.schema.TestCloudSchemaless.testDistribSearch\n   [junit4]   - org.apache.solr.rest.schema.TestDynamicFieldResource (suite)\n   [junit4]   - org.apache.solr.schema.TestCloudSchemaless (suite)\n\n "
        },
        {
            "author": "Steve Davids",
            "id": "comment-14252919",
            "date": "2014-12-19T04:39:35+0000",
            "content": "The jetty.xml file is going to need to change:\n\nPrior to Jetty 9, the type of the connector specified both the protocol and the implementation used (for example, selector-based non blocking I/O vs blocking I/O, or SSL connector vs non-SSL connector). Jetty 9 has only a selector-based non blocking I/O connector, and a collection of ConnectionFactories now configure the protocol on the connector.\n\nhttp://www.eclipse.org/jetty/documentation/current/configuring-connectors.html#jetty-connectors "
        },
        {
            "author": "Shalin Shekhar Mangar",
            "id": "comment-14253944",
            "date": "2014-12-19T20:10:18+0000",
            "content": "I'm attaching this patch as a checkpoint.\n\n\n\tFixed some compile failures in StartSolrJetty and SolrRequestParserTest\n\tModified jetty.xml and solr-jetty-context.xml to conform to Jetty 9 changes\n\n\n\nTodo:\n\n\tFix the SSL example\n\tFix the failing tests\n\tThe example doesn't work right now because unlike previous versions of jetty, jetty.home is resolved as the location of start.jar which gets resolved to the ivy cache path which messes up our configuration.\n\tJetty 9 has this concept of modules which can be configured via property files and/or by xml. We could do away with XML configuration if we want. Opinions?\n\n "
        },
        {
            "author": "Steve Davids",
            "id": "comment-14254329",
            "date": "2014-12-20T00:10:34+0000",
            "content": "Jetty 9 has this concept of modules which can be configured via property files and/or by xml. We could do away with XML configuration if we want.\n\nI actually like the module concept but I'm not sure how much of that you are going to want to bundle in Solr itself (copying module files).\n\nLet me know if you want a hand with any of the TODOs. "
        },
        {
            "author": "Shalin Shekhar Mangar",
            "id": "comment-14254345",
            "date": "2014-12-20T00:24:41+0000",
            "content": "I actually like the module concept but I'm not sure how much of that you are going to want to bundle in Solr itself (copying module files).\n\nThanks Steve.\n\nI think we can:\n\n\tBundle http, https, ssl and server modules\n\tHave a start.ini which has all the properties of the server (SSL and non-SSL)\n\tEnable only the http related part but have all the SSL related properties there as comments\n\n\n\nThen I hope to have bin/solr enable/disable modules as necessary so that enabling ssl can be a matter of setting some environment variables and executing bin/solr with a special argument.\n\nRight now we use restlet-jee which is not compatible with Jetty9 but restlet-jse 2.3 is compatible. According to Use account \"steve_rowe\" instead there is no special reason to use restlet-jee instead of restlet-jse so we may be able to switch to jse and upgrade the version to make it work.\n\nI'll attach another patch as a checkpoint in an hour or so. "
        },
        {
            "author": "Shalin Shekhar Mangar",
            "id": "comment-14254453",
            "date": "2014-12-20T01:55:44+0000",
            "content": "I made some progress getting the modules in place. The example doesn't come up yet. The classpath's correct, I think, but it cannot find the context. I'll look at this again tomorrow. "
        },
        {
            "author": "Shalin Shekhar Mangar",
            "id": "comment-14254780",
            "date": "2014-12-20T14:49:23+0000",
            "content": "\n\tSolr comes up fine\n\tJetty logging works but somehow the rootLogger for /solr is always null, I am not sure why\n\tI added -Djetty.home=$SOLR_SERVER_DIR in bin/solr otherwise jetty resolves jetty.home as the path of start.jar in ivy2 cache.\n\n\n\nNow I will try to upgrade restlet to 2.3 and see if we can get all tests to pass. "
        },
        {
            "author": "Shalin Shekhar Mangar",
            "id": "comment-14255198",
            "date": "2014-12-21T16:18:30+0000",
            "content": "Jetty logging works but somehow the rootLogger for /solr is always null, I am not sure why\n\nActually the same thing happens on branch_5x and it's fine. The logging works as expected.\n\nI traced the test failures to double initialization of SolrDispatchFilter in JettySolrRunner. The root.addServlet also calls filter init for all filter added till that point. This was leading to thread leaks and test failures. I am not sure if this is a bug in jetty but adding SolrDispatchFilter after all other filters and servlets have been added works around this issue.\n\nNow I will try to upgrade restlet to 2.3\n\nThis patch passes all the schema related tests that were failing earlier. I see HttpPartitionTest fail with this patch. The failure can be reproduced with:\n\n\nant test  -Dtestcase=HttpPartitionTest -Dtests.method=testDistribSearch -Dtests.seed=B85FF6DC513799E3 -Dtests.slow=true -Dtests.locale=es_GT -Dtests.timezone=Asia/Chungking -Dtests.asserts=true -Dtests.file.encoding=US-ASCII "
        },
        {
            "author": "Shalin Shekhar Mangar",
            "id": "comment-14259186",
            "date": "2014-12-26T19:12:22+0000",
            "content": "I can use some help debugging the tests which use SocketProxy viz. HttpPartitionTest, ReplicationFactorTest, LeaderFailoverAfterPartitionTest and LeaderInitiatedRecoveryOnCommitTest. They do not need any specific seeds but seem to hang on almost every run.\n\nI find that this happens after a few open/close cycles for the SocketProxy. A request after this point never reaches the Solr Jetty and the SocketProxy thread is found to be waiting on accept() (with no trace of a bridge ever being executed) as if the request never made it to the SocketProxy.\n\nAll other Solr tests pass with the last patch attached on this issue. "
        },
        {
            "author": "Timothy Potter",
            "id": "comment-14261987",
            "date": "2014-12-31T06:42:06+0000",
            "content": "Still digging into the HttpPartitionTest hangs, but for me, it looks like something related to deleting the collections using the collections admin API at the end of the sub-tests. If I comment out the delete collection request (several places in the code), HttpPartitionTest works fine:\n\n\n    try {\n      CollectionAdminRequest.Delete req = new CollectionAdminRequest.Delete();\n      req.setCollectionName(testCollectionName);\n      //req.process(cloudClient);\n    } catch (Exception e) {\n      // don't fail the test\n      log.warn(\"Could not delete collection {} after test completed\", testCollectionName);\n    }\n\n "
        },
        {
            "author": "Shalin Shekhar Mangar",
            "id": "comment-14262158",
            "date": "2014-12-31T13:10:36+0000",
            "content": "Yeah, it is interesting that it fails right at that point. But there are other tests like SimpleCollectionCreateDeleteTest which do not fail. I changed the number of docs from 1000 to 200 and then it failed at a different point.\n\nThe interesting thing is that I added logging in CoreAdminHandler.unload and that log lines are never printed. The call to unload one of those cores is never received by Solr. "
        },
        {
            "author": "Uwe Schindler",
            "id": "comment-14262166",
            "date": "2014-12-31T13:25:38+0000",
            "content": "I just wanted to mention, that the move to Jetty 9 may need us to disable solr test on FreeBSD Jenkins completely. Currently, FreeBSD Jenkins uses the special sysprop \"tests.jettyConnector\" (or like that) to use the simple Java IO based connector.\n\nPlease also remove all references to this sysprop from build files (ANT/Maven), too! "
        },
        {
            "author": "Timothy Potter",
            "id": "comment-14262443",
            "date": "2014-12-31T21:31:54+0000",
            "content": "My initial diagnosis was sort of a red herring ... it's a race condition in the SocketProxy which kindly goes away when I turn on debug logging ... "
        },
        {
            "author": "Timothy Potter",
            "id": "comment-14263179",
            "date": "2015-01-02T19:48:35+0000",
            "content": "Shalin Shekhar Mangar can you try the patch I provided to SOLR-6874 to see if it fixes the issue for you here? I beast'd the HttpPartitionTest with the patched applied ontop of the latest patch here and it passed 15 of 15. Hoping you see the same. "
        },
        {
            "author": "Shalin Shekhar Mangar",
            "id": "comment-14263321",
            "date": "2015-01-02T23:43:14+0000",
            "content": "Latest patch which includes SOLR-6874. All tests pass.\n\nI think we should commit this and then work on a SSL switch in the bin scripts as well as easy to modify https/ssl configuration in the jetty configs. "
        },
        {
            "author": "Shalin Shekhar Mangar",
            "id": "comment-14263323",
            "date": "2015-01-02T23:46:54+0000",
            "content": "This patch removes the tests.jettyConnector sysprop as Uwe mentioned earlier. "
        },
        {
            "author": "Shalin Shekhar Mangar",
            "id": "comment-14263338",
            "date": "2015-01-03T00:36:57+0000",
            "content": "\nI just wanted to mention, that the move to Jetty 9 may need us to disable solr test on FreeBSD Jenkins completely. Currently, FreeBSD Jenkins uses the special sysprop \"tests.jettyConnector\" (or like that) to use the simple Java IO based connector.\n\nI don't think we have a choice. I'd like to take advantage of async http for inter-shard communication so we need Jetty 9. Also, the FreeBSD Jenkins has been very unreliable in the past compared to your Policeman Jenkins box. I'm never quite sure whether a test failing on FreeBSD is a genuine or not.\n\nCan you please disable the FreeBSD jenkins Uwe Schindler? "
        },
        {
            "author": "Uwe Schindler",
            "id": "comment-14263861",
            "date": "2015-01-04T13:13:29+0000",
            "content": "I will disable the tests of course once this is committed. Lucene trunk's tests are already disabled, because Java 8 crushes while running Solr tests (also inside networking code). "
        },
        {
            "author": "Shalin Shekhar Mangar",
            "id": "comment-14264633",
            "date": "2015-01-05T14:42:04+0000",
            "content": "Final patch. I'll commit shortly. "
        },
        {
            "author": "ASF subversion and git services",
            "id": "comment-14264699",
            "date": "2015-01-05T15:45:59+0000",
            "content": "Commit 1649552 from shalin@apache.org in branch 'dev/trunk'\n[ https://svn.apache.org/r1649552 ]\n\nSOLR-4839: Upgrade to Jetty 9 "
        },
        {
            "author": "ASF subversion and git services",
            "id": "comment-14264737",
            "date": "2015-01-05T16:23:03+0000",
            "content": "Commit 1649571 from shalin@apache.org in branch 'dev/trunk'\n[ https://svn.apache.org/r1649571 ]\n\nSOLR-4839: Removing extra license text from jetty xml and module files "
        },
        {
            "author": "ASF subversion and git services",
            "id": "comment-14264757",
            "date": "2015-01-05T16:43:46+0000",
            "content": "Commit 1649584 from shalin@apache.org in branch 'dev/trunk'\n[ https://svn.apache.org/r1649584 ]\n\nSOLR-4839: Remove jetty.port from start.ini and add default inside jetty-http.xml "
        },
        {
            "author": "Shalin Shekhar Mangar",
            "id": "comment-14264768",
            "date": "2015-01-05T16:57:24+0000",
            "content": "We still need to test this on windows. Timothy Potter has kindly offered to take care of it. I also see that the solr-port-console.log file is always empty after these changes but the solr.log has all the right logs. "
        },
        {
            "author": "ASF subversion and git services",
            "id": "comment-14265288",
            "date": "2015-01-05T23:03:20+0000",
            "content": "Commit 1649689 from Timothy Potter in branch 'dev/trunk'\n[ https://svn.apache.org/r1649689 ]\n\nSOLR-4839: start Jetty 9 correctly on Windows "
        },
        {
            "author": "Timothy Potter",
            "id": "comment-14265293",
            "date": "2015-01-05T23:06:08+0000",
            "content": "I committed some updates to solr.cmd for this. The odd thing is that I had to set java.io.tmpdir on Windows to get it to work as it looks like Jetty 9 is creating a file, such as startBIGNUMBER.properties, in the tmp location. I couldn't see if that was configurable (or what was making Jetty write that start.properties file out). "
        },
        {
            "author": "Ishan Chattopadhyaya",
            "id": "comment-14266131",
            "date": "2015-01-06T14:10:36+0000",
            "content": "Eclipse was complaining for me with these @Override annotations, attached the patch to remove them.  "
        },
        {
            "author": "Shalin Shekhar Mangar",
            "id": "comment-14266474",
            "date": "2015-01-06T17:50:01+0000",
            "content": "Eclipse was complaining for me with these @Override annotations, attached the patch to remove them.\n\nWhat was the complain? Maybe you aren't using Java 8 on trunk? "
        },
        {
            "author": "Mark Miller",
            "id": "comment-14267966",
            "date": "2015-01-07T18:11:29+0000",
            "content": "Anyone else having trouble running jetty tests from eclipse now? "
        },
        {
            "author": "Mark Miller",
            "id": "comment-14267976",
            "date": "2015-01-07T18:17:52+0000",
            "content": "What was the complain? Maybe you aren't using Java 8 on trunk?\n\nI see the same thing, and everything is set to and using Java 8.\n\nIt says the super type methods being overriden do not even exist. "
        },
        {
            "author": "Mark Miller",
            "id": "comment-14267981",
            "date": "2015-01-07T18:24:57+0000",
            "content": "For some reasin we bring in this orbit thing:\n\n\n    <dependency org=\"org.eclipse.jetty.orbit\" name=\"javax.servlet\" rev=\"${/org.eclipse.jetty.orbit/javax.servlet}\" conf=\"servlet\">\n      <artifact name=\"javax.servlet\" type=\"orbit\" ext=\"jar\"/>\n    </dependency>\n\n\n\nAnd that seems to bring in:\n\n/org.eclipse.jetty.orbit/javax.servlet = 3.0.0.v201112011016\n\nwhich conflicts with the javax.servlet brought in by this jetty update. Or something along those lines.\n\nI don't know why we have this orbit thing, but I don't think we should have both these dependencies.\n "
        },
        {
            "author": "Mark Miller",
            "id": "comment-14267986",
            "date": "2015-01-07T18:28:43+0000",
            "content": "Looks like the replicator module uses this obit one. We need to harmonize them somehow so that eclipse ide dev is not broken. "
        },
        {
            "author": "Mark Miller",
            "id": "comment-14268008",
            "date": "2015-01-07T18:47:46+0000",
            "content": "Something like the attatched patch will work I think. "
        },
        {
            "author": "ASF subversion and git services",
            "id": "comment-14268242",
            "date": "2015-01-07T21:19:02+0000",
            "content": "Commit 1650169 from shalin@apache.org in branch 'dev/trunk'\n[ https://svn.apache.org/r1650169 ]\n\nSOLR-4839: Remove dependency to jetty.orbit "
        },
        {
            "author": "Shalin Shekhar Mangar",
            "id": "comment-14268243",
            "date": "2015-01-07T21:19:27+0000",
            "content": "Fixed, thanks Mark! "
        },
        {
            "author": "Steve Rowe",
            "id": "comment-14268311",
            "date": "2015-01-07T21:52:15+0000",
            "content": "Mark Miller, the cloudera repo's copy of the new restlet servlet jar (upgraded by this issue) is instead some kind of error html page: http://repository.cloudera.com/artifactory/repo/org/restlet/jee/org.restlet.ext.servlet/2.3.0/org.restlet.ext.servlet-2.3.0.jar - can you get somebody to clean that up?  The workaround in the meantime is to comment out the cloudera maven repo in lucene/ivy-settings.xml, do a resolve to download the proper artifact from the restlet maven repo, then un-comment it. "
        },
        {
            "author": "Steve Rowe",
            "id": "comment-14268651",
            "date": "2015-01-08T01:14:22+0000",
            "content": "Erik Hatcher told me offline, and I confirmed, that the directory solr/server/solr-webapp/ was being deleted when Solr is run from a trunk checkout.  In solr/server/contexts/solr-jetty-context.xml, we tell Jetty to use this directory as its tempDirectory.\n\nChris Hostetter (Unused) told me offline that he suspected that Jetty 9's new option to persist its temp directory (persistTempDirectory), which defaults to false, was causing this problem: when Jetty shuts down gracefully and this option is not set to true, its temp dir is deleted.\n\nI verified that this is the case: after ant example and bin/solr start, solr/server/solr-webapp/ holds the exploded war, but after bin/solr stop, solr/server/solr-webapp ceases to exist.\n\nWhen I add the following inside the <Configure> tag in solr-jetty-context.xml, the temp dir and the exploded war contained within are left intact after bin/solr stop:\n\n\n  <Set name=\"persistTempDirectory\">true</Set>\n\n\n\nI think the above addition is the way to go.\n\nAlternatively, to preserve the solr/server/solr-webapp/ directory, we could tell Jetty to use a sub-directory, but leave the temp dir persistence option at false - I tested this and it worked - when I changed the tempDirectory setting to include a sub-directory named tempdir/ as shown below, the sub-directory was created at startup and deleted at shutdown, leaving the parent directory intact:\n\n\n  <Set name=\"tempDirectory\"><Property name=\"jetty.base\" default=\".\"/>/solr-webapp/tempdir</Set>\n\n\n\nIf there are no objections, I'll add the persistTempDir=true setting to solr-jetty-context.xml tomorrow. "
        },
        {
            "author": "Steve Rowe",
            "id": "comment-14268711",
            "date": "2015-01-08T02:14:25+0000",
            "content": "Currently ant example (soon to be renamed to ant server or maybe removed entirely - see SOLR-6926) deletes the exploded war from server/solr-webapp/ (while leaving the parent dir intact).  I was curious whether this is necessary - perhaps Jetty is smart enough to do (recursive) timestamp comparison, re-exploding the war if its timestamp is newer than any of its exploded contents.\n\nTL;DR: Jetty apparently is not smart enough to re-explode the war when it's newer than its previously exploded contents, so we should continue to purge the exploded war as part of ant example (or ant server or whatever we end up doing to build the war).\n\nHere's how I tested:\n\nI set persistTempDirectory=true (see above), then:\n\n\nant clean example\nbin/solr start\nbin/solr stop\ncp -r server/solr-webapp{,.save}\nant clean example               # purges the exploded war from server/solr-webapp/\nrmdir server/solr-webapp\ncp -r server/solr-webapp{.save,}\nbin/solr start\nbin/solr stop\ndiff -r server/solr-webapp*\n\n\n\ndiff's output was empty (no differences) - so when the war is newer than the exploded contents, Jetty does not re-explode the war.\n\nTo confirm that if Jetty had exploded the war, there would be difference, I did the following (without first running ant example):\n\n\nrm -rf server/solr-webapp/*\nbin/solr start\nbin/solr stop\ndiff -r server/solr-webapp*\n\n\n\nThis time, there were differences in three files:\n\n\ndiff -r server/solr-webapp/webapp/META-INF/MANIFEST.MF server/solr-webapp.save/webapp/META-INF/MANIFEST.MF\n4,5c4,5\n< Implementation-Version: 6.0.0-SNAPSHOT 1650174 - sarowe - 2015-01-07 2\n<  0:24:25\n---\n> Implementation-Version: 6.0.0-SNAPSHOT 1650174 - sarowe - 2015-01-07 1\n>  8:33:45\nBinary files server/solr-webapp/webapp/WEB-INF/lib/solr-core-6.0.0-SNAPSHOT.jar and server/solr-webapp.save/webapp/WEB-INF/lib/solr-core-6.0.0-SNAPSHOT.jar differ\nBinary files server/solr-webapp/webapp/WEB-INF/lib/solr-solrj-6.0.0-SNAPSHOT.jar and server/solr-webapp.save/webapp/WEB-INF/lib/solr-solrj-6.0.0-SNAPSHOT.jar differ\n\n "
        },
        {
            "author": "Robert Muir",
            "id": "comment-14269346",
            "date": "2015-01-08T14:23:04+0000",
            "content": "please, run precommit before committing. "
        },
        {
            "author": "ASF subversion and git services",
            "id": "comment-14269349",
            "date": "2015-01-08T14:26:53+0000",
            "content": "Commit 1650293 from Robert Muir in branch 'dev/trunk'\n[ https://svn.apache.org/r1650293 ]\n\nSOLR-4839: fix licensing metadata. PLEASE RUN PRECOMMIT BEFORE COMMITTING. "
        },
        {
            "author": "ASF subversion and git services",
            "id": "comment-14269363",
            "date": "2015-01-08T14:32:59+0000",
            "content": "Commit 1650295 from Robert Muir in branch 'dev/branches/branch_5x'\n[ https://svn.apache.org/r1650295 ]\n\nSOLR-4839: fix licensing metadata. PLEASE RUN PRECOMMIT BEFORE COMMITTING. "
        },
        {
            "author": "ASF subversion and git services",
            "id": "comment-14269552",
            "date": "2015-01-08T16:56:26+0000",
            "content": "Commit 1650328 from Use account \"steve_rowe\" instead in branch 'dev/trunk'\n[ https://svn.apache.org/r1650328 ]\n\nSOLR-4839: Set Jetty 9's new option to persist its temp directory (persistTempDirectory) - where the war is exploded - to true, so that the server/solr-webapp/ directory doesn't get deleted when Jetty shuts down gracefully "
        },
        {
            "author": "ASF subversion and git services",
            "id": "comment-14269577",
            "date": "2015-01-08T17:07:59+0000",
            "content": "Commit 1650335 from Use account \"steve_rowe\" instead in branch 'dev/branches/branch_5x'\n[ https://svn.apache.org/r1650335 ]\n\nSOLR-4839: Set Jetty 9's new option to persist its temp directory (persistTempDirectory) - where the war is exploded - to true, so that the server/solr-webapp/ directory doesn't get deleted when Jetty shuts down gracefully (merged trunk r1650328) "
        },
        {
            "author": "Mark Miller",
            "id": "comment-14269688",
            "date": "2015-01-08T17:18:11+0000",
            "content": "Mark Miller, the cloudera repo's copy of the new restlet servlet jar\n\nIt should not be pulling this from Cloudera, but from restlet. Something seems like it went wrong with the restlet repo and so its finding this in the cloudera repo. Or perhaps the resolvers need to be reordered. Cloudera is just for Kite until it's on Maven central, not for restlet. "
        },
        {
            "author": "ASF subversion and git services",
            "id": "comment-14269953",
            "date": "2015-01-08T19:53:25+0000",
            "content": "Commit 1650368 from Mark Miller in branch 'dev/trunk'\n[ https://svn.apache.org/r1650368 ]\n\nSOLR-4839: Order Cloudera resolver after Sonatype and Restlet. "
        },
        {
            "author": "ASF subversion and git services",
            "id": "comment-14269955",
            "date": "2015-01-08T19:56:01+0000",
            "content": "Commit 1650369 from Mark Miller in branch 'dev/branches/branch_5x'\n[ https://svn.apache.org/r1650369 ]\n\nSOLR-4839: Order Cloudera resolver after Sonatype and Restlet. "
        },
        {
            "author": "Gregory Chanan",
            "id": "comment-14270033",
            "date": "2015-01-08T20:54:01+0000",
            "content": "Mark Miller] should we also remove the cloudera resolver and only keep the releases.cloudera.com one?  My logic is:\n\n\tWe only need the cloudera repo for kite\n\tKite is present in the release repo\n\tThe non-release repo has a bunch of third party stuff (like restlet) that may cause problems, as indicated by Steve above (the link seems to be working now, though)\n\n\n\nMaybe it doesn't matter now that you've re-ordered the repos, but removing the cloudera resolver seems to work. "
        },
        {
            "author": "Mark Miller",
            "id": "comment-14270058",
            "date": "2015-01-08T21:15:14+0000",
            "content": "Order Cloudera resolver after Sonatype and Restlet.\n\nIt's funny - this is one of the first things I tried yesterday and it did not seem to help. Perhaps some initial user error somehow. Today it seems to change things for me. It also worked to add a force=true to the restlet repo, but that is also super slow and silly.\n\nshould we also remove the cloudera resolver and only keep the releases.cloudera.com one? \n\nIf we only need one, let's only have one. I'm not sure the genesis of both, other than that is what was in our initial downstream Cloudera Search repo. Would be great to remove one if it has popular 3rd party libs in it and we don't need it. Certainly helped confuse debugging this issue. "
        },
        {
            "author": "ASF subversion and git services",
            "id": "comment-14270064",
            "date": "2015-01-08T21:22:41+0000",
            "content": "Commit 1650381 from Mark Miller in branch 'dev/trunk'\n[ https://svn.apache.org/r1650381 ]\n\nSOLR-4839: Remove unnecessary Cloudera resolver, leave Cloudera Releases resolver. "
        },
        {
            "author": "ASF subversion and git services",
            "id": "comment-14270068",
            "date": "2015-01-08T21:25:20+0000",
            "content": "Commit 1650382 from Mark Miller in branch 'dev/branches/branch_5x'\n[ https://svn.apache.org/r1650382 ]\n\nSOLR-4839: Remove unnecessary Cloudera resolver, leave Cloudera Releases resolver. "
        },
        {
            "author": "ASF subversion and git services",
            "id": "comment-14270076",
            "date": "2015-01-08T21:30:32+0000",
            "content": "Commit 1650384 from Use account \"steve_rowe\" instead in branch 'dev/branches/branch_5x'\n[ https://svn.apache.org/r1650384 ]\n\nSOLR-4839: revert persistTempDirectory=true setting in solr-jetty-context.xml - Jetty 9 isn't on 5.x yet "
        },
        {
            "author": "Luc Vanlerberghe",
            "id": "comment-14270820",
            "date": "2015-01-09T09:56:21+0000",
            "content": "Mark Miller: on march 14th, you switched the Cloudera releases resolver from https to http to work around an expired SSL certificate.\nI think the issue is resolved in the mean time so it could be switched back to https? "
        },
        {
            "author": "Uwe Schindler",
            "id": "comment-14270979",
            "date": "2015-01-09T13:06:17+0000",
            "content": "It's funny - this is one of the first things I tried yesterday and it did not seem to help. Perhaps some initial user error somehow. Today it seems to change things for me. It also worked to add a force=true to the restlet repo, but that is also super slow and silly.\n\nI found out: You need to nuke the IVY cache, then it works. The strange thing I noticed was: Ivy was complaining about a \"missing cloudera resolver\", although nothing in our build files referred to it. I think, Ivy downloaded the stale metadata from the broken cloudera server and kept it. Of course later tries to download the JAR files still failed, because of stale metadata. "
        },
        {
            "author": "Mark Miller",
            "id": "comment-14272661",
            "date": "2015-01-10T19:45:14+0000",
            "content": "Does the config and doc for SSL in jetty.xml still work fine with Jetty 9? "
        },
        {
            "author": "Steve Davids",
            "id": "comment-14272691",
            "date": "2015-01-10T20:53:18+0000",
            "content": "I found that this broke the 'TestMiniSolrCloudCluster' test (or anything that doesn't specify a 'jetty.testMode' system property). If a test doesn't specify the 'jetty.testMode' property a null pointer exception is thrown by jetty because a ServerConnector is attempting to be created with a null Server. I attached a patch to fix the specific issue, though I'm not quite sure why we need to branch the code - couldn't we consolidate the two? "
        },
        {
            "author": "Bill Bell",
            "id": "comment-14272811",
            "date": "2015-01-11T04:38:07+0000",
            "content": "Are we going with Jetty 9.2?\n\nhttps://webtide.com/jetty-9-2-0-released/ "
        },
        {
            "author": "Mark Miller",
            "id": "comment-14273614",
            "date": "2015-01-12T14:06:19+0000",
            "content": "so it could be switched back to https?\n\nWhat's the motivation? I would prefer it as well, but as we don't currently use https for maven central (I think it's a relatively new, free option now?) I did not really worry about it individually. "
        },
        {
            "author": "Mark Miller",
            "id": "comment-14275561",
            "date": "2015-01-13T17:13:56+0000",
            "content": "I'm seeing a number of new test fails when trying to stop and then start a jetty instance:\n\njava.net.BindException: Address already in use "
        },
        {
            "author": "Anshum Gupta",
            "id": "comment-14275689",
            "date": "2015-01-13T18:44:55+0000",
            "content": "That failure is on 5x too and Jetty 9 is only on trunk. Has to be something else that's tripping those. "
        },
        {
            "author": "Mark Miller",
            "id": "comment-14275829",
            "date": "2015-01-13T20:02:47+0000",
            "content": "Do you have some fail links to point to?\n\nI just started seeing this locally, and I have not seen it locally in a very long time. I'm only running trunk, but if you have some 5x fail links, I can compare what I'm seeing. "
        },
        {
            "author": "Anshum Gupta",
            "id": "comment-14275848",
            "date": "2015-01-13T20:10:17+0000",
            "content": "I think you commented on this one: http://jenkins.thetaphi.de/job/Lucene-Solr-5.x-Linux/11431/\nHaven't looked at this at all but here Jetty doesn't start up due to a BindException. (also, has a comment from you)  "
        },
        {
            "author": "Steve Davids",
            "id": "comment-14290413",
            "date": "2015-01-24T03:30:05+0000",
            "content": "Anyone happen to see the same issue I was getting with the TestMiniSolrCloudCluster? I attached a patch but doesn't look like it was pulled in yet, just wondering if others were getting similar test failures. "
        },
        {
            "author": "ASF subversion and git services",
            "id": "comment-14306852",
            "date": "2015-02-05T08:42:58+0000",
            "content": "Commit 1657495 from shalin@apache.org in branch 'dev/trunk'\n[ https://svn.apache.org/r1657495 ]\n\nSOLR-4839: Avoid NPE when jetty.testMode=false "
        },
        {
            "author": "Shalin Shekhar Mangar",
            "id": "comment-14306862",
            "date": "2015-02-05T08:47:33+0000",
            "content": "Hi Steve Davids, I have committed your patch. Thanks for catching it. "
        },
        {
            "author": "Mark Miller",
            "id": "comment-14307378",
            "date": "2015-02-05T15:21:33+0000",
            "content": "Steve Davids, do you know why you saw that but we didn't see TestMiniSolrCloudCluster fails?\n\nSeems like we don't have any user level testing for JettySolrRunner. "
        },
        {
            "author": "Steve Davids",
            "id": "comment-14307578",
            "date": "2015-02-05T17:15:40+0000",
            "content": "I was creating a new MiniSolrCluster test because I needed to have the ability to define multiple cores and I was never able to get the test to work via eclipse, traced it down to be this issue.\n\nSent from my iPhone\n "
        },
        {
            "author": "Steve Davids",
            "id": "comment-14506256",
            "date": "2015-04-22T02:17:18+0000",
            "content": "Any plans on porting this into the 5x branch? Also, do we know how this will behave with the fancy new startup scripts? It appears clients would need to configure a few things in both the start.in.sh file + the start.ini file as it is sitting right now. Additionally, here are a few potential issues I came across:\n\n\tjetty-ssl.xml\n\t\n\t\tHas a bunch of properties that aren't prefixed with 'jetty' ie. 'ssl.port' & 'ssl.timeout' vs 'jetty.ssl.port' & 'jetty.ssl.timeout'.\n\t\tKeystore & Truststore path are always relative to `<Property name=\"jetty.base\" default=\".\" />` which could get annoying for some people if they want to specify an absolute path\n\t\n\t\n\n "
        },
        {
            "author": "Shawn Heisey",
            "id": "comment-14506336",
            "date": "2015-04-22T03:26:58+0000",
            "content": "In the first comment on SOLR-7339, Shalin has indicated that the upgraded Jetty will be backported to branch_5x after 5.1 is released.  The 5.1 release has happened, so expect some action soon.  I have no idea what kind of schedule Shalin has for working on this, so I can hope it will be in time for the 5.2 release, but I cannot be sure about it.\n\nLooking into how the default jetty 9.2.10 config does ssl, the config in trunk is quite a bit different.  In the stock jetty 9, the Connector for ssl is in jetty-https.xml, not jetty-ssl.xml.  It uses \"https.port\" and \"https.timeout\" as properties. "
        },
        {
            "author": "Shalin Shekhar Mangar",
            "id": "comment-14506439",
            "date": "2015-04-22T05:13:31+0000",
            "content": "Sorry for dropping the ball on this one guys. I am starting now to get this into 5x as soon as possible. I'll need some help with the SSL parts because I am not very familiar with that kind of setup. I'll start by upgrading to the latest release 9.2.10.v20150310.\n\nLooking into how the default jetty 9.2.10 config does ssl, the config in trunk is quite a bit different. In the stock jetty 9, the Connector for ssl is in jetty-https.xml, not jetty-ssl.xml. It uses \"https.port\" and \"https.timeout\" as properties.\n\nYeah, the stock jetty 9.2 comes with both jetty-https.xml and jetty-ssl.xml and https depends on ssl. It wasn't clear to me if both were required or not. Once I upgrade to 9.2.10 then I'll try to make things as close to the stock install as possible. "
        },
        {
            "author": "Shalin Shekhar Mangar",
            "id": "comment-14506440",
            "date": "2015-04-22T05:16:30+0000",
            "content": "Patch to upgrade trunk to jetty 9.2.10 "
        },
        {
            "author": "ASF subversion and git services",
            "id": "comment-14506484",
            "date": "2015-04-22T05:57:30+0000",
            "content": "Commit 1675261 from shalin@apache.org in branch 'dev/trunk'\n[ https://svn.apache.org/r1675261 ]\n\nSOLR-4839: Upgrade jetty to 9.2.10.v20150310 in trunk. Also, moved the change log entry to 6.0.0 until we backport to 5x. "
        },
        {
            "author": "Shalin Shekhar Mangar",
            "id": "comment-14506641",
            "date": "2015-04-22T08:28:53+0000",
            "content": "Here's patch which conforms our jetty config files to the ones shipped with 9.2.10 more closely.\n\n\n\tjetty.xml configures the thread pool and common configuration used by both http and https connectors\n\tThe Connector for ssl is in jetty-https.xml, not jetty-ssl.xml\n\tAll property names are now prefixed with \"solr.jetty.\" so e.g. https.port becomes solr.jetty.https.port\n\tKeystore & Truststore path are no longer relative to jetty.base but they default to ./etc/solr-ssl.keystore.jks as in 5x.\n\n\n\nI am inclined to change jetty.port to solr.jetty.port and jetty.host to solr.jetty.host too but that change needs fixes to start scripts and build scripts etc so I will not attempt that in this issue. "
        },
        {
            "author": "Shalin Shekhar Mangar",
            "id": "comment-14506839",
            "date": "2015-04-22T11:15:48+0000",
            "content": "This patch fixes the smoke tester to work with the new Jetty configuration. The smoke tester looks for the following string 'Started SocketConnector@0.0.0.0:8983' but the new jetty prints \"Started ServerConnector@55b53d44\n{HTTP/1.1}\n{0.0.0.0:8983}\n\" to the logs.\n\nAt this point, all tests, precommit and smoke tester passes. I'll commit this and then focus on getting SSL support to work. "
        },
        {
            "author": "ASF subversion and git services",
            "id": "comment-14506876",
            "date": "2015-04-22T11:35:33+0000",
            "content": "Commit 1675337 from shalin@apache.org in branch 'dev/trunk'\n[ https://svn.apache.org/r1675337 ]\n\nSOLR-4839: Make our jetty configs resemble stock Jetty 9.3 configs more closely. Thread pool and common config goes to jetty.xml. All property names are prefixed with solr.jetty. SSL keystore paths are now absolute. "
        },
        {
            "author": "Shalin Shekhar Mangar",
            "id": "comment-14508746",
            "date": "2015-04-23T09:42:11+0000",
            "content": "Changes:\n\n\tThreadpool configs: idleTimeout=5000 (5 seconds) and stopTimeout=60000 (1 minute) respectively to match what existed inside JettySolrRunner\n\tsendServerVersion is set to false by default to match branch_5x\n\tHTTP and HTTPS connector idleTimeout defaults to 50000 ms to match branch_5x\n\tHTTPS default port property is called solr.jetty.https.port and defaults to 8983\n\tI removed the keyManagerPassword property from jetty-ssl.xml because 1) it was not specified in branch_5x as well and 2) from reading the docs, it  defaults to the keyStorePassword but if we ask the user to change it from the solr.in.sh then we must introduce another property which should normally be always set to the same as keyManagerPassword. I don't know if/how this property is useful so I have removed it for the time being. Perhaps someone more knowledgeable about security can chime in here.\n\tSSL property names are changed as follows to fix related issue SOLR-7449 so that changes to property values in bin/solr.in.sh is propagated to jetty:\n\n<Set name=\"KeyStorePath\"><Property name=\"javax.net.ssl.keyStore\" default=\"./etc/solr-ssl.keystore.jks\"/></Set>\n  <Set name=\"KeyStorePassword\"><Property name=\"javax.net.ssl.keyStorePassword\" default=\"secret\"/></Set>\n  <Set name=\"TrustStorePath\"><Property name=\"javax.net.ssl.trustStore\" default=\"./etc/solr-ssl.keystore.jks\"/></Set>\n  <Set name=\"TrustStorePassword\"><Property name=\"javax.net.ssl.trustStorePassword\" default=\"secret\"/></Set>\n  <Set name=\"NeedClientAuth\"><Property name=\"jetty.ssl.clientAuth\" default=\"false\"/></Set>\n  <Set name=\"WantClientAuth\"><Property name=\"jetty.ssl.wantClientAuth\" default=\"false\"/></Set>\n\n\n\tbin/solr and bin/solr.cmd enable the appropriate module name in jetty (http or https)\n\tRemoved unused properties in ssl.mod\n\tDeleted the start.ini altogether as it was serving no need\n\tIt is no longer possible to run java -jar start.jar directly because by default neither http nor https module is enabled. The bin/solr script is the only supported way of starting solr. This is required because if we enable the http module by default from inside start.ini then it is not possible to disable http and enable https using command line arguments to start.jar. Instead both are enabled and Solr ends up trying to listen using both http and https connectors.\n\n\n\nI tested using the SSL setup documentation in the reference guide and it works with no modifications required to the setup steps.\n\nThe tests and precommit passes at this point. I cannot test the smoke tester until I commit so I'll commit this changes and then run the smoke tester. "
        },
        {
            "author": "Shalin Shekhar Mangar",
            "id": "comment-14509126",
            "date": "2015-04-23T14:14:26+0000",
            "content": "This patch removes the property SOLR_SSL_PORT in solr.in.sh because there is really no need for another way to configure a port for our start scripts. We can use the regular -p switch or SOLR_PORT property to configure the port in both http and https/ssl modes. "
        },
        {
            "author": "ASF subversion and git services",
            "id": "comment-14509131",
            "date": "2015-04-23T14:17:37+0000",
            "content": "Commit 1675619 from shalin@apache.org in branch 'dev/trunk'\n[ https://svn.apache.org/r1675619 ]\n\nSOLR-4839: SSL support with Jetty 9. Also fixes SOLR-7449 on trunk. "
        },
        {
            "author": "Steve Davids",
            "id": "comment-14510329",
            "date": "2015-04-24T01:46:54+0000",
            "content": "Looks  good, though we might want to think about not reusing the javax.net.ssl.* for the jetty key/trust store configuration. I could think of a few cases where you might want to make the two different, ie one value for the client request and one value for the jetty connector, unless of course the recommendation is to only use self-signed certs for both client and server. Though, maybe the solr.in.sh could have something like:\n\nSOLR_SSL_KEY_STORE=etc/solr-ssl.keystore.jks\nSOLR_SSL_KEY_STORE_PASSWORD=secret\nSOLR_SSL_TRUST_STORE=etc/solr-ssl.keystore.jks\nSOLR_SSL_TRUST_STORE_PASSWORD=secret\n#### OVERRIDE PREVIOUSLY DEFINED SSL VALUES FOR HTTP CLIENT IF NECESSARY ######\n#SOLR_SSL_CLIENT_KEY_STORE=\n#SOLR_SSL_CLIENT_KEY_STORE_PASSWORD=\n#SOLR_SSL_CLIENT_TRUST_STORE=\n#SOLR_SSL_CLIENT_TRUST_STORE_PASSWORD=\n\n\n\nThen the solr startup script can set the javax.net.ssl.* system properties for the client side + create something like jetty.ssl.truststore/keystore/etc on the jetty server side. This would allow a little bit more flexibility for people who might want to use a different certificate or trust store between the http client and server, though this really is getting more on a fringe  use case. "
        },
        {
            "author": "Steve Davids",
            "id": "comment-14510387",
            "date": "2015-04-24T02:47:29+0000",
            "content": "Also, if you want to use the javax.net.ssl.* stuff I believe you need to swap \n\n<Property name=\"javax.net.ssl.keyStore\" default=\"./etc/solr-ssl.keystore.jks\"/>\n\n with \n\n<SystemProperty name=\"javax.net.ssl.keyStore\" default=\"./etc/solr-ssl.keystore.jks\"/>\n\n (note the SystemProperty vs Property). "
        },
        {
            "author": "Shalin Shekhar Mangar",
            "id": "comment-14512639",
            "date": "2015-04-25T18:15:29+0000",
            "content": "Thanks Steve. I added your suggestions to this patch (SOLR-4839-separate-client-ssl-options.patch) to separate the client and Jetty SSL config.\n\nI don't think replacing Property with SystemProperty is necessary because \"Property\" can also be set via SystemProperty plus it can also be overridden from one of the module files. However the way we're using them both Property and SystemProperty are equivalent. "
        },
        {
            "author": "Shalin Shekhar Mangar",
            "id": "comment-14513015",
            "date": "2015-04-26T12:08:54+0000",
            "content": "I've manually tested these changes on both linux and windows to create single node as well as cloud setup with SSL. All tests and precommit passes. I'll commit this shortly.\n\nThis breaks the current set of instructions on how to setup SSL so it will have to be mentioned in the upgrade notes for 5.2 and the reference guide will also need to be changed. I'll do that once I finish the backport to branch_5x. "
        },
        {
            "author": "ASF subversion and git services",
            "id": "comment-14513020",
            "date": "2015-04-26T12:44:22+0000",
            "content": "Commit 1676102 from shalin@apache.org in branch 'dev/trunk'\n[ https://svn.apache.org/r1676102 ]\n\nSOLR-4839: Separate jetty and client specific SSL properties "
        },
        {
            "author": "Shalin Shekhar Mangar",
            "id": "comment-14513067",
            "date": "2015-04-26T15:02:53+0000",
            "content": "Here's a patch to upgrade branch_5x with Jetty 9. All tests and precommit pass.\n\nThis also undoes some of the fixes made in SOLR-7429 simply because Jetty 9 has no problem in loading the servlet-api-3.1.0 jar from server/lib "
        },
        {
            "author": "ASF subversion and git services",
            "id": "comment-14513077",
            "date": "2015-04-26T15:16:11+0000",
            "content": "Commit 1676113 from shalin@apache.org in branch 'dev/trunk'\n[ https://svn.apache.org/r1676113 ]\n\nSOLR-4839: Add upgrade notes, move entry to 5.2.0. Added entry for SOLR-7449 "
        },
        {
            "author": "ASF subversion and git services",
            "id": "comment-14513083",
            "date": "2015-04-26T15:22:14+0000",
            "content": "Commit 1676114 from shalin@apache.org in branch 'dev/branches/branch_5x'\n[ https://svn.apache.org/r1676114 ]\n\nSOLR-4839: Upgrade Jetty to 9.2.10.v20150310 and restlet-jee to 2.3.0. Also fixes SOLR-7449. Merges commits r1649552,1649571,1649584,1649689,1650169,1657495,1675261,1675337,1675619,1676102,1676113 from trunk. "
        },
        {
            "author": "ASF subversion and git services",
            "id": "comment-14513090",
            "date": "2015-04-26T15:37:26+0000",
            "content": "Commit 1676116 from shalin@apache.org in branch 'dev/trunk'\n[ https://svn.apache.org/r1676116 ]\n\nSOLR-4839: Re-organized upgrade notes and added notes about removing the ability to run java -jar start.jar directly and removal of SOLR_SSL_PORT property. "
        },
        {
            "author": "ASF subversion and git services",
            "id": "comment-14513104",
            "date": "2015-04-26T15:54:09+0000",
            "content": "Commit 1676118 from shalin@apache.org in branch 'dev/branches/branch_5x'\n[ https://svn.apache.org/r1676118 ]\n\nSOLR-4839: Fix bad merge which messed up whitespace in smoke tester script "
        },
        {
            "author": "ASF subversion and git services",
            "id": "comment-14513124",
            "date": "2015-04-26T16:50:37+0000",
            "content": "Commit 1676127 from shalin@apache.org in branch 'dev/branches/branch_5x'\n[ https://svn.apache.org/r1676127 ]\n\nSOLR-4839: Re-organized upgrade notes and added notes about removing the ability to run java -jar start.jar directly and removal of SOLR_SSL_PORT property. "
        },
        {
            "author": "Shalin Shekhar Mangar",
            "id": "comment-14513538",
            "date": "2015-04-27T05:09:13+0000",
            "content": "Smoke tester and builds have passed on Jenkins. See https://builds.apache.org/view/All/job/Lucene-Solr-SmokeRelease-5.x/260/\n\nI'll close this issue now. Let's create new issues if we need to fix something. Thanks to everyone who contributed! "
        },
        {
            "author": "ASF subversion and git services",
            "id": "comment-14514545",
            "date": "2015-04-27T17:56:25+0000",
            "content": "Commit 1676350 from hossman@apache.org in branch 'dev/trunk'\n[ https://svn.apache.org/r1676350 ]\n\npreemptive cleanup of 'Upgrading' section for 5.2 (SOLR-7325, SOLR-7336, SOLR-4839) "
        },
        {
            "author": "ASF subversion and git services",
            "id": "comment-14514551",
            "date": "2015-04-27T17:57:52+0000",
            "content": "Commit 1676351 from hossman@apache.org in branch 'dev/branches/branch_5x'\n[ https://svn.apache.org/r1676351 ]\n\npreemptive cleanup of 'Upgrading' section for 5.2 (SOLR-7325, SOLR-7336, SOLR-4839 - merge r1676350) "
        },
        {
            "author": "ASF subversion and git services",
            "id": "comment-14514564",
            "date": "2015-04-27T18:05:32+0000",
            "content": "Commit 1676352 from shalin@apache.org in branch 'dev/trunk'\n[ https://svn.apache.org/r1676352 ]\n\nSOLR-4839: Fix typo "
        },
        {
            "author": "ASF subversion and git services",
            "id": "comment-14514566",
            "date": "2015-04-27T18:06:11+0000",
            "content": "Commit 1676353 from shalin@apache.org in branch 'dev/branches/branch_5x'\n[ https://svn.apache.org/r1676353 ]\n\nSOLR-4839: Fix typo "
        },
        {
            "author": "ASF subversion and git services",
            "id": "comment-14514579",
            "date": "2015-04-27T18:09:53+0000",
            "content": "Commit 1676354 from shalin@apache.org in branch 'dev/trunk'\n[ https://svn.apache.org/r1676354 ]\n\nSOLR-4839: Disable SSLv3 (POODLE) by default from our SSL config. Also added credits for Steve Rowe and Steve Davids. "
        },
        {
            "author": "ASF subversion and git services",
            "id": "comment-14514583",
            "date": "2015-04-27T18:11:05+0000",
            "content": "Commit 1676355 from shalin@apache.org in branch 'dev/branches/branch_5x'\n[ https://svn.apache.org/r1676355 ]\n\nSOLR-4839: Disable SSLv3 (POODLE) by default from our SSL config. Also added credits for Steve Rowe and Steve Davids. "
        },
        {
            "author": "Shalin Shekhar Mangar",
            "id": "comment-14514590",
            "date": "2015-04-27T18:13:17+0000",
            "content": "Thanks to Steve Rowe for reminding me to disable SSLv3 from our default SSL config. "
        },
        {
            "author": "ASF subversion and git services",
            "id": "comment-14516933",
            "date": "2015-04-28T12:08:48+0000",
            "content": "Commit 1676508 from shalin@apache.org in branch 'dev/branches/branch_5x'\n[ https://svn.apache.org/r1676508 ]\n\nSOLR-4839: Remove servlet-api as an explicit dependency from solr/core to match trunk "
        },
        {
            "author": "Bill Bell",
            "id": "comment-14568493",
            "date": "2015-06-02T04:18:43+0000",
            "content": "jetty-distribution-9.2.11.v20150529.zip ?\n\n9.2.11 is released. "
        },
        {
            "author": "Shalin Shekhar Mangar",
            "id": "comment-14568569",
            "date": "2015-06-02T05:41:53+0000",
            "content": "Bill, Solr 5.2 release process is already underway with 9.2.10.v20150310 and this issue has been resolved. Please open a new issue for upgrading to 9.2.11 so that we can take it up for 5.3. "
        },
        {
            "author": "Anshum Gupta",
            "id": "comment-14586797",
            "date": "2015-06-15T21:42:40+0000",
            "content": "Bulk close for 5.2.0. "
        }
    ]
}