{
    "id": "SOLR-2865",
    "title": "LargeVolumeBinaryJettyTest.testMultiThreaded fails",
    "details": {
        "affect_versions": "4.0-ALPHA",
        "status": "Open",
        "fix_versions": [],
        "components": [],
        "type": "Bug",
        "priority": "Major",
        "labels": "",
        "resolution": "Unresolved"
    },
    "description": "fail from hudson",
    "attachments": {},
    "issue_links": {},
    "comments": [
        {
            "author": "Robert Muir",
            "id": "comment-13139620",
            "date": "2011-10-30T13:11:28+0000",
            "content": "\nError Message\n\njava.lang.AssertionError: Some threads threw uncaught exceptions!\nStacktrace\n\njava.lang.RuntimeException: java.lang.AssertionError: Some threads threw uncaught exceptions!\n\tat org.apache.lucene.util.LuceneTestCase.tearDown(LuceneTestCase.java:744)\n\tat org.apache.solr.SolrTestCaseJ4.tearDown(SolrTestCaseJ4.java:89)\n\tat org.apache.lucene.util.LuceneTestCaseRunner.runChild(LuceneTestCaseRunner.java:149)\n\tat org.apache.lucene.util.LuceneTestCaseRunner.runChild(LuceneTestCaseRunner.java:51)\n\tat org.apache.lucene.util.LuceneTestCase.checkUncaughtExceptionsAfter(LuceneTestCase.java:772)\n\tat org.apache.lucene.util.LuceneTestCase.tearDown(LuceneTestCase.java:716)\nStandard Error\n\norg.apache.solr.client.solrj.SolrServerException: org.apache.commons.httpclient.ConnectTimeoutException: The host did not accept the connection within timeout of 100 ms\n\tat org.apache.solr.client.solrj.impl.CommonsHttpSolrServer.request(CommonsHttpSolrServer.java:484)\n\tat org.apache.solr.client.solrj.impl.CommonsHttpSolrServer.request(CommonsHttpSolrServer.java:246)\n\tat org.apache.solr.client.solrj.request.AbstractUpdateRequest.process(AbstractUpdateRequest.java:104)\n\tat org.apache.solr.client.solrj.SolrServer.add(SolrServer.java:70)\n\tat org.apache.solr.client.solrj.SolrServer.add(SolrServer.java:55)\n\tat org.apache.solr.client.solrj.LargeVolumeTestBase$DocThread.run(LargeVolumeTestBase.java:105)\nCaused by: org.apache.commons.httpclient.ConnectTimeoutException: The host did not accept the connection within timeout of 100 ms\n\tat org.apache.commons.httpclient.protocol.ReflectionSocketFactory.createSocket(ReflectionSocketFactory.java:155)\n\tat org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:125)\n\tat org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)\n\tat org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)\n\tat org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)\n\tat org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)\n\tat org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)\n\tat org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)\n\tat org.apache.solr.client.solrj.impl.CommonsHttpSolrServer.request(CommonsHttpSolrServer.java:428)\n\t... 5 more\nCaused by: java.net.SocketTimeoutException\n\tat java.net.SocksSocketImpl.remainingMillis(SocksSocketImpl.java:110)\n\tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:391)\n\tat java.net.Socket.connect(Socket.java:579)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:601)\n\tat org.apache.commons.httpclient.protocol.ReflectionSocketFactory.createSocket(ReflectionSocketFactory.java:140)\n\t... 13 more\nNOTE: reproduce with: ant test -Dtestcase=LargeVolumeBinaryJettyTest -Dtestmethod=testMultiThreaded -Dtests.seed=-7f4f91c999300a93:-7985784c094bb460:-260bf1c48e505860 -Dtests.multiplier=3\nThe following exceptions were thrown by threads:\n*** Thread: DocThread-0 ***\njava.lang.AssertionError: DocThread-0---org.apache.commons.httpclient.ConnectTimeoutException: The host did not accept the connection within timeout of 100 ms\n\tat org.junit.Assert.fail(Assert.java:91)\n\tat org.apache.solr.client.solrj.LargeVolumeTestBase$DocThread.run(LargeVolumeTestBase.java:120)\nNOTE: reproduce with: ant test -Dtestcase=LargeVolumeBinaryJettyTest -Dtestmethod=testMultiThreaded -Dtests.seed=-7f4f91c999300a93:-7985784c094bb460:-260bf1c48e505860 -Dtests.multiplier=3\nWARNING: test class left thread running: Thread[MultiThreadedHttpConnectionManager cleanup,5,main]\nRESOURCE LEAK: test class left 1 thread(s) running\nNOTE: test params are: codec=RandomCodecProvider: {id=MockFixedIntBlock(blockSize=1909), text=MockSep, cat=Memory}, sim=RandomSimilarityProvider(queryNorm=false,coord=false): {}, locale=ca, timezone=Africa/Dakar\nNOTE: all tests run in this JVM:\n[LargeVolumeBinaryJettyTest]\nNOTE: FreeBSD 8.2-RELEASE amd64/Oracle Corporation 1.7.0 (64-bit)/cpus=16,threads=2,free=204673760,total=344784896\n\n "
        }
    ]
}