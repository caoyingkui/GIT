{
    "id": "LUCENE-7107",
    "title": "GeoPointNumericTermsEnum.init assertion trip",
    "details": {
        "resolution": "Unresolved",
        "affect_versions": "None",
        "components": [],
        "labels": "",
        "fix_versions": [],
        "priority": "Major",
        "status": "Open",
        "type": "Bug"
    },
    "description": "From http://jenkins.thetaphi.de/job/Lucene-Solr-6.x-Linux/132/\n\nIt reproduces on current master (56ca641b5b50dd9133753410d40dda0632e873f5) for me:\n\n\n[junit4:pickseed] Seed property 'tests.seed' already defined: BEAE73A5A546349E\n   [junit4] <JUnit4> says ol\u00e1! Master seed: BEAE73A5A546349E\n   [junit4] Executing 1 suite with 1 JVM.\n   [junit4] \n   [junit4] Started J0 PID(15946@localhost).\n   [junit4] Suite: org.apache.lucene.spatial.geopoint.search.TestGeoPointQuery\n   [junit4]   2> M\u00e1rta 15, 2016 6:03:09 A.M. com.carrotsearch.randomizedtesting.RandomizedRunner$QueueUncaughtExceptionsHandler uncaughtException\n   [junit4]   2> WARNING: Uncaught exception in thread: Thread[T0,5,TGRP-TestGeoPointQuery]\n   [junit4]   2> java.lang.AssertionError\n   [junit4]   2> \tat __randomizedtesting.SeedInfo.seed([BEAE73A5A546349E]:0)\n   [junit4]   2> \tat org.apache.lucene.spatial.geopoint.search.GeoPointNumericTermsEnum.<init>(GeoPointNumericTermsEnum.java:51)\n   [junit4]   2> \tat org.apache.lucene.spatial.geopoint.search.GeoPointTermsEnum.newInstance(GeoPointTermsEnum.java:52)\n   [junit4]   2> \tat org.apache.lucene.spatial.geopoint.search.GeoPointMultiTermQuery.getTermsEnum(GeoPointMultiTermQuery.java:94)\n   [junit4]   2> \tat org.apache.lucene.spatial.geopoint.search.GeoPointTermQueryConstantScoreWrapper$1.scorer(GeoPointTermQueryConstantScoreWrapper.java:94)\n   [junit4]   2> \tat org.apache.lucene.search.Weight.bulkScorer(Weight.java:135)\n   [junit4]   2> \tat org.apache.lucene.search.LRUQueryCache$CachingWrapperWeight.bulkScorer(LRUQueryCache.java:644)\n   [junit4]   2> \tat org.apache.lucene.search.AssertingWeight.bulkScorer(AssertingWeight.java:68)\n   [junit4]   2> \tat org.apache.lucene.search.BooleanWeight.optionalBulkScorer(BooleanWeight.java:231)\n   [junit4]   2> \tat org.apache.lucene.search.BooleanWeight.booleanScorer(BooleanWeight.java:297)\n   [junit4]   2> \tat org.apache.lucene.search.BooleanWeight.bulkScorer(BooleanWeight.java:364)\n   [junit4]   2> \tat org.apache.lucene.search.LRUQueryCache$CachingWrapperWeight.cache(LRUQueryCache.java:593)\n   [junit4]   2> \tat org.apache.lucene.search.LRUQueryCache$CachingWrapperWeight.bulkScorer(LRUQueryCache.java:641)\n   [junit4]   2> \tat org.apache.lucene.search.AssertingWeight.bulkScorer(AssertingWeight.java:68)\n   [junit4]   2> \tat org.apache.lucene.search.BooleanWeight.requiredBulkScorer(BooleanWeight.java:273)\n   [junit4]   2> \tat org.apache.lucene.search.BooleanWeight.booleanScorer(BooleanWeight.java:326)\n   [junit4]   2> \tat org.apache.lucene.search.BooleanWeight.bulkScorer(BooleanWeight.java:364)\n   [junit4]   2> \tat org.apache.lucene.search.LRUQueryCache$CachingWrapperWeight.bulkScorer(LRUQueryCache.java:644)\n   [junit4]   2> \tat org.apache.lucene.search.AssertingWeight.bulkScorer(AssertingWeight.java:68)\n   [junit4]   2> \tat org.apache.lucene.search.AssertingWeight.bulkScorer(AssertingWeight.java:68)\n   [junit4]   2> \tat org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:666)\n   [junit4]   2> \tat org.apache.lucene.search.AssertingIndexSearcher.search(AssertingIndexSearcher.java:91)\n   [junit4]   2> \tat org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:473)\n   [junit4]   2> \tat org.apache.lucene.spatial.util.BaseGeoPointTestCase$VerifyHits.test(BaseGeoPointTestCase.java:500)\n   [junit4]   2> \tat org.apache.lucene.spatial.util.BaseGeoPointTestCase$2._run(BaseGeoPointTestCase.java:766)\n   [junit4]   2> \tat org.apache.lucene.spatial.util.BaseGeoPointTestCase$2.run(BaseGeoPointTestCase.java:633)\n   [junit4]   2> \n   [junit4]   2> NOTE: reproduce with: ant test  -Dtestcase=TestGeoPointQuery -Dtests.method=testRandomMedium -Dtests.seed=BEAE73A5A546349E -Dtests.multiplier=3 -Dtests.slow=true -Dtests.locale=ga -Dtests.timezone=America/Antigua -Dtests.asserts=true -Dtests.file.encoding=UTF-8\n   [junit4] ERROR   24.7s | TestGeoPointQuery.testRandomMedium <<<\n\n\n\nIt's this assertion ... maybe it's invalid?:\n\n\n    assert rangeBounds.isEmpty() == false;",
    "attachments": {},
    "issue_links": {},
    "comments": []
}