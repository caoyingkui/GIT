{
    "id": "SOLR-3192",
    "title": "NettySolrClient (supported by netty/protobuf)",
    "details": {
        "affect_versions": "5.2.1",
        "status": "Open",
        "fix_versions": [
            "6.0"
        ],
        "components": [],
        "type": "New Feature",
        "priority": "Major",
        "labels": "",
        "resolution": "Unresolved"
    },
    "description": "solr support netty tcp, netty/tcp can handle asynchronous,efficient,keepalive ...\n\nit's used on solr cloud or solrj\n\nusage:\n\nstart netty server:\n\nadd netty.properties  in solr_home (sush as: server/solr)\n\n\nport=8001\n\n\n\nclient\n\npublic void use_netty_client_demo() throws IOException, SolrServerException {\n  SolrClient solrClient = new NettySolrClient(\"localhost\", 8001);\n  SolrQuery query = new SolrQuery(\"*:*\");\n\n  QueryResponse response = solrClient.query(\"collection1\", query);\n\n  System.out.println(response.getResults());\n\n  solrClient.close();\n}",
    "attachments": {
        "SOLR-3192-for-5_2.patch": "https://issues.apache.org/jira/secure/attachment/12742106/SOLR-3192-for-5_2.patch",
        "SOLR-3192-for-5x.patch": "https://issues.apache.org/jira/secure/attachment/12742098/SOLR-3192-for-5x.patch",
        "solr.proto": "https://issues.apache.org/jira/secure/attachment/12743442/solr.proto"
    },
    "issue_links": {},
    "comments": [
        {
            "author": "Steve Rowe",
            "id": "comment-13717446",
            "date": "2013-07-23T18:48:16+0000",
            "content": "Bulk move 4.4 issues to 4.5 and 5.0 "
        },
        {
            "author": "Kranti Parisa",
            "id": "comment-13746776",
            "date": "2013-08-21T19:56:52+0000",
            "content": "Anyone working on this (integration of solr + netty) ? "
        },
        {
            "author": "Uwe Schindler",
            "id": "comment-13971199",
            "date": "2014-04-16T12:57:26+0000",
            "content": "Move issue to Solr 4.9. "
        },
        {
            "author": "ASF GitHub Bot",
            "id": "comment-14602379",
            "date": "2015-06-26T04:30:29+0000",
            "content": "GitHub user chenlb opened a pull request:\n\n    https://github.com/apache/lucene-solr/pull/165\n\n    Feature/netty protocol\n\n    https://issues.apache.org/jira/browse/SOLR-3192\n\n    SOLR-3192 : solr support netty protocol NettySolrClient\n\nYou can merge this pull request into a Git repository by running:\n\n    $ git pull https://github.com/chenlb/lucene-solr feature/netty_protocol\n\nAlternatively you can review and apply these changes as the patch at:\n\n    https://github.com/apache/lucene-solr/pull/165.patch\n\nTo close this pull request, make a commit to your master/trunk branch\nwith (at least) the following in the commit message:\n\n    This closes #165\n\n\ncommit d1d4c238a717b0220cce4b992c512df987d0eb1e\nAuthor: Anshum Gupta <anshum@apache.org>\nDate:   2015-05-22T07:09:56Z\n\n    Starting Lucene/Solr 5.2 branch.\n\n    git-svn-id: https://svn.apache.org/repos/asf/lucene/dev/branches/lucene_solr_5_2@1681010 13f79535-47bb-0310-9956-ffa450edef68\n\ncommit 704b01bb25bafeecc4616c970daecc56c172df6f\nAuthor: Noble Paul <noble@apache.org>\nDate:   2015-05-22T13:26:43Z\n\n    SOLR-7531: updateHandler.autoCommit.openSearcher returned in the wrong hierarchy\n\n    git-svn-id: https://svn.apache.org/repos/asf/lucene/dev/branches/lucene_solr_5_2@1681110 13f79535-47bb-0310-9956-ffa450edef68\n\ncommit ac1d60273d98855f034d03cd7798a550d0d0e4c1\nAuthor: Erik Hatcher <ehatcher@apache.org>\nDate:   2015-05-22T14:53:56Z\n\n    SOLR-7579: Fix Angular admin UI analysis screen drop-down issue\n\n    git-svn-id: https://svn.apache.org/repos/asf/lucene/dev/branches/lucene_solr_5_2@1681136 13f79535-47bb-0310-9956-ffa450edef68\n\ncommit e1028db4e2f2418bbf72048b31c5a7d9ffe19453\nAuthor: Ryan Ernst <rjernst@apache.org>\nDate:   2015-05-22T19:33:03Z\n\n    LUCENE-6497: Allow subclasses of FieldType to check frozen state (merged r1681211)\n\n    git-svn-id: https://svn.apache.org/repos/asf/lucene/dev/branches/lucene_solr_5_2@1681212 13f79535-47bb-0310-9956-ffa450edef68\n\ncommit b4c667b05301fee809f4a04d7f9ffd3b294ed39d\nAuthor: Timothy Potter <thelabdude@apache.org>\nDate:   2015-05-22T19:58:57Z\n\n    SOLR-7582: Allow auto-commit to be set with system properties in data_driven_schema_configs and enable auto soft-commits for the bin/solr -e cloud example using the Config API.\n\n    git-svn-id: https://svn.apache.org/repos/asf/lucene/dev/branches/lucene_solr_5_2@1681219 13f79535-47bb-0310-9956-ffa450edef68\n\ncommit 695774ec0c6634ab73b7364f90aab86938e3547c\nAuthor: Anshum Gupta <anshum@apache.org>\nDate:   2015-05-22T20:05:51Z\n\n    SOLR-7468: Fix the Kerberos test to use a reconfigured client always.(merge from branch_5x)\n\n    git-svn-id: https://svn.apache.org/repos/asf/lucene/dev/branches/lucene_solr_5_2@1681226 13f79535-47bb-0310-9956-ffa450edef68\n\ncommit 866859e8ee066844011970470a50d5bb43c1f569\nAuthor: Timothy Potter <thelabdude@apache.org>\nDate:   2015-05-22T20:18:19Z\n\n    Increase the default number of buckets to 65536 instead of 256\n\n    git-svn-id: https://svn.apache.org/repos/asf/lucene/dev/branches/lucene_solr_5_2@1681229 13f79535-47bb-0310-9956-ffa450edef68\n\ncommit 8a81cf5df4cb95024cd444830b76bc24a3535764\nAuthor: Uwe Schindler <uschindler@apache.org>\nDate:   2015-05-22T21:36:25Z\n\n    Merged revision(s) 1681236 from lucene/dev/trunk:\n    Remove hack for localhost address of old FreeBSD build machine\n\n    git-svn-id: https://svn.apache.org/repos/asf/lucene/dev/branches/lucene_solr_5_2@1681239 13f79535-47bb-0310-9956-ffa450edef68\n\ncommit 96cf8cff120e712f04ea4b54f3b753a4069835eb\nAuthor: Chris M. Hostetter <hossman@apache.org>\nDate:   2015-05-23T03:36:58Z\n\n    SOLR-7335: Fix doc boosts to no longer be multiplied in each field value in multivalued fields that are not used in copyFields (merge r1681249)\n\n    git-svn-id: https://svn.apache.org/repos/asf/lucene/dev/branches/lucene_solr_5_2@1681260 13f79535-47bb-0310-9956-ffa450edef68\n\ncommit 99cb69d85e844470d0822cf8a9e02e007af85e63\nAuthor: Uwe Schindler <uschindler@apache.org>\nDate:   2015-05-23T12:05:48Z\n\n    Merged revision(s) 1681331 from lucene/dev/trunk:\n    Fix python3 also in root build.xml (was correct already in common-build.xml)\n\n    git-svn-id: https://svn.apache.org/repos/asf/lucene/dev/branches/lucene_solr_5_2@1681333 13f79535-47bb-0310-9956-ffa450edef68\n\ncommit 1af0f9681b4438f73b9bdf135da5436bfef3f80a\nAuthor: Anshum Gupta <anshum@apache.org>\nDate:   2015-05-24T06:01:12Z\n\n    SOLR-7500: Fix text in the CHANGES.txt entry (merge from branch_5x)\n\n    git-svn-id: https://svn.apache.org/repos/asf/lucene/dev/branches/lucene_solr_5_2@1681416 13f79535-47bb-0310-9956-ffa450edef68\n\ncommit 14cfd9608fcc2f82c9d3e8bfacdbf9af1fa57cc0\nAuthor: Shawn Heisey <elyograg@apache.org>\nDate:   2015-05-24T13:56:31Z\n\n    SOLR-7585: Fix NoSuchElementException in LFUCache (merge trunk r1681449)\n\n\n    git-svn-id: https://svn.apache.org/repos/asf/lucene/dev/branches/lucene_solr_5_2@1681456 13f79535-47bb-0310-9956-ffa450edef68\n\ncommit 40047ae2abd7d4149aab5ca6499e53330906f169\nAuthor: Timothy Potter <thelabdude@apache.org>\nDate:   2015-05-24T16:44:30Z\n\n    SOLR-7587: First attempt at fixing the dead-lock; moved call to UpdateLog.onFirstSearcher to end of the SolrCore constructor as it only needs to run once per core initialization\n\n    git-svn-id: https://svn.apache.org/repos/asf/lucene/dev/branches/lucene_solr_5_2@1681489 13f79535-47bb-0310-9956-ffa450edef68\n\ncommit 716675fbab1bcf92b90b54ca216a54fe7d2f7c8b\nAuthor: Simon Willnauer <simonw@apache.org>\nDate:   2015-05-26T20:43:35Z\n\n    LUCENE-6499: WindowsFS misses to remove open file handle if file is concurrently deleted\n\n    git-svn-id: https://svn.apache.org/repos/asf/lucene/dev/branches/lucene_solr_5_2@1681856 13f79535-47bb-0310-9956-ffa450edef68\n\ncommit 320663132a4139fa0ab4101dbf58528a392006e8\nAuthor: Anshum Gupta <anshum@apache.org>\nDate:   2015-05-27T07:54:24Z\n\n    SOLR-7468: Merging commits to fix test issue from trunk. Commits merged: r1681413 r1681597 r1681778 r1681792\n\n    git-svn-id: https://svn.apache.org/repos/asf/lucene/dev/branches/lucene_solr_5_2@1681926 13f79535-47bb-0310-9956-ffa450edef68\n\ncommit f45ce242e5132c1c43484a8b6d39db383d758ca3\nAuthor: Anshum Gupta <anshum@apache.org>\nDate:   2015-05-27T08:15:40Z\n\n    SOLR-7183: Fix Locale blacklisting for Minikdc based tests.(merge from branch_5x)\n\n    git-svn-id: https://svn.apache.org/repos/asf/lucene/dev/branches/lucene_solr_5_2@1681928 13f79535-47bb-0310-9956-ffa450edef68\n\ncommit 9db945e826669575c95343fba779974cb8bf1d3e\nAuthor: Timothy Potter <thelabdude@apache.org>\nDate:   2015-05-27T13:33:28Z\n\n    SOLR-7587: Move the call to seed version buckets to before buffering updates during core construction\n\n    git-svn-id: https://svn.apache.org/repos/asf/lucene/dev/branches/lucene_solr_5_2@1682019 13f79535-47bb-0310-9956-ffa450edef68\n\ncommit 2faf745c5a45ada45541a44899156b1c6acf4d4e\nAuthor: Timothy Potter <thelabdude@apache.org>\nDate:   2015-05-28T18:00:08Z\n\n    SOLR-6820: fix numVersionBuckets name attribute in configsets\n\n    git-svn-id: https://svn.apache.org/repos/asf/lucene/dev/branches/lucene_solr_5_2@1682293 13f79535-47bb-0310-9956-ffa450edef68\n\ncommit adee2588dae06180adadf1415ff7583e206000b9\nAuthor: Michael McCandless <mikemccand@apache.org>\nDate:   2015-05-28T18:19:25Z\n\n    LUCENE-6505: NRT readers now reflect prior commit metadata\n\n    git-svn-id: https://svn.apache.org/repos/asf/lucene/dev/branches/lucene_solr_5_2@1682301 13f79535-47bb-0310-9956-ffa450edef68\n\ncommit c3ae50796220ee65fac617f2dd7238e055f3ab5f\nAuthor: Michael McCandless <mikemccand@apache.org>\nDate:   2015-05-28T20:51:59Z\n\n    LUCENE-6507: don't let NativeFSLock.close release other locks\n\n    git-svn-id: https://svn.apache.org/repos/asf/lucene/dev/branches/lucene_solr_5_2@1682335 13f79535-47bb-0310-9956-ffa450edef68\n\ncommit 90ca90726d897bb4d85a715e747155655a1c06cc\nAuthor: Anshum Gupta <anshum@apache.org>\nDate:   2015-05-28T21:54:32Z\n\n    SOLR-7602: Check if SolrCore object is already closed before trying to close it in case of an exception during Core creation.(merge from branch_5x)\n\n    git-svn-id: https://svn.apache.org/repos/asf/lucene/dev/branches/lucene_solr_5_2@1682346 13f79535-47bb-0310-9956-ffa450edef68\n\ncommit 46b28800f7fe4b8aea12b7326076be91368825fd\nAuthor: Robert Muir <rmuir@apache.org>\nDate:   2015-05-28T23:05:24Z\n\n    LUCENE-6507: fix test bug to not double-obtain. testDoubleObtain already tests that\n\n    git-svn-id: https://svn.apache.org/repos/asf/lucene/dev/branches/lucene_solr_5_2@1682354 13f79535-47bb-0310-9956-ffa450edef68\n\ncommit e76ed57fde1a5850344ccec64423f2a54f6f80e0\nAuthor: Steven Rowe <sarowe@apache.org>\nDate:   2015-05-29T21:09:02Z\n\n    LUCENE-5283: Introduce new build property tests.ifNoTests - when its value is 'ignore', 'ant test' will succeed even when zero tests were executed. (merged trunk r1682550)\n\n    git-svn-id: https://svn.apache.org/repos/asf/lucene/dev/branches/lucene_solr_5_2@1682554 13f79535-47bb-0310-9956-ffa450edef68\n\ncommit a98c31e9fda3664e5093a2f68fa25448f3756377\nAuthor: Tomas Eduardo Fernandez Lobbe <tflobbe@apache.org>\nDate:   2015-05-31T05:32:45Z\n\n    SOLR-7406: Use slf4j logger instead of log4j in SimpleFacets\n\n    git-svn-id: https://svn.apache.org/repos/asf/lucene/dev/branches/lucene_solr_5_2@1682677 13f79535-47bb-0310-9956-ffa450edef68\n\ncommit c6111a30853b8f4bead10602af76249757addf31\nAuthor: Erik Hatcher <ehatcher@apache.org>\nDate:   2015-06-02T17:47:56Z\n\n    SOLR-7610: Fix VelocityResponseWriter's .locale to accurately report locale in use (merged from branch_5x)\n\n    git-svn-id: https://svn.apache.org/repos/asf/lucene/dev/branches/lucene_solr_5_2@1683150 13f79535-47bb-0310-9956-ffa450edef68\n\ncommit 4a47acac7bb58dc8b83e9f20ce81c82ec4707884\nAuthor: Anshum Gupta <anshum@apache.org>\nDate:   2015-06-02T18:59:30Z\n\n    SOLR-7626: Adding versions of major components to the 5.2.0 section of the change log(merge from branch_5x)\n\n    git-svn-id: https://svn.apache.org/repos/asf/lucene/dev/branches/lucene_solr_5_2@1683160 13f79535-47bb-0310-9956-ffa450edef68\n\ncommit 5ebdc34a6807155a9ef67a50b54f583d1df1765e\nAuthor: Timothy Potter <thelabdude@apache.org>\nDate:   2015-06-02T20:30:36Z\n\n    SOLR-7625: Ensure that the max value for seeding version buckets is updated after recovery even if the UpdateLog is not replayed.\n\n    git-svn-id: https://svn.apache.org/repos/asf/lucene/dev/branches/lucene_solr_5_2@1683177 13f79535-47bb-0310-9956-ffa450edef68\n\ncommit 5565bdb92ee91a87c684e5ae956ef6db8caa9a55\nAuthor: Erik Hatcher <ehatcher@apache.org>\nDate:   2015-06-02T20:52:07Z\n\n    SOLR-7610: fix example/files README and other minor improvements/localization\n\n    git-svn-id: https://svn.apache.org/repos/asf/lucene/dev/branches/lucene_solr_5_2@1683184 13f79535-47bb-0310-9956-ffa450edef68\n\ncommit 14eec7f2e1f1df3585cb503c9f5b4846584b027b\nAuthor: Yonik Seeley <yonik@apache.org>\nDate:   2015-06-03T00:33:26Z\n\n    SOLR-7614: make pivotRefinementCounter specific to each top level request\n\n    git-svn-id: https://svn.apache.org/repos/asf/lucene/dev/branches/lucene_solr_5_2@1683205 13f79535-47bb-0310-9956-ffa450edef68\n\ncommit 6586d9bb87345ae1055e7b408c01bb9ad256e00b\nAuthor: Shawn Heisey <elyograg@apache.org>\nDate:   2015-06-08T18:03:25Z\n\n    SOLR-7588: Fix javascript bug introduced by SOLR-7409 that broke dataimport in admin UI. (merge trunk r1684234)\n\n\n    git-svn-id: https://svn.apache.org/repos/asf/lucene/dev/branches/lucene_solr_5_2@1684236 13f79535-47bb-0310-9956-ffa450edef68\n\n "
        },
        {
            "author": "ASF GitHub Bot",
            "id": "comment-14602460",
            "date": "2015-06-26T06:14:08+0000",
            "content": "Github user chenlb closed the pull request at:\n\n    https://github.com/apache/lucene-solr/pull/165 "
        },
        {
            "author": "ASF GitHub Bot",
            "id": "comment-14602476",
            "date": "2015-06-26T06:38:10+0000",
            "content": "GitHub user chenlb opened a pull request:\n\n    https://github.com/apache/lucene-solr/pull/166\n\n    Feature/5x netty protocol\n\n    netty protocol for branch_5x\n\n    https://issues.apache.org/jira/browse/SOLR-3192\n\nYou can merge this pull request into a Git repository by running:\n\n    $ git pull https://github.com/chenlb/lucene-solr feature/5x_netty_protocol\n\nAlternatively you can review and apply these changes as the patch at:\n\n    https://github.com/apache/lucene-solr/pull/166.patch\n\nTo close this pull request, make a commit to your master/trunk branch\nwith (at least) the following in the commit message:\n\n    This closes #166\n\n\ncommit fac69bbbb37423983b58b72aa1c8f75a26fe75bc\nAuthor: chenlb <chenlb2008@gmail.com>\nDate:   2015-06-26T02:42:35Z\n\n    SOLR-3192 : solr support netty protocol NettySolrClient\n\ncommit 7bab073521edb12733b2b75ec6385538dd3722e2\nAuthor: chenlb <chenlb2008@gmail.com>\nDate:   2015-06-26T06:30:36Z\n\n    for SOLR-3192 NettySolrCall compatible branch_5x\n\n "
        }
    ]
}