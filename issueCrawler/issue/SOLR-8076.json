{
    "id": "SOLR-8076",
    "title": "SEVERE: Unable to load Transformer: foo.FieldTransformer",
    "details": {
        "components": [],
        "type": "Bug",
        "labels": "",
        "fix_versions": [],
        "affect_versions": "None",
        "status": "Open",
        "resolution": "Unresolved",
        "priority": "Major"
    },
    "description": "While creating an custom transformer for data importer ,I am getting the following error. I made a custom jar and placed it in solr/lib and put it in dist/ folder also.But both times it is giving the  error.\n\nI can see the jar is loading when solr started as follows.\nSep 20, 2015 8:59:47 PM org.apache.solr.core.SolrResourceLoader replaceClassLoader\nINFO: Adding 'file:/var/www/solr/example/solr/lib/foo.jar' to classloader\n\nError is :-\nSEVERE: Unable to load Transformer: foo.FieldTransformer\njava.lang.ClassNotFoundException: Unable to load foo.FieldTransformer or org.apache.solr.handler.dataimport.foo.FieldTransformer\n\tat org.apache.solr.handler.dataimport.DocBuilder.loadClass(DocBuilder.java:911)\n\tat org.apache.solr.handler.dataimport.EntityProcessorWrapper.loadTransformers(EntityProcessorWrapper.java:107)\n\tat org.apache.solr.handler.dataimport.EntityProcessorWrapper.applyTransformer(EntityProcessorWrapper.java:168)\n\tat org.apache.solr.handler.dataimport.EntityProcessorWrapper.nextRow(EntityProcessorWrapper.java:256)\n\tat org.apache.solr.handler.dataimport.DocBuilder.buildDocument(DocBuilder.java:465)\n\tat org.apache.solr.handler.dataimport.DocBuilder.buildDocument(DocBuilder.java:404)\n\tat org.apache.solr.handler.dataimport.DocBuilder.doFullDump(DocBuilder.java:319)\n\tat org.apache.solr.handler.dataimport.DocBuilder.execute(DocBuilder.java:227)\n\tat org.apache.solr.handler.dataimport.DataImporter.doFullImport(DataImporter.java:422)\n\tat org.apache.solr.handler.dataimport.DataImporter.runCmd(DataImporter.java:487)\n\tat org.apache.solr.handler.dataimport.DataImporter$1.run(DataImporter.java:468)\nCaused by: org.apache.solr.common.SolrException: Error loading class 'foo.FieldTransformer'\n\tat org.apache.solr.core.SolrResourceLoader.findClass(SolrResourceLoader.java:440)\n\tat org.apache.solr.handler.dataimport.DocBuilder.loadClass(DocBuilder.java:901)\n\t... 10 more\nCaused by: java.lang.ClassNotFoundException: foo.FieldTransformer\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:366)\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:355)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:354)\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:425)\n\tat java.net.FactoryURLClassLoader.loadClass(URLClassLoader.java:793)\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:358)\n\tat java.lang.Class.forName0(Native Method)\n\tat java.lang.Class.forName(Class.java:274)\n\tat org.apache.solr.core.SolrResourceLoader.findClass(SolrResourceLoader.java:424)\n\t... 11 more\n\nI made changes in data-config file as follows.\n<entity name=\"products\" transformer=\"foo.FieldTransformer\" query = \"select .....'\">\n\nMy java file contains the following code.\npackage foo;\n\nimport java.util.Map;\n\npublic class FieldTransformer {\n    public Object transformRow(Map<String, Object> row) \n{\n        row.put(\"field_\"+row.get(\"third_price\"), row.get(\"id\"));\n        return row;\n    }\n}\n\nand jar contains the following folder structure.\n\nfoo/FieldTransformer.class\nMETA-INF/MANIFEST.MF\n\nWhat is the issue?",
    "attachments": {},
    "issue_links": {},
    "comments": []
}