{
    "id": "SOLR-12662",
    "title": "Reproducing TestPolicy failures: NPE and NoClassDefFoundError",
    "details": {
        "labels": "",
        "priority": "Major",
        "components": [
            "AutoScaling",
            "Tests"
        ],
        "type": "Bug",
        "fix_versions": [
            "7.5",
            "master (8.0)"
        ],
        "affect_versions": "None",
        "resolution": "Fixed",
        "status": "Closed"
    },
    "description": "From https://builds.apache.org/job/Lucene-Solr-Tests-7.x/773/:\n\n\n   [junit4] Suite: org.apache.solr.client.solrj.cloud.autoscaling.TestPolicy\n   [junit4]   2> Creating dataDir: /x1/jenkins/jenkins-slave/workspace/Lucene-Solr-Tests-7.x/solr/build/solr-solrj/test/J0/temp/solr.client.solrj.cloud.autoscaling.TestPolicy_D876F0AD4FD0DF80-001/init-core-data-001\n   [junit4]   2> NOTE: reproduce with: ant test  -Dtestcase=TestPolicy -Dtests.method=testWithCollection -Dtests.seed=D876F0AD4FD0DF80 -Dtests.multiplier=2 -Dtests.slow=true -Dtests.locale=sr -Dtests.timezone=Europe/Busingen -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1\n   [junit4] ERROR   0.09s J0 | TestPolicy.testWithCollection <<<\n   [junit4]    > Throwable #1: java.lang.ExceptionInInitializerError\n   [junit4]    > \tat __randomizedtesting.SeedInfo.seed([D876F0AD4FD0DF80:575A9671946EA761]:0)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Variable$Type.<init>(Variable.java:242)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Variable$Type.<clinit>(Variable.java:85)\n   [junit4]    > \tat org.apache.solr.client.solrj.impl.SolrClientNodeStateProvider.getNodeValues(SolrClientNodeStateProvider.java:130)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.TestPolicy.testWithCollection(TestPolicy.java:244)\n   [junit4]    > \tat java.lang.Thread.run(Thread.java:748)\n   [junit4]    > Caused by: java.lang.NullPointerException\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Variable$Type.values(Variable.java:84)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.VariableBase.<clinit>(VariableBase.java:203)\n   [junit4]    > \t... 43 more\n   [junit4]   2> NOTE: reproduce with: ant test  -Dtestcase=TestPolicy -Dtests.method=testEmptyClusterState -Dtests.seed=D876F0AD4FD0DF80 -Dtests.multiplier=2 -Dtests.slow=true -Dtests.locale=sr -Dtests.timezone=Europe/Busingen -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1\n   [junit4] ERROR   0.07s J0 | TestPolicy.testEmptyClusterState <<<\n   [junit4]    > Throwable #1: java.lang.NoClassDefFoundError: Could not initialize class org.apache.solr.client.solrj.cloud.autoscaling.VariableBase\n   [junit4]    > \tat __randomizedtesting.SeedInfo.seed([D876F0AD4FD0DF80:39224A25B6C6C014]:0)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Policy.<init>(Policy.java:127)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.AutoScalingConfig.getPolicy(AutoScalingConfig.java:353)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.PolicyHelper$SessionRef.createSession(PolicyHelper.java:356)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.PolicyHelper$SessionRef.get(PolicyHelper.java:321)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.PolicyHelper.getSession(PolicyHelper.java:377)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.PolicyHelper.getReplicaLocations(PolicyHelper.java:113)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.TestPolicy.testEmptyClusterState(TestPolicy.java:2185)\n   [junit4]    > \tat java.lang.Thread.run(Thread.java:748)\n   [junit4]   2> NOTE: reproduce with: ant test  -Dtestcase=TestPolicy -Dtests.method=testUtilizeNodeFailure -Dtests.seed=D876F0AD4FD0DF80 -Dtests.multiplier=2 -Dtests.slow=true -Dtests.locale=sr -Dtests.timezone=Europe/Busingen -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1\n   [junit4] ERROR   0.02s J0 | TestPolicy.testUtilizeNodeFailure <<<\n   [junit4]    > Throwable #1: java.lang.NoClassDefFoundError: Could not initialize class org.apache.solr.client.solrj.cloud.autoscaling.VariableBase\n   [junit4]    > \tat __randomizedtesting.SeedInfo.seed([D876F0AD4FD0DF80:9DF67055BF55C658]:0)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Policy.<init>(Policy.java:127)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.AutoScalingConfig.getPolicy(AutoScalingConfig.java:353)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.TestPolicy.createSuggester(TestPolicy.java:86)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.TestPolicy.testUtilizeNodeFailure(TestPolicy.java:3101)\n   [junit4]    > \tat java.lang.Thread.run(Thread.java:748)\n   [junit4]   2> NOTE: reproduce with: ant test  -Dtestcase=TestPolicy -Dtests.method=testRules -Dtests.seed=D876F0AD4FD0DF80 -Dtests.multiplier=2 -Dtests.slow=true -Dtests.locale=sr -Dtests.timezone=Europe/Busingen -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1\n   [junit4] ERROR   0.03s J0 | TestPolicy.testRules <<<\n   [junit4]    > Throwable #1: java.lang.NoClassDefFoundError: Could not initialize class org.apache.solr.client.solrj.cloud.autoscaling.VariableBase\n   [junit4]    > \tat __randomizedtesting.SeedInfo.seed([D876F0AD4FD0DF80:3029F941C3349FF8]:0)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.parse(Clause.java:261)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.<init>(Clause.java:104)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.create(Clause.java:140)\n   [junit4]    > \tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n   [junit4]    > \tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\n   [junit4]    > \tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n   [junit4]    > \tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Policy.<init>(Policy.java:124)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.TestPolicy.testRules(TestPolicy.java:1729)\n   [junit4]    > \tat java.lang.Thread.run(Thread.java:748)\n   [junit4]   2> NOTE: reproduce with: ant test  -Dtestcase=TestPolicy -Dtests.method=testSessionCaching -Dtests.seed=D876F0AD4FD0DF80 -Dtests.multiplier=2 -Dtests.slow=true -Dtests.locale=sr -Dtests.timezone=Europe/Busingen -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1\n   [junit4] ERROR   0.13s J0 | TestPolicy.testSessionCaching <<<\n   [junit4]    > Throwable #1: java.lang.NoClassDefFoundError: Could not initialize class org.apache.solr.client.solrj.cloud.autoscaling.VariableBase\n   [junit4]    > \tat __randomizedtesting.SeedInfo.seed([D876F0AD4FD0DF80:42ECC50FFFA7AC15]:0)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Policy.<init>(Policy.java:127)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.TestPolicy.testSessionCaching(TestPolicy.java:1774)\n   [junit4]    > \tat java.lang.Thread.run(Thread.java:748)\n   [junit4]   2> NOTE: reproduce with: ant test  -Dtestcase=TestPolicy -Dtests.method=testUtilizeNodeFailure2 -Dtests.seed=D876F0AD4FD0DF80 -Dtests.multiplier=2 -Dtests.slow=true -Dtests.locale=sr -Dtests.timezone=Europe/Busingen -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1\n   [junit4] ERROR   0.02s J0 | TestPolicy.testUtilizeNodeFailure2 <<<\n   [junit4]    > Throwable #1: java.lang.NoClassDefFoundError: Could not initialize class org.apache.solr.client.solrj.cloud.autoscaling.VariableBase\n   [junit4]    > \tat __randomizedtesting.SeedInfo.seed([D876F0AD4FD0DF80:4B228ED94AB63622]:0)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Policy.<init>(Policy.java:127)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.AutoScalingConfig.getPolicy(AutoScalingConfig.java:353)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.TestPolicy.createSuggester(TestPolicy.java:86)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.TestPolicy.testUtilizeNodeFailure2(TestPolicy.java:3186)\n   [junit4]    > \tat java.lang.Thread.run(Thread.java:748)\n   [junit4]   2> NOTE: reproduce with: ant test  -Dtestcase=TestPolicy -Dtests.method=testDiskSpaceReqd -Dtests.seed=D876F0AD4FD0DF80 -Dtests.multiplier=2 -Dtests.slow=true -Dtests.locale=sr -Dtests.timezone=Europe/Busingen -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1\n   [junit4] ERROR   0.01s J0 | TestPolicy.testDiskSpaceReqd <<<\n   [junit4]    > Throwable #1: java.lang.NoClassDefFoundError: Could not initialize class org.apache.solr.client.solrj.cloud.autoscaling.VariableBase\n   [junit4]    > \tat __randomizedtesting.SeedInfo.seed([D876F0AD4FD0DF80:195D758FED578924]:0)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.parse(Clause.java:261)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.<init>(Clause.java:104)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.create(Clause.java:140)\n   [junit4]    > \tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n   [junit4]    > \tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\n   [junit4]    > \tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n   [junit4]    > \tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Policy.<init>(Policy.java:124)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.AutoScalingConfig.getPolicy(AutoScalingConfig.java:353)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.PolicyHelper$SessionRef.createSession(PolicyHelper.java:356)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.PolicyHelper$SessionRef.get(PolicyHelper.java:321)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.PolicyHelper.getSession(PolicyHelper.java:377)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.PolicyHelper.getReplicaLocations(PolicyHelper.java:113)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.TestPolicy.testDiskSpaceReqd(TestPolicy.java:2847)\n   [junit4]    > \tat java.lang.Thread.run(Thread.java:748)\n   [junit4]   2> NOTE: reproduce with: ant test  -Dtestcase=TestPolicy -Dtests.method=testMoveReplicaSuggester -Dtests.seed=D876F0AD4FD0DF80 -Dtests.multiplier=2 -Dtests.slow=true -Dtests.locale=sr -Dtests.timezone=Europe/Busingen -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1\n   [junit4] ERROR   0.02s J0 | TestPolicy.testMoveReplicaSuggester <<<\n   [junit4]    > Throwable #1: java.lang.NoClassDefFoundError: Could not initialize class org.apache.solr.client.solrj.cloud.autoscaling.VariableBase\n   [junit4]    > \tat __randomizedtesting.SeedInfo.seed([D876F0AD4FD0DF80:CF72B1204D652874]:0)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Policy.<init>(Policy.java:127)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.TestPolicy.testMoveReplicaSuggester(TestPolicy.java:2275)\n   [junit4]    > \tat java.lang.Thread.run(Thread.java:748)\n   [junit4]   2> NOTE: reproduce with: ant test  -Dtestcase=TestPolicy -Dtests.method=testMultipleCollections -Dtests.seed=D876F0AD4FD0DF80 -Dtests.multiplier=2 -Dtests.slow=true -Dtests.locale=sr -Dtests.timezone=Europe/Busingen -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1\n   [junit4] ERROR   0.01s J0 | TestPolicy.testMultipleCollections <<<\n   [junit4]    > Throwable #1: java.lang.NoClassDefFoundError: Could not initialize class org.apache.solr.client.solrj.cloud.autoscaling.VariableBase\n   [junit4]    > \tat __randomizedtesting.SeedInfo.seed([D876F0AD4FD0DF80:64C899313DA79CE1]:0)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.parse(Clause.java:261)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.<init>(Clause.java:104)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.create(Clause.java:140)\n   [junit4]    > \tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n   [junit4]    > \tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\n   [junit4]    > \tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n   [junit4]    > \tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Policy.<init>(Policy.java:124)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.TestPolicy.testMultipleCollections(TestPolicy.java:1567)\n   [junit4]    > \tat java.lang.Thread.run(Thread.java:748)\n   [junit4]   2> NOTE: reproduce with: ant test  -Dtestcase=TestPolicy -Dtests.method=testSortError -Dtests.seed=D876F0AD4FD0DF80 -Dtests.multiplier=2 -Dtests.slow=true -Dtests.locale=sr -Dtests.timezone=Europe/Busingen -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1\n   [junit4] ERROR   0.07s J0 | TestPolicy.testSortError <<<\n   [junit4]    > Throwable #1: java.lang.NoClassDefFoundError: Could not initialize class org.apache.solr.client.solrj.cloud.autoscaling.VariableBase\n   [junit4]    > \tat __randomizedtesting.SeedInfo.seed([D876F0AD4FD0DF80:8F10C16FEF62E3D4]:0)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Policy.<init>(Policy.java:127)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.TestPolicy.testSortError(TestPolicy.java:3201)\n   [junit4]    > \tat java.lang.Thread.run(Thread.java:748)\n   [junit4]   2> NOTE: reproduce with: ant test  -Dtestcase=TestPolicy -Dtests.method=testMultiReplicaPlacement -Dtests.seed=D876F0AD4FD0DF80 -Dtests.multiplier=2 -Dtests.slow=true -Dtests.locale=sr -Dtests.timezone=Europe/Busingen -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1\n   [junit4] ERROR   0.00s J0 | TestPolicy.testMultiReplicaPlacement <<<\n   [junit4]    > Throwable #1: java.lang.NoClassDefFoundError: Could not initialize class org.apache.solr.client.solrj.cloud.autoscaling.VariableBase\n   [junit4]    > \tat __randomizedtesting.SeedInfo.seed([D876F0AD4FD0DF80:44DD32F319EB63C7]:0)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.parse(Clause.java:261)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.<init>(Clause.java:104)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.create(Clause.java:140)\n   [junit4]    > \tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n   [junit4]    > \tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\n   [junit4]    > \tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n   [junit4]    > \tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Policy.<init>(Policy.java:124)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.AutoScalingConfig.getPolicy(AutoScalingConfig.java:353)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.PolicyHelper$SessionRef.createSession(PolicyHelper.java:356)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.PolicyHelper$SessionRef.get(PolicyHelper.java:321)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.PolicyHelper.getSession(PolicyHelper.java:377)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.PolicyHelper.getReplicaLocations(PolicyHelper.java:113)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.TestPolicy.testMultiReplicaPlacement(TestPolicy.java:2247)\n   [junit4]    > \tat java.lang.Thread.run(Thread.java:748)\n   [junit4]   2> NOTE: reproduce with: ant test  -Dtestcase=TestPolicy -Dtests.method=testComputePlanAfterNodeAdded -Dtests.seed=D876F0AD4FD0DF80 -Dtests.multiplier=2 -Dtests.slow=true -Dtests.locale=sr -Dtests.timezone=Europe/Busingen -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1\n   [junit4] ERROR   0.01s J0 | TestPolicy.testComputePlanAfterNodeAdded <<<\n   [junit4]    > Throwable #1: java.lang.NoClassDefFoundError: Could not initialize class org.apache.solr.client.solrj.cloud.autoscaling.VariableBase\n   [junit4]    > \tat __randomizedtesting.SeedInfo.seed([D876F0AD4FD0DF80:EA579A62B2875BEF]:0)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.parse(Clause.java:261)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.<init>(Clause.java:96)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.create(Clause.java:140)\n   [junit4]    > \tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n   [junit4]    > \tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\n   [junit4]    > \tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n   [junit4]    > \tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Policy.<init>(Policy.java:124)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.TestPolicy.testComputePlanAfterNodeAdded(TestPolicy.java:2312)\n   [junit4]    > \tat java.lang.Thread.run(Thread.java:748)\n   [junit4]   2> NOTE: reproduce with: ant test  -Dtestcase=TestPolicy -Dtests.method=testReplicaZonesPercentage -Dtests.seed=D876F0AD4FD0DF80 -Dtests.multiplier=2 -Dtests.slow=true -Dtests.locale=sr -Dtests.timezone=Europe/Busingen -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1\n   [junit4] ERROR   0.01s J0 | TestPolicy.testReplicaZonesPercentage <<<\n   [junit4]    > Throwable #1: java.lang.NoClassDefFoundError: Could not initialize class org.apache.solr.client.solrj.cloud.autoscaling.VariableBase\n   [junit4]    > \tat __randomizedtesting.SeedInfo.seed([D876F0AD4FD0DF80:9C4371DB1FAD34B8]:0)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.parse(Clause.java:261)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.<init>(Clause.java:104)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.create(Clause.java:140)\n   [junit4]    > \tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n   [junit4]    > \tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\n   [junit4]    > \tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n   [junit4]    > \tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Policy.<init>(Policy.java:124)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.AutoScalingConfig.getPolicy(AutoScalingConfig.java:353)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.TestPolicy.testReplicaZonesPercentage(TestPolicy.java:2478)\n   [junit4]    > \tat java.lang.Thread.run(Thread.java:748)\n   [junit4]   2> NOTE: reproduce with: ant test  -Dtestcase=TestPolicy -Dtests.method=testEqualFunction -Dtests.seed=D876F0AD4FD0DF80 -Dtests.multiplier=2 -Dtests.slow=true -Dtests.locale=sr -Dtests.timezone=Europe/Busingen -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1\n   [junit4] ERROR   0.00s J0 | TestPolicy.testEqualFunction <<<\n   [junit4]    > Throwable #1: java.lang.NoClassDefFoundError: Could not initialize class org.apache.solr.client.solrj.cloud.autoscaling.VariableBase\n   [junit4]    > \tat __randomizedtesting.SeedInfo.seed([D876F0AD4FD0DF80:E6B55022B99711B6]:0)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.parse(Clause.java:261)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.<init>(Clause.java:104)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.create(Clause.java:140)\n   [junit4]    > \tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n   [junit4]    > \tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\n   [junit4]    > \tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n   [junit4]    > \tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Policy.<init>(Policy.java:124)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.AutoScalingConfig.getPolicy(AutoScalingConfig.java:353)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.TestPolicy.testEqualFunction(TestPolicy.java:1015)\n   [junit4]    > \tat java.lang.Thread.run(Thread.java:748)\n   [junit4]   2> NOTE: reproduce with: ant test  -Dtestcase=TestPolicy -Dtests.method=testValidate -Dtests.seed=D876F0AD4FD0DF80 -Dtests.multiplier=2 -Dtests.slow=true -Dtests.locale=sr -Dtests.timezone=Europe/Busingen -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1\n   [junit4] ERROR   0.00s J0 | TestPolicy.testValidate <<<\n   [junit4]    > Throwable #1: java.lang.NoClassDefFoundError: Could not initialize class org.apache.solr.client.solrj.cloud.autoscaling.VariableBase\n   [junit4]    > \tat __randomizedtesting.SeedInfo.seed([D876F0AD4FD0DF80:F11DD774D91BC84F]:0)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.validate(Clause.java:520)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.TestPolicy.expectError(TestPolicy.java:1056)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.TestPolicy.testValidate(TestPolicy.java:727)\n   [junit4]    > \tat java.lang.Thread.run(Thread.java:748)\n   [junit4]   2> NOTE: reproduce with: ant test  -Dtestcase=TestPolicy -Dtests.method=testWithCollectionMoveVsAddSuggestions -Dtests.seed=D876F0AD4FD0DF80 -Dtests.multiplier=2 -Dtests.slow=true -Dtests.locale=sr -Dtests.timezone=Europe/Busingen -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1\n   [junit4] ERROR   0.02s J0 | TestPolicy.testWithCollectionMoveVsAddSuggestions <<<\n   [junit4]    > Throwable #1: java.lang.NoClassDefFoundError: Could not initialize class org.apache.solr.client.solrj.cloud.autoscaling.Variable$Type\n   [junit4]    > \tat __randomizedtesting.SeedInfo.seed([D876F0AD4FD0DF80:BCD15664D73CDF48]:0)\n   [junit4]    > \tat org.apache.solr.client.solrj.impl.SolrClientNodeStateProvider.getNodeValues(SolrClientNodeStateProvider.java:130)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.TestPolicy.testWithCollectionMoveVsAddSuggestions(TestPolicy.java:531)\n   [junit4]    > \tat java.lang.Thread.run(Thread.java:748)\n   [junit4]   2> NOTE: reproduce with: ant test  -Dtestcase=TestPolicy -Dtests.method=testMerge -Dtests.seed=D876F0AD4FD0DF80 -Dtests.multiplier=2 -Dtests.slow=true -Dtests.locale=sr -Dtests.timezone=Europe/Busingen -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1\n   [junit4] ERROR   0.00s J0 | TestPolicy.testMerge <<<\n   [junit4]    > Throwable #1: java.lang.NoClassDefFoundError: Could not initialize class org.apache.solr.client.solrj.cloud.autoscaling.VariableBase\n   [junit4]    > \tat __randomizedtesting.SeedInfo.seed([D876F0AD4FD0DF80:6BD72E49400B6915]:0)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.parse(Clause.java:261)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.<init>(Clause.java:104)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.create(Clause.java:140)\n   [junit4]    > \tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n   [junit4]    > \tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\n   [junit4]    > \tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n   [junit4]    > \tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Policy.<init>(Policy.java:124)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.TestPolicy.testMerge(TestPolicy.java:1685)\n   [junit4]    > \tat java.lang.Thread.run(Thread.java:748)\n   [junit4]   2> NOTE: reproduce with: ant test  -Dtestcase=TestPolicy -Dtests.method=testFreediskPercentage -Dtests.seed=D876F0AD4FD0DF80 -Dtests.multiplier=2 -Dtests.slow=true -Dtests.locale=sr -Dtests.timezone=Europe/Busingen -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1\n   [junit4] ERROR   0.00s J0 | TestPolicy.testFreediskPercentage <<<\n   [junit4]    > Throwable #1: java.lang.NoClassDefFoundError: Could not initialize class org.apache.solr.client.solrj.cloud.autoscaling.VariableBase\n   [junit4]    > \tat __randomizedtesting.SeedInfo.seed([D876F0AD4FD0DF80:BFD561803DECB451]:0)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.parse(Clause.java:261)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.<init>(Clause.java:104)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.create(Clause.java:140)\n   [junit4]    > \tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n   [junit4]    > \tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\n   [junit4]    > \tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n   [junit4]    > \tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Policy.<init>(Policy.java:124)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.AutoScalingConfig.getPolicy(AutoScalingConfig.java:353)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.TestPolicy.testFreediskPercentage(TestPolicy.java:3625)\n   [junit4]    > \tat java.lang.Thread.run(Thread.java:748)\n   [junit4]   2> NOTE: reproduce with: ant test  -Dtestcase=TestPolicy -Dtests.method=testFreeDiskSuggestions -Dtests.seed=D876F0AD4FD0DF80 -Dtests.multiplier=2 -Dtests.slow=true -Dtests.locale=sr -Dtests.timezone=Europe/Busingen -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1\n   [junit4] ERROR   0.00s J0 | TestPolicy.testFreeDiskSuggestions <<<\n   [junit4]    > Throwable #1: java.lang.NoClassDefFoundError: Could not initialize class org.apache.solr.client.solrj.cloud.autoscaling.VariableBase\n   [junit4]    > \tat __randomizedtesting.SeedInfo.seed([D876F0AD4FD0DF80:A3321DAFC01C81A8]:0)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.parse(Clause.java:261)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.<init>(Clause.java:104)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.create(Clause.java:140)\n   [junit4]    > \tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n   [junit4]    > \tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\n   [junit4]    > \tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n   [junit4]    > \tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Policy.<init>(Policy.java:124)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.AutoScalingConfig.getPolicy(AutoScalingConfig.java:353)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.TestPolicy.testFreeDiskSuggestions(TestPolicy.java:2536)\n   [junit4]    > \tat java.lang.Thread.run(Thread.java:748)\n   [junit4]   2> NOTE: reproduce with: ant test  -Dtestcase=TestPolicy -Dtests.method=testNegativeConditions -Dtests.seed=D876F0AD4FD0DF80 -Dtests.multiplier=2 -Dtests.slow=true -Dtests.locale=sr -Dtests.timezone=Europe/Busingen -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1\n   [junit4] ERROR   0.01s J0 | TestPolicy.testNegativeConditions <<<\n   [junit4]    > Throwable #1: java.lang.NoClassDefFoundError: Could not initialize class org.apache.solr.client.solrj.cloud.autoscaling.VariableBase\n   [junit4]    > \tat __randomizedtesting.SeedInfo.seed([D876F0AD4FD0DF80:EB594D2345134CA0]:0)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.parse(Clause.java:261)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.<init>(Clause.java:104)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.create(Clause.java:140)\n   [junit4]    > \tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n   [junit4]    > \tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\n   [junit4]    > \tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n   [junit4]    > \tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Policy.<init>(Policy.java:124)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.TestPolicy.testNegativeConditions(TestPolicy.java:1884)\n   [junit4]    > \tat java.lang.Thread.run(Thread.java:748)\n   [junit4]   2> NOTE: reproduce with: ant test  -Dtestcase=TestPolicy -Dtests.method=testWithCollectionSuggestions -Dtests.seed=D876F0AD4FD0DF80 -Dtests.multiplier=2 -Dtests.slow=true -Dtests.locale=sr -Dtests.timezone=Europe/Busingen -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1\n   [junit4] ERROR   0.01s J0 | TestPolicy.testWithCollectionSuggestions <<<\n   [junit4]    > Throwable #1: java.lang.NoClassDefFoundError: Could not initialize class org.apache.solr.client.solrj.cloud.autoscaling.Variable$Type\n   [junit4]    > \tat __randomizedtesting.SeedInfo.seed([D876F0AD4FD0DF80:944AED1BA2E08C7F]:0)\n   [junit4]    > \tat org.apache.solr.client.solrj.impl.SolrClientNodeStateProvider.getNodeValues(SolrClientNodeStateProvider.java:130)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.TestPolicy.testWithCollectionSuggestions(TestPolicy.java:368)\n   [junit4]    > \tat java.lang.Thread.run(Thread.java:748)\n   [junit4]   2> NOTE: reproduce with: ant test  -Dtestcase=TestPolicy -Dtests.method=testReplicaCountSuggestions -Dtests.seed=D876F0AD4FD0DF80 -Dtests.multiplier=2 -Dtests.slow=true -Dtests.locale=sr -Dtests.timezone=Europe/Busingen -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1\n   [junit4] ERROR   0.00s J0 | TestPolicy.testReplicaCountSuggestions <<<\n   [junit4]    > Throwable #1: java.lang.NoClassDefFoundError: Could not initialize class org.apache.solr.client.solrj.cloud.autoscaling.VariableBase\n   [junit4]    > \tat __randomizedtesting.SeedInfo.seed([D876F0AD4FD0DF80:CD1C93EF66CA956]:0)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.parse(Clause.java:261)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.<init>(Clause.java:96)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.create(Clause.java:140)\n   [junit4]    > \tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n   [junit4]    > \tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\n   [junit4]    > \tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n   [junit4]    > \tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Policy.<init>(Policy.java:124)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.AutoScalingConfig.getPolicy(AutoScalingConfig.java:353)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.PolicyHelper.getSuggestions(PolicyHelper.java:207)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.TestPolicy.testReplicaCountSuggestions(TestPolicy.java:2343)\n   [junit4]    > \tat java.lang.Thread.run(Thread.java:748)\n   [junit4]   2> NOTE: reproduce with: ant test  -Dtestcase=TestPolicy -Dtests.method=testConditionsSort -Dtests.seed=D876F0AD4FD0DF80 -Dtests.multiplier=2 -Dtests.slow=true -Dtests.locale=sr -Dtests.timezone=Europe/Busingen -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1\n   [junit4] ERROR   0.00s J0 | TestPolicy.testConditionsSort <<<\n   [junit4]    > Throwable #1: java.lang.NoClassDefFoundError: Could not initialize class org.apache.solr.client.solrj.cloud.autoscaling.VariableBase\n   [junit4]    > \tat __randomizedtesting.SeedInfo.seed([D876F0AD4FD0DF80:F924935CC3E5C6C4]:0)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.parse(Clause.java:261)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.<init>(Clause.java:104)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.create(Clause.java:140)\n   [junit4]    > \tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n   [junit4]    > \tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\n   [junit4]    > \tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n   [junit4]    > \tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Policy.<init>(Policy.java:124)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.TestPolicy.testConditionsSort(TestPolicy.java:1704)\n   [junit4]    > \tat java.lang.Thread.run(Thread.java:748)\n   [junit4]   2> NOTE: reproduce with: ant test  -Dtestcase=TestPolicy -Dtests.method=testPortSuggestions -Dtests.seed=D876F0AD4FD0DF80 -Dtests.multiplier=2 -Dtests.slow=true -Dtests.locale=sr -Dtests.timezone=Europe/Busingen -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1\n   [junit4] ERROR   0.00s J0 | TestPolicy.testPortSuggestions <<<\n   [junit4]    > Throwable #1: java.lang.NoClassDefFoundError: Could not initialize class org.apache.solr.client.solrj.cloud.autoscaling.VariableBase\n   [junit4]    > \tat __randomizedtesting.SeedInfo.seed([D876F0AD4FD0DF80:1B188F564395566C]:0)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.parse(Clause.java:261)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.<init>(Clause.java:104)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.create(Clause.java:140)\n   [junit4]    > \tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n   [junit4]    > \tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\n   [junit4]    > \tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n   [junit4]    > \tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Policy.<init>(Policy.java:124)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.AutoScalingConfig.getPolicy(AutoScalingConfig.java:353)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.TestPolicy.testPortSuggestions(TestPolicy.java:2722)\n   [junit4]    > \tat java.lang.Thread.run(Thread.java:748)\n   [junit4]   2> NOTE: reproduce with: ant test  -Dtestcase=TestPolicy -Dtests.method=testMoveReplica -Dtests.seed=D876F0AD4FD0DF80 -Dtests.multiplier=2 -Dtests.slow=true -Dtests.locale=sr -Dtests.timezone=Europe/Busingen -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1\n   [junit4] ERROR   0.00s J0 | TestPolicy.testMoveReplica <<<\n   [junit4]    > Throwable #1: java.lang.NoClassDefFoundError: Could not initialize class org.apache.solr.client.solrj.cloud.autoscaling.VariableBase\n   [junit4]    > \tat __randomizedtesting.SeedInfo.seed([D876F0AD4FD0DF80:922C4955477091B]:0)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.parse(Clause.java:261)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.<init>(Clause.java:96)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.create(Clause.java:140)\n   [junit4]    > \tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n   [junit4]    > \tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\n   [junit4]    > \tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n   [junit4]    > \tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Policy.<init>(Policy.java:124)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.TestPolicy.testMoveReplica(TestPolicy.java:1970)\n   [junit4]    > \tat java.lang.Thread.run(Thread.java:748)\n   [junit4]   2> NOTE: reproduce with: ant test  -Dtestcase=TestPolicy -Dtests.method=testReplicaPercentage -Dtests.seed=D876F0AD4FD0DF80 -Dtests.multiplier=2 -Dtests.slow=true -Dtests.locale=sr -Dtests.timezone=Europe/Busingen -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1\n   [junit4] ERROR   0.01s J0 | TestPolicy.testReplicaPercentage <<<\n   [junit4]    > Throwable #1: java.lang.NoClassDefFoundError: Could not initialize class org.apache.solr.client.solrj.cloud.autoscaling.VariableBase\n   [junit4]    > \tat __randomizedtesting.SeedInfo.seed([D876F0AD4FD0DF80:A291ADA3E5C08A31]:0)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.parse(Clause.java:261)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.<init>(Clause.java:104)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.create(Clause.java:140)\n   [junit4]    > \tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n   [junit4]    > \tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\n   [junit4]    > \tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n   [junit4]    > \tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Policy.<init>(Policy.java:124)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.AutoScalingConfig.getPolicy(AutoScalingConfig.java:353)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.TestPolicy.testReplicaPercentage(TestPolicy.java:2379)\n   [junit4]    > \tat java.lang.Thread.run(Thread.java:748)\n   [junit4]   2> NOTE: reproduce with: ant test  -Dtestcase=TestPolicy -Dtests.method=testWithCollectionMoveReplica -Dtests.seed=D876F0AD4FD0DF80 -Dtests.multiplier=2 -Dtests.slow=true -Dtests.locale=sr -Dtests.timezone=Europe/Busingen -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1\n   [junit4] ERROR   0.00s J0 | TestPolicy.testWithCollectionMoveReplica <<<\n   [junit4]    > Throwable #1: java.lang.NoClassDefFoundError: Could not initialize class org.apache.solr.client.solrj.cloud.autoscaling.Variable$Type\n   [junit4]    > \tat __randomizedtesting.SeedInfo.seed([D876F0AD4FD0DF80:97BAD97C57E7644E]:0)\n   [junit4]    > \tat org.apache.solr.client.solrj.impl.SolrClientNodeStateProvider.getNodeValues(SolrClientNodeStateProvider.java:130)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.TestPolicy.testWithCollectionMoveReplica(TestPolicy.java:684)\n   [junit4]    > \tat java.lang.Thread.run(Thread.java:748)\n   [junit4]   2> NOTE: reproduce with: ant test  -Dtestcase=TestPolicy -Dtests.method=testViolationOutput -Dtests.seed=D876F0AD4FD0DF80 -Dtests.multiplier=2 -Dtests.slow=true -Dtests.locale=sr -Dtests.timezone=Europe/Busingen -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1\n   [junit4] ERROR   0.00s J0 | TestPolicy.testViolationOutput <<<\n   [junit4]    > Throwable #1: java.lang.NoClassDefFoundError: Could not initialize class org.apache.solr.client.solrj.cloud.autoscaling.VariableBase\n   [junit4]    > \tat __randomizedtesting.SeedInfo.seed([D876F0AD4FD0DF80:BA40B57A20BC2F2]:0)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.parse(Clause.java:261)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.<init>(Clause.java:104)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.create(Clause.java:140)\n   [junit4]    > \tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n   [junit4]    > \tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\n   [junit4]    > \tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n   [junit4]    > \tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Policy.<init>(Policy.java:124)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.AutoScalingConfig.getPolicy(AutoScalingConfig.java:353)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.TestPolicy.testViolationOutput(TestPolicy.java:3558)\n   [junit4]    > \tat java.lang.Thread.run(Thread.java:748)\n   [junit4]   2> NOTE: reproduce with: ant test  -Dtestcase=TestPolicy -Dtests.method=testScheduledTriggerFailure -Dtests.seed=D876F0AD4FD0DF80 -Dtests.multiplier=2 -Dtests.slow=true -Dtests.locale=sr -Dtests.timezone=Europe/Busingen -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1\n   [junit4] ERROR   0.01s J0 | TestPolicy.testScheduledTriggerFailure <<<\n   [junit4]    > Throwable #1: java.lang.NoClassDefFoundError: Could not initialize class org.apache.solr.client.solrj.cloud.autoscaling.VariableBase\n   [junit4]    > \tat __randomizedtesting.SeedInfo.seed([D876F0AD4FD0DF80:515D02A1078A8A1B]:0)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.parse(Clause.java:261)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.<init>(Clause.java:96)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.create(Clause.java:140)\n   [junit4]    > \tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n   [junit4]    > \tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\n   [junit4]    > \tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n   [junit4]    > \tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Policy.<init>(Policy.java:124)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.AutoScalingConfig.getPolicy(AutoScalingConfig.java:353)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.TestPolicy.createSuggester(TestPolicy.java:86)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.TestPolicy.testScheduledTriggerFailure(TestPolicy.java:2974)\n   [junit4]    > \tat java.lang.Thread.run(Thread.java:748)\n   [junit4]   2> NOTE: reproduce with: ant test  -Dtestcase=TestPolicy -Dtests.method=testMoveReplicasInMultipleCollections -Dtests.seed=D876F0AD4FD0DF80 -Dtests.multiplier=2 -Dtests.slow=true -Dtests.locale=sr -Dtests.timezone=Europe/Busingen -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1\n   [junit4] ERROR   0.02s J0 | TestPolicy.testMoveReplicasInMultipleCollections <<<\n   [junit4]    > Throwable #1: java.lang.NoClassDefFoundError: Could not initialize class org.apache.solr.client.solrj.cloud.autoscaling.VariableBase\n   [junit4]    > \tat __randomizedtesting.SeedInfo.seed([D876F0AD4FD0DF80:4281DD4502353835]:0)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Policy.<init>(Policy.java:127)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.TestPolicy.testMoveReplicasInMultipleCollections(TestPolicy.java:1511)\n   [junit4]    > \tat java.lang.Thread.run(Thread.java:748)\n   [junit4]   2> NOTE: reproduce with: ant test  -Dtestcase=TestPolicy -Dtests.method=testSyspropSuggestions -Dtests.seed=D876F0AD4FD0DF80 -Dtests.multiplier=2 -Dtests.slow=true -Dtests.locale=sr -Dtests.timezone=Europe/Busingen -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1\n   [junit4] ERROR   0.02s J0 | TestPolicy.testSyspropSuggestions <<<\n   [junit4]    > Throwable #1: java.lang.NoClassDefFoundError: Could not initialize class org.apache.solr.client.solrj.cloud.autoscaling.VariableBase\n   [junit4]    > \tat __randomizedtesting.SeedInfo.seed([D876F0AD4FD0DF80:EBCE9BA84100BD06]:0)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.parse(Clause.java:261)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.<init>(Clause.java:104)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.create(Clause.java:140)\n   [junit4]    > \tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n   [junit4]    > \tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\n   [junit4]    > \tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n   [junit4]    > \tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Policy.<init>(Policy.java:124)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.AutoScalingConfig.getPolicy(AutoScalingConfig.java:353)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.TestPolicy.testSyspropSuggestions(TestPolicy.java:2662)\n   [junit4]    > \tat java.lang.Thread.run(Thread.java:748)\n   [junit4]   2> NOTE: reproduce with: ant test  -Dtestcase=TestPolicy -Dtests.method=testOtherTag -Dtests.seed=D876F0AD4FD0DF80 -Dtests.multiplier=2 -Dtests.slow=true -Dtests.locale=sr -Dtests.timezone=Europe/Busingen -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1\n   [junit4] ERROR   0.00s J0 | TestPolicy.testOtherTag <<<\n   [junit4]    > Throwable #1: java.lang.NoClassDefFoundError: Could not initialize class org.apache.solr.client.solrj.cloud.autoscaling.VariableBase\n   [junit4]    > \tat __randomizedtesting.SeedInfo.seed([D876F0AD4FD0DF80:A56F41875B23288E]:0)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.parse(Clause.java:261)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.<init>(Clause.java:104)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.create(Clause.java:140)\n   [junit4]    > \tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n   [junit4]    > \tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\n   [junit4]    > \tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n   [junit4]    > \tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Policy.<init>(Policy.java:124)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.TestPolicy.testOtherTag(TestPolicy.java:2032)\n   [junit4]    > \tat java.lang.Thread.run(Thread.java:748)\n   [junit4]   2> NOTE: reproduce with: ant test  -Dtestcase=TestPolicy -Dtests.method=testPolicyWithReplicaType -Dtests.seed=D876F0AD4FD0DF80 -Dtests.multiplier=2 -Dtests.slow=true -Dtests.locale=sr -Dtests.timezone=Europe/Busingen -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1\n   [junit4] ERROR   0.02s J0 | TestPolicy.testPolicyWithReplicaType <<<\n   [junit4]    > Throwable #1: java.lang.NoClassDefFoundError: Could not initialize class org.apache.solr.client.solrj.cloud.autoscaling.VariableBase\n   [junit4]    > \tat __randomizedtesting.SeedInfo.seed([D876F0AD4FD0DF80:908F23B464EE88C3]:0)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.parse(Clause.java:261)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.<init>(Clause.java:104)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.create(Clause.java:140)\n   [junit4]    > \tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n   [junit4]    > \tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\n   [junit4]    > \tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n   [junit4]    > \tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Policy.<init>(Policy.java:124)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.TestPolicy.testPolicyWithReplicaType(TestPolicy.java:1371)\n   [junit4]    > \tat java.lang.Thread.run(Thread.java:748)\n   [junit4]   2> NOTE: reproduce with: ant test  -Dtestcase=TestPolicy -Dtests.method=testRow -Dtests.seed=D876F0AD4FD0DF80 -Dtests.multiplier=2 -Dtests.slow=true -Dtests.locale=sr -Dtests.timezone=Europe/Busingen -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1\n   [junit4] ERROR   0.01s J0 | TestPolicy.testRow <<<\n   [junit4]    > Throwable #1: java.lang.NoClassDefFoundError: Could not initialize class org.apache.solr.client.solrj.cloud.autoscaling.VariableBase\n   [junit4]    > \tat __randomizedtesting.SeedInfo.seed([D876F0AD4FD0DF80:8D2129ABB7358D5F]:0)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Policy.<init>(Policy.java:127)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Policy.<init>(Policy.java:98)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.TestPolicy.testRow(TestPolicy.java:1622)\n   [junit4]    > \tat java.lang.Thread.run(Thread.java:748)\n   [junit4]   2> NOTE: reproduce with: ant test  -Dtestcase=TestPolicy -Dtests.method=testGreedyConditions -Dtests.seed=D876F0AD4FD0DF80 -Dtests.multiplier=2 -Dtests.slow=true -Dtests.locale=sr -Dtests.timezone=Europe/Busingen -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1\n   [junit4] ERROR   0.00s J0 | TestPolicy.testGreedyConditions <<<\n   [junit4]    > Throwable #1: java.lang.NoClassDefFoundError: Could not initialize class org.apache.solr.client.solrj.cloud.autoscaling.VariableBase\n   [junit4]    > \tat __randomizedtesting.SeedInfo.seed([D876F0AD4FD0DF80:8179CEBF6A59C6C3]:0)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.parse(Clause.java:261)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.<init>(Clause.java:96)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.create(Clause.java:140)\n   [junit4]    > \tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n   [junit4]    > \tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\n   [junit4]    > \tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n   [junit4]    > \tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Policy.<init>(Policy.java:124)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.TestPolicy.testGreedyConditions(TestPolicy.java:1916)\n   [junit4]    > \tat java.lang.Thread.run(Thread.java:748)\n   [junit4]   2> NOTE: reproduce with: ant test  -Dtestcase=TestPolicy -Dtests.method=testNodeLostMultipleReplica -Dtests.seed=D876F0AD4FD0DF80 -Dtests.multiplier=2 -Dtests.slow=true -Dtests.locale=sr -Dtests.timezone=Europe/Busingen -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1\n   [junit4] ERROR   0.03s J0 | TestPolicy.testNodeLostMultipleReplica <<<\n   [junit4]    > Throwable #1: java.lang.NoClassDefFoundError: Could not initialize class org.apache.solr.client.solrj.cloud.autoscaling.VariableBase\n   [junit4]    > \tat __randomizedtesting.SeedInfo.seed([D876F0AD4FD0DF80:DAE0DB69F39FED37]:0)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.parse(Clause.java:261)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.<init>(Clause.java:104)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.create(Clause.java:140)\n   [junit4]    > \tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n   [junit4]    > \tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\n   [junit4]    > \tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n   [junit4]    > \tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Policy.<init>(Policy.java:124)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.AutoScalingConfig.getPolicy(AutoScalingConfig.java:353)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.TestPolicy.testNodeLostMultipleReplica(TestPolicy.java:1180)\n   [junit4]    > \tat java.lang.Thread.run(Thread.java:748)\n   [junit4]   2> NOTE: reproduce with: ant test  -Dtestcase=TestPolicy -Dtests.method=testDiskSpaceHint -Dtests.seed=D876F0AD4FD0DF80 -Dtests.multiplier=2 -Dtests.slow=true -Dtests.locale=sr -Dtests.timezone=Europe/Busingen -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1\n   [junit4] ERROR   0.00s J0 | TestPolicy.testDiskSpaceHint <<<\n   [junit4]    > Throwable #1: java.lang.NoClassDefFoundError: Could not initialize class org.apache.solr.client.solrj.cloud.autoscaling.VariableBase\n   [junit4]    > \tat __randomizedtesting.SeedInfo.seed([D876F0AD4FD0DF80:F7DD34D8556AE49B]:0)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.parse(Clause.java:261)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.<init>(Clause.java:96)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.create(Clause.java:140)\n   [junit4]    > \tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n   [junit4]    > \tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\n   [junit4]    > \tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n   [junit4]    > \tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Policy.<init>(Policy.java:124)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.TestPolicy.testDiskSpaceHint(TestPolicy.java:2757)\n   [junit4]    > \tat java.lang.Thread.run(Thread.java:748)\n   [junit4]   2> NOTE: reproduce with: ant test  -Dtestcase=TestPolicy -Dtests.method=testNodeLost -Dtests.seed=D876F0AD4FD0DF80 -Dtests.multiplier=2 -Dtests.slow=true -Dtests.locale=sr -Dtests.timezone=Europe/Busingen -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1\n   [junit4] ERROR   0.00s J0 | TestPolicy.testNodeLost <<<\n   [junit4]    > Throwable #1: java.lang.NoClassDefFoundError: Could not initialize class org.apache.solr.client.solrj.cloud.autoscaling.VariableBase\n   [junit4]    > \tat __randomizedtesting.SeedInfo.seed([D876F0AD4FD0DF80:67633E53CC3ABA06]:0)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.parse(Clause.java:261)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.<init>(Clause.java:96)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.create(Clause.java:140)\n   [junit4]    > \tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n   [junit4]    > \tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\n   [junit4]    > \tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n   [junit4]    > \tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Policy.<init>(Policy.java:124)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.TestPolicy.testNodeLost(TestPolicy.java:1145)\n   [junit4]    > \tat java.lang.Thread.run(Thread.java:748)\n   [junit4]   2> NOTE: reproduce with: ant test  -Dtestcase=TestPolicy -Dtests.method=testCoresSuggestions -Dtests.seed=D876F0AD4FD0DF80 -Dtests.multiplier=2 -Dtests.slow=true -Dtests.locale=sr -Dtests.timezone=Europe/Busingen -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1\n   [junit4] ERROR   0.00s J0 | TestPolicy.testCoresSuggestions <<<\n   [junit4]    > Throwable #1: java.lang.NoClassDefFoundError: Could not initialize class org.apache.solr.client.solrj.cloud.autoscaling.VariableBase\n   [junit4]    > \tat __randomizedtesting.SeedInfo.seed([D876F0AD4FD0DF80:706B14C85B1FD6D9]:0)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.parse(Clause.java:261)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.<init>(Clause.java:96)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.create(Clause.java:140)\n   [junit4]    > \tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n   [junit4]    > \tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\n   [junit4]    > \tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n   [junit4]    > \tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n   [junit4]    > \tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Policy.<init>(Policy.java:124)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.AutoScalingConfig.getPolicy(AutoScalingConfig.java:353)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.TestPolicy.testCoresSuggestions(TestPolicy.java:2615)\n   [junit4]    > \tat java.lang.Thread.run(Thread.java:748)\n   [junit4]   2> NOTE: reproduce with: ant test  -Dtestcase=TestPolicy -Dtests.method=testOperands -Dtests.seed=D876F0AD4FD0DF80 -Dtests.multiplier=2 -Dtests.slow=true -Dtests.locale=sr -Dtests.timezone=Europe/Busingen -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1\n   [junit4] ERROR   0.01s J0 | TestPolicy.testOperands <<<\n   [junit4]    > Throwable #1: java.lang.NoClassDefFoundError: Could not initialize class org.apache.solr.client.solrj.cloud.autoscaling.VariableBase\n   [junit4]    > \tat __randomizedtesting.SeedInfo.seed([D876F0AD4FD0DF80:F9F893BA0CB56B25]:0)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.parse(Clause.java:261)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.<init>(Clause.java:104)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.create(Clause.java:140)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.Clause.create(Clause.java:136)\n   [junit4]    > \tat org.apache.solr.client.solrj.cloud.autoscaling.TestPolicy.testOperands(TestPolicy.java:1065)\n   [junit4]    > \tat java.lang.Thread.run(Thread.java:748)\n   [junit4]   2> NOTE: leaving temporary files on disk at: /x1/jenkins/jenkins-slave/workspace/Lucene-Solr-Tests-7.x/solr/build/solr-solrj/test/J0/temp/solr.client.solrj.cloud.autoscaling.TestPolicy_D876F0AD4FD0DF80-001\n   [junit4]   2> NOTE: test params are: codec=Lucene70, sim=RandomSimilarity(queryNorm=true): {}, locale=sr, timezone=Europe/Busingen\n   [junit4]   2> NOTE: Linux 4.4.0-130-generic amd64/Oracle Corporation 1.8.0_172 (64-bit)/cpus=4,threads=1,free=133865256,total=294649856\n   [junit4]   2> NOTE: All tests run in this JVM: [UuidEvaluatorTest, LBHttpSolrClientBuilderTest, LargeVolumeBinaryJettyTest, DivideEvaluatorTest, MergeIndexesEmbeddedTest, DocumentAnalysisResponseTest, SolrExampleBinaryTest, CosineEvaluatorTest, SineEvaluatorTest, TestSolrProperties, TestPolicy]\n   [junit4] Completed [26/155 (1!)] on J0 in 0.77s, 41 tests, 40 errors <<< FAILURES!",
    "attachments": {
        "SOLR-12662.patch": "https://issues.apache.org/jira/secure/attachment/12937471/SOLR-12662.patch",
        "SOLR-12662-part2.patch": "https://issues.apache.org/jira/secure/attachment/12937637/SOLR-12662-part2.patch"
    },
    "issue_links": {},
    "comments": [
        {
            "date": "2018-08-28T16:41:07+0000",
            "content": "The issue is dueling static initializers: a static initialization block in VariableBase attempts to get static enum Variable.Type's entries via Type.values() before Type has had a chance to initialize itself.\n\nThe attached patch switches to lazy initialization: calling Type.values() is delayed until the first time they are needed.\n\nCommitting shortly. ",
            "author": "Steve Rowe",
            "id": "comment-16595263"
        },
        {
            "date": "2018-08-28T16:43:53+0000",
            "content": "Commit f6c06ae5e58d2c461c7bb7333b82aead753fa295 in lucene-solr's branch refs/heads/branch_7x from Steve Rowe\n[ https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=f6c06ae ]\n\nSOLR-12662: Reproducing TestPolicy failures: NPE and NoClassDefFoundError ",
            "author": "ASF subversion and git services",
            "id": "comment-16595268"
        },
        {
            "date": "2018-08-28T16:43:55+0000",
            "content": "Commit 6430749d46cda00bb591268ef3ade3386b927c73 in lucene-solr's branch refs/heads/master from Steve Rowe\n[ https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=6430749 ]\n\nSOLR-12662: Reproducing TestPolicy failures: NPE and NoClassDefFoundError ",
            "author": "ASF subversion and git services",
            "id": "comment-16595270"
        },
        {
            "date": "2018-08-29T15:02:29+0000",
            "content": "Andrzej Bialecki  told me offline that he's still getting NPE-s from the autoscaling simulator where the timing of accesses is sped up by x50 and the chances of a race condition are higher.\n\nThis patch moves the Type-by-name map construction from VariableBase to Variable.Type, accessible via new static method Variable.Type.get(); in this way, the determinate static initializer sequencing in individual source files means we don't have to perform any synchronization to avoid races.\n\nAll autoscaling tests pass with the -part2 patch.  Committing after precommit passes. ",
            "author": "Steve Rowe",
            "id": "comment-16596444"
        },
        {
            "date": "2018-08-29T15:28:13+0000",
            "content": "Commit 9fcd4929db83f8302ff4a3021247f60db4af4b8e in lucene-solr's branch refs/heads/branch_7x from Steve Rowe\n[ https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=9fcd492 ]\n\nSOLR-12662: Eliminate possible race conditions by moving Type-by-name map construction to Variable.Type, accessible via Variable.Type.get(name) ",
            "author": "ASF subversion and git services",
            "id": "comment-16596473"
        },
        {
            "date": "2018-08-29T15:28:14+0000",
            "content": "Commit 098f475a671c88bf09cb2e73af631fd45ee5c5ef in lucene-solr's branch refs/heads/master from Steve Rowe\n[ https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=098f475 ]\n\nSOLR-12662: Eliminate possible race conditions by moving Type-by-name map construction to Variable.Type, accessible via Variable.Type.get(name) ",
            "author": "ASF subversion and git services",
            "id": "comment-16596474"
        }
    ]
}