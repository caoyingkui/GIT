{
    "id": "SOLR-12111",
    "title": "Add Replica API fails to add a replica when no node is specified and collection was created with maxShardsPerNode=-1",
    "details": {
        "labels": "",
        "priority": "Major",
        "components": [
            "SolrCloud"
        ],
        "type": "Task",
        "fix_versions": [
            "7.6",
            "master (8.0)"
        ],
        "affect_versions": "7.2",
        "resolution": "Unresolved",
        "status": "Open"
    },
    "description": "After SOLR-11239, maxShardsPerNode=-1 implies that it is unlimited. But using the Add Replica API without specifying a node treats maxShardsPerNode literally as -1 and therefore complains that the cluster does not have enough nodes to add the new replica.",
    "attachments": {},
    "issue_links": {},
    "comments": []
}