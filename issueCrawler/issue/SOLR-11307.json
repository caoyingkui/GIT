{
    "id": "SOLR-11307",
    "title": "AddReplicaSuggester should support collection+shard hints",
    "details": {
        "labels": "",
        "priority": "Major",
        "components": [
            "AutoScaling"
        ],
        "type": "Sub-task",
        "fix_versions": [
            "7.1"
        ],
        "affect_versions": "None",
        "resolution": "Fixed",
        "status": "Closed"
    },
    "description": "AddReplicaSuggester currently has a buggy behavior when both Hint.COLL and Hint.SHARD are specified - multiple collection names are retrieved but only a single shard name is retrieved, which would cause invalid combinations to be tried.\n\nInstead it should support a different hint type where multiple valid combinations of collection+shard name can be specified. This type of information will be available from events generated by SearchRateTrigger (SOLR-11072) that collects the identities of \"hot\" shards that need additional replicas.",
    "attachments": {
        "SOLR-11307.patch": "https://issues.apache.org/jira/secure/attachment/12885207/SOLR-11307.patch"
    },
    "issue_links": {},
    "comments": [
        {
            "date": "2017-09-04T09:44:41+0000",
            "content": "I think it's a bit awkward to use the name Hint.SHARD when what is really expected is a pair of coll + shard. Maybe rename it to Hint.COLL_SHARD ? ",
            "author": "Andrzej Bialecki",
            "id": "comment-16152398"
        },
        {
            "date": "2017-09-05T09:11:12+0000",
            "content": "The SHARD is is replaced with COLL_SHARD which accepts a combination of COLLECTION+SHARD ",
            "author": "Noble Paul",
            "id": "comment-16153333"
        },
        {
            "date": "2017-10-17T11:03:43+0000",
            "content": "Bulk close after 7.1.0 release ",
            "author": "Shalin Shekhar Mangar",
            "id": "comment-16207360"
        }
    ]
}