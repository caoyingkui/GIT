{
    "id": "SOLR-2169",
    "title": "QueryElevationComponentTest.testInterface test failure",
    "details": {
        "affect_versions": "3.1,                                            4.0-ALPHA",
        "status": "Closed",
        "fix_versions": [
            "3.1",
            "4.0-ALPHA"
        ],
        "components": [
            "Build"
        ],
        "type": "Bug",
        "priority": "Major",
        "labels": "",
        "resolution": "Not A Problem"
    },
    "description": "Stacktrace:\n\n    [junit] Testsuite: org.apache.solr.handler.component.QueryElevationComponentTest\n    [junit] Testcase: testInterface(org.apache.solr.handler.component.QueryElevationComponentTest):\tCaused an ERROR\n    [junit] Exception during query\n    [junit] java.lang.RuntimeException: Exception during query\n    [junit] \tat org.apache.solr.SolrTestCaseJ4.assertQ(SolrTestCaseJ4.java:343)\n    [junit] \tat org.apache.solr.handler.component.QueryElevationComponentTest.testInterface(QueryElevationComponentTest.java:100)\n    [junit] \tat org.apache.lucene.util.LuceneTestCase$LuceneTestCaseRunner.runChild(LuceneTestCase.java:873)\n    [junit] \tat org.apache.lucene.util.LuceneTestCase$LuceneTestCaseRunner.runChild(LuceneTestCase.java:840)\n    [junit] Caused by: java.lang.RuntimeException: REQUEST FAILED: xpath=//*[@numFound='0']\n    [junit] \txml response was: <?xml version=\"1.0\" encoding=\"UTF-8\"?>\n    [junit] <response>\n    [junit] <lst name=\"responseHeader\"><int name=\"status\">0</int><int name=\"QTime\">3</int><lst name=\"params\"><str name=\"q.alt\">*:*</str><str name=\"qt\">/elevate</str><str name=\"defType\">dismax</str></lst></lst><result name=\"response\" numFound=\"6\" start=\"0\"><doc><str name=\"id\">a</str><arr name=\"str_s\"><str>a</str></arr><str name=\"title\">ipod</str></doc><doc><str name=\"id\">b</str><arr name=\"str_s\"><str>b</str></arr><str name=\"title\">ipod ipod</str></doc><doc><str name=\"id\">c</str><arr name=\"str_s\"><str>c</str></arr><str name=\"title\">ipod ipod ipod</str></doc><doc><str name=\"id\">x</str><arr name=\"str_s\"><str>x</str></arr><str name=\"title\">boosted</str></doc><doc><str name=\"id\">y</str><arr name=\"str_s\"><str>y</str></arr><str name=\"title\">boosted boosted</str></doc><doc><str name=\"id\">z</str><arr name=\"str_s\"><str>z</str></arr><str name=\"title\">boosted boosted boosted</str></doc></result>\n    [junit] </response>\n    [junit] \n    [junit] \trequest was:q.alt=*:*&qt=/elevate&defType=dismax\n    [junit] \tat org.apache.solr.SolrTestCaseJ4.assertQ(SolrTestCaseJ4.java:336)\n    [junit] \n    [junit] \n    [junit] Tests run: 3, Failures: 0, Errors: 1, Time elapsed: 0.581 sec\n    [junit] \n    [junit] ------------- Standard Output ---------------\n    [junit] NOTE: reproduce with: ant test -Dtestcase=QueryElevationComponentTest -Dtestmethod=testInterface -Dtests.seed=8921358208309552689:278255616409435903\n    [junit] NOTE: test params are: codec=MockSep, locale=fr, timezone=America/Indiana/Vevay\n    [junit] ------------- ---------------- ---------------\n    [junit] ------------- Standard Error -----------------\n    [junit] 17 oct. 2010 04:10:28 org.apache.solr.SolrTestCaseJ4 assertQ\n    [junit] GRAVE: REQUEST FAILED: xpath=//*[@numFound='0']\n    [junit] \txml response was: <?xml version=\"1.0\" encoding=\"UTF-8\"?>\n    [junit] <response>\n    [junit] <lst name=\"responseHeader\"><int name=\"status\">0</int><int name=\"QTime\">3</int><lst name=\"params\"><str name=\"q.alt\">*:*</str><str name=\"qt\">/elevate</str><str name=\"defType\">dismax</str></lst></lst><result name=\"response\" numFound=\"6\" start=\"0\"><doc><str name=\"id\">a</str><arr name=\"str_s\"><str>a</str></arr><str name=\"title\">ipod</str></doc><doc><str name=\"id\">b</str><arr name=\"str_s\"><str>b</str></arr><str name=\"title\">ipod ipod</str></doc><doc><str name=\"id\">c</str><arr name=\"str_s\"><str>c</str></arr><str name=\"title\">ipod ipod ipod</str></doc><doc><str name=\"id\">x</str><arr name=\"str_s\"><str>x</str></arr><str name=\"title\">boosted</str></doc><doc><str name=\"id\">y</str><arr name=\"str_s\"><str>y</str></arr><str name=\"title\">boosted boosted</str></doc><doc><str name=\"id\">z</str><arr name=\"str_s\"><str>z</str></arr><str name=\"title\">boosted boosted boosted</str></doc></result>\n    [junit] </response>\n    [junit] \n    [junit] \trequest was:q.alt=*:*&qt=/elevate&defType=dismax\n    [junit] 17 oct. 2010 04:10:28 org.apache.solr.common.SolrException log\n    [junit] GRAVE: REQUEST FAILED: q.alt=*:*&qt=/elevate&defType=dismax:java.lang.RuntimeException: REQUEST FAILED: xpath=//*[@numFound='0']\n    [junit] \txml response was: <?xml version=\"1.0\" encoding=\"UTF-8\"?>\n    [junit] <response>\n    [junit] <lst name=\"responseHeader\"><int name=\"status\">0</int><int name=\"QTime\">3</int><lst name=\"params\"><str name=\"q.alt\">*:*</str><str name=\"qt\">/elevate</str><str name=\"defType\">dismax</str></lst></lst><result name=\"response\" numFound=\"6\" start=\"0\"><doc><str name=\"id\">a</str><arr name=\"str_s\"><str>a</str></arr><str name=\"title\">ipod</str></doc><doc><str name=\"id\">b</str><arr name=\"str_s\"><str>b</str></arr><str name=\"title\">ipod ipod</str></doc><doc><str name=\"id\">c</str><arr name=\"str_s\"><str>c</str></arr><str name=\"title\">ipod ipod ipod</str></doc><doc><str name=\"id\">x</str><arr name=\"str_s\"><str>x</str></arr><str name=\"title\">boosted</str></doc><doc><str name=\"id\">y</str><arr name=\"str_s\"><str>y</str></arr><str name=\"title\">boosted boosted</str></doc><doc><str name=\"id\">z</str><arr name=\"str_s\"><str>z</str></arr><str name=\"title\">boosted boosted boosted</str></doc></result>\n    [junit] </response>\n    [junit] \n    [junit] \trequest was:q.alt=*:*&qt=/elevate&defType=dismax\n    [junit] \tat org.apache.solr.SolrTestCaseJ4.assertQ(SolrTestCaseJ4.java:336)\n    [junit] \tat org.apache.solr.handler.component.QueryElevationComponentTest.testInterface(QueryElevationComponentTest.java:100)\n    [junit] \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    [junit] \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    [junit] \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    [junit] \tat java.lang.reflect.Method.invoke(Method.java:616)\n    [junit] \tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)\n    [junit] \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)\n    [junit] \tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)\n    [junit] \tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)\n    [junit] \tat org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:48)\n    [junit] \tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)\n    [junit] \tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:31)\n    [junit] \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:76)\n    [junit] \tat org.apache.lucene.util.LuceneTestCase$LuceneTestCaseRunner.runChild(LuceneTestCase.java:873)\n    [junit] \tat org.apache.lucene.util.LuceneTestCase$LuceneTestCaseRunner.runChild(LuceneTestCase.java:840)\n    [junit] \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)\n    [junit] \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)\n    [junit] \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)\n    [junit] \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)\n    [junit] \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)\n    [junit] \tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)\n    [junit] \tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:31)\n    [junit] \tat org.junit.runners.ParentRunner.run(ParentRunner.java:236)\n    [junit] \tat junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)\n    [junit] \tat org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:421)\n    [junit] \tat org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:912)\n    [junit] \tat org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:743)\n    [junit] \n    [junit] ------------- ---------------- ---------------\n    [junit] TEST org.apache.solr.handler.component.QueryElevationComponentTest FAILED",
    "attachments": {},
    "issue_links": {},
    "comments": [
        {
            "author": "Robert Muir",
            "id": "comment-12982347",
            "date": "2011-01-16T18:17:28+0000",
            "content": "I can't reproduce this failure, somehow i suspect it was originally some test meddling.\n\nThe solr build has become much more stable and I'm guessing its not an issue anymore.\n\nI'd like to resolve as \"no problem\" unless there are objections. "
        },
        {
            "author": "Robert Muir",
            "id": "comment-12982612",
            "date": "2011-01-17T12:02:09+0000",
            "content": "Marking not a problem, appears to be fixed with the solr test cleanup. "
        },
        {
            "author": "Grant Ingersoll",
            "id": "comment-13013066",
            "date": "2011-03-30T15:45:27+0000",
            "content": "Bulk close for 3.1.0 release "
        }
    ]
}