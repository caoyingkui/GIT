{
    "id": "SOLR-9033",
    "title": "SimpleMLTQParserTest failure",
    "details": {
        "components": [
            "MoreLikeThis",
            "query parsers"
        ],
        "type": "Bug",
        "labels": "",
        "fix_versions": [],
        "affect_versions": "None",
        "status": "Open",
        "resolution": "Unresolved",
        "priority": "Major"
    },
    "description": "My Jenkins found a seed that reproduces on branch_5_5 and master:\n\n\nChecking out Revision 297bdb63aa6720c6c204ce921f8bfc5854b4cfd4 (refs/remotes/origin/branch_5_5)\n[...]\n   [junit4]   2> NOTE: reproduce with: ant test  -Dtestcase=SimpleMLTQParserTest -Dtests.method=doTest -Dtests.seed=ABD324B94E440561 -Dtests.multiplier=2 -Dtests.nightly=true -Dtests.slow=true -Dtests.linedocsfile=/home/jenkins/lucene-data/enwiki.random.lines.txt -Dtests.locale=ar-KW -Dtests.timezone=America/Moncton -Dtests.asserts=true -Dtests.file.encoding=UTF-8\n   [junit4] ERROR   0.04s J0 | SimpleMLTQParserTest.doTest <<<\n   [junit4]    > Throwable #1: java.lang.RuntimeException: Exception during query\n   [junit4]    > \tat __randomizedtesting.SeedInfo.seed([ABD324B94E440561:C979C1D23FF16D8]:0)\n   [junit4]    > \tat org.apache.solr.SolrTestCaseJ4.assertQ(SolrTestCaseJ4.java:754)\n   [junit4]    > \tat org.apache.solr.SolrTestCaseJ4.assertQ(SolrTestCaseJ4.java:721)\n   [junit4]    > \tat org.apache.solr.search.mlt.SimpleMLTQParserTest.doTest(SimpleMLTQParserTest.java:86)\n   [junit4]    > \tat java.lang.Thread.run(Thread.java:745)\n   [junit4]    > Caused by: java.lang.RuntimeException: REQUEST FAILED: xpath=//result/doc[1]/int[@name='id'][.='13']\n   [junit4]    > \txml response was: <?xml version=\"1.0\" encoding=\"UTF-8\"?>\n   [junit4]    > <response>\n   [junit4]    > <lst name=\"responseHeader\"><int name=\"status\">0</int><int name=\"QTime\">6</int></lst><result name=\"response\" numFound=\"16\" start=\"0\"><doc><int name=\"id\">30</int><arr name=\"range_facet_l\"><long>30</long></arr><arr name=\"range_facet_l_dv\"><long>30</long></arr><arr name=\"range_facet_i_dv\"><int>30</int></arr><arr name=\"lowerfilt\"><str>The quote red fox jumped over the lazy brown dogs.</str></arr><arr name=\"lowerfilt1and2\"><str>The quote red fox jumped over the lazy brown dogs.</str><str>red green yellow</str></arr><arr name=\"lowerfilt1\"><str>red green yellow</str></arr><long name=\"_version_\">1532495181221199872</long><arr name=\"multiDefault\"><str>muLti-Default</str></arr><int name=\"intDefault\">42</int><date name=\"timestamp\">2016-04-24T12:34:54.347Z</date></doc><doc><int name=\"id\">31</int><arr name=\"range_facet_l\"><long>31</long></arr><arr name=\"range_facet_l_dv\"><long>31</long></arr><arr name=\"range_facet_i_dv\"><int>31</int></arr><arr name=\"lowerfilt\"><str>The fat red fox jumped over the lazy brown dogs.</str></arr><arr name=\"lowerfilt1and2\"><str>The fat red fox jumped over the lazy brown dogs.</str><str>green blue yellow</str></arr><arr name=\"lowerfilt1\"><str>green blue yellow</str></arr><long name=\"_version_\">1532495181221199873</long><arr name=\"multiDefault\"><str>muLti-Default</str></arr><int name=\"intDefault\">42</int><date name=\"timestamp\">2016-04-24T12:34:54.347Z</date></doc><doc><int name=\"id\">32</int><arr name=\"range_facet_l\"><long>32</long></arr><arr name=\"range_facet_l_dv\"><long>32</long></arr><arr name=\"range_facet_i_dv\"><int>32</int></arr><arr name=\"lowerfilt\"><str>The slim red fox jumped over the lazy brown dogs.</str></arr><arr name=\"lowerfilt1and2\"><str>The slim red fox jumped over the lazy brown dogs.</str><str>yellow white black</str></arr><arr name=\"lowerfilt1\"><str>yellow white black</str></arr><long name=\"_version_\">1532495181221199874</long><arr name=\"multiDefault\"><str>muLti-Default</str></arr><int name=\"intDefault\">42</int><date name=\"timestamp\">2016-04-24T12:34:54.347Z</date></doc><doc><int name=\"id\">13</int><arr name=\"range_facet_l\"><long>13</long></arr><arr name=\"range_facet_l_dv\"><long>13</long></arr><arr name=\"range_facet_i_dv\"><int>13</int></arr><arr name=\"lowerfilt\"><str>The quote red fox jumped over the lazy brown dogs.</str></arr><arr name=\"lowerfilt1and2\"><str>The quote red fox jumped over the lazy brown dogs.</str></arr><long name=\"_version_\">1532495181206519808</long><arr name=\"multiDefault\"><str>muLti-Default</str></arr><int name=\"intDefault\">42</int><date name=\"timestamp\">2016-04-24T12:34:54.333Z</date></doc><doc><int name=\"id\">14</int><arr name=\"range_facet_l\"><long>14</long></arr><arr name=\"range_facet_l_dv\"><long>14</long></arr><arr name=\"range_facet_i_dv\"><int>14</int></arr><arr name=\"lowerfilt\"><str>The quote red fox jumped over the lazy brown dogs.</str></arr><arr name=\"lowerfilt1and2\"><str>The quote red fox jumped over the lazy brown dogs.</str></arr><long name=\"_version_\">1532495181206519809</long><arr name=\"multiDefault\"><str>muLti-Default</str></arr><int name=\"intDefault\">42</int><date name=\"timestamp\">2016-04-24T12:34:54.333Z</date></doc><doc><int name=\"id\">15</int><arr name=\"range_facet_l\"><long>15</long></arr><arr name=\"range_facet_l_dv\"><long>15</long></arr><arr name=\"range_facet_i_dv\"><int>15</int></arr><arr name=\"lowerfilt\"><str>The fat red fox jumped over the lazy brown dogs.</str></arr><arr name=\"lowerfilt1and2\"><str>The fat red fox jumped over the lazy brown dogs.</str></arr><long name=\"_version_\">1532495181213859840</long><arr name=\"multiDefault\"><str>muLti-Default</str></arr><int name=\"intDefault\">42</int><date name=\"timestamp\">2016-04-24T12:34:54.339Z</date></doc><doc><int name=\"id\">16</int><arr name=\"range_facet_l\"><long>16</long></arr><arr name=\"range_facet_l_dv\"><long>16</long></arr><arr name=\"range_facet_i_dv\"><int>16</int></arr><arr name=\"lowerfilt\"><str>The slim red fox jumped over the lazy brown dogs.</str></arr><arr name=\"lowerfilt1and2\"><str>The slim red fox jumped over the lazy brown dogs.</str></arr><long name=\"_version_\">1532495181213859841</long><arr name=\"multiDefault\"><str>muLti-Default</str></arr><int name=\"intDefault\">42</int><date name=\"timestamp\">2016-04-24T12:34:54.34Z</date></doc><doc><int name=\"id\">18</int><arr name=\"range_facet_l\"><long>18</long></arr><arr name=\"range_facet_l_dv\"><long>18</long></arr><arr name=\"range_facet_i_dv\"><int>18</int></arr><arr name=\"lowerfilt\"><str>The quote red fox jumped over the lazy brown dogs.</str></arr><arr name=\"lowerfilt1and2\"><str>The quote red fox jumped over the lazy brown dogs.</str></arr><long name=\"_version_\">1532495181214908417</long><arr name=\"multiDefault\"><str>muLti-Default</str></arr><int name=\"intDefault\">42</int><date name=\"timestamp\">2016-04-24T12:34:54.341Z</date></doc><doc><int name=\"id\">19</int><arr name=\"range_facet_l\"><long>19</long></arr><arr name=\"range_facet_l_dv\"><long>19</long></arr><arr name=\"range_facet_i_dv\"><int>19</int></arr><arr name=\"lowerfilt\"><str>The hose red fox jumped over the lazy brown dogs.</str></arr><arr name=\"lowerfilt1and2\"><str>The hose red fox jumped over the lazy brown dogs.</str></arr><long name=\"_version_\">1532495181214908418</long><arr name=\"multiDefault\"><str>muLti-Default</str></arr><int name=\"intDefault\">42</int><date name=\"timestamp\">2016-04-24T12:34:54.341Z</date></doc><doc><int name=\"id\">20</int><arr name=\"range_facet_l\"><long>20</long></arr><arr name=\"range_facet_l_dv\"><long>20</long></arr><arr name=\"range_facet_i_dv\"><int>20</int></arr><arr name=\"lowerfilt\"><str>The quote red fox jumped over the lazy brown dogs.</str></arr><arr name=\"lowerfilt1and2\"><str>The quote red fox jumped over the lazy brown dogs.</str></arr><long name=\"_version_\">1532495181215956992</long><arr name=\"multiDefault\"><str>muLti-Default</str></arr><int name=\"intDefault\">42</int><date name=\"timestamp\">2016-04-24T12:34:54.342Z</date></doc></result>\n   [junit4]    > </response>\n   [junit4]    > \trequest was:q={!mlt+qf%3Dlowerfilt}17\n   [junit4]    > \tat org.apache.solr.SolrTestCaseJ4.assertQ(SolrTestCaseJ4.java:747)\n   [junit4]    > \t... 41 more\n   [junit4]   2> NOTE: leaving temporary files on disk at: /var/lib/jenkins/jobs/Lucene-Solr-Nightly-5.5-Java8/workspace/solr/build/solr-core/test/J0/temp/solr.search.mlt.SimpleMLTQParserTest_ABD324B94E440561-001\n   [junit4]   2> NOTE: test params are: codec=CheapBastard, sim=DefaultSimilarity, locale=ar-KW, timezone=America/Moncton\n   [junit4]   2> NOTE: Linux 4.1.0-custom2-amd64 amd64/Oracle Corporation 1.8.0_77 (64-bit)/cpus=16,threads=1,free=124078032,total=529006592\n   [junit4]   2> NOTE: All tests run in this JVM: [FieldAnalysisRequestHandlerTest, TestRealTimeGet, BJQParserTest, TestManagedSchema, IgnoreCommitOptimizeUpdateProcessorFactoryTest, TestDefaultSearchFieldResource, DeleteShardTest, TestStandardQParsers, AsyncMigrateRouteKeyTest, TestSort, HttpPartitionTest, TestJmxMonitoredMap, DocValuesMissingTest, TestRandomDVFaceting, TestExactSharedStatsCache, TestMiniSolrCloudClusterBase, TestConfigSetProperties, TestShardHandlerFactory, BasicDistributedZkTest, RollingRestartTest, UniqFieldsUpdateProcessorFactoryTest, OverseerCollectionConfigSetProcessorTest, SimpleMLTQParserTest]",
    "attachments": {
        "SimpleMLTQParserTest.failure.log": "https://issues.apache.org/jira/secure/attachment/12800419/SimpleMLTQParserTest.failure.log"
    },
    "issue_links": {},
    "comments": [
        {
            "date": "2016-04-24T13:47:00+0000",
            "author": "Steve Rowe",
            "content": "Attaching full test log. ",
            "id": "comment-15255591"
        },
        {
            "date": "2017-01-23T17:46:42+0000",
            "author": "Steve Rowe",
            "content": "Another reproducing failure, this one on branch_6x, from https://jenkins.thetaphi.de/job/Lucene-Solr-6.x-Linux/2710/:\n\n\n   [junit4]   2> 517437 ERROR (TEST-SimpleMLTQParserTest.doTest-seed#[161D5261A030C097]) [    ] o.a.s.SolrTestCaseJ4 REQUEST FAILED: xpath=//result/doc[1]/int[@name='id'][.='13']\n   [junit4]   2> \txml response was: <?xml version=\"1.0\" encoding=\"UTF-8\"?>\n   [junit4]   2> <response>\n   [junit4]   2> <lst name=\"responseHeader\"><int name=\"status\">0</int><int name=\"QTime\">3</int></lst><result name=\"response\" numFound=\"16\" start=\"0\"><doc><int name=\"id\">16</int><arr name=\"range_facet_l\"><long>16</long></arr><arr name=\"range_facet_l_dv\"><long>16</long></arr><arr name=\"range_facet_i_dv\"><int>16</int></arr><arr name=\"lowerfilt\"><str>The slim red fox jumped over the lazy brown dogs.</str></arr><arr name=\"lowerfilt1and2\"><str>The slim red fox jumped over the lazy brown dogs.</str></arr><long name=\"_version_\">1557182471793016832</long><arr name=\"multiDefault\"><str>muLti-Default</str></arr><int name=\"intDefault\">42</int><date name=\"timestamp\">2017-01-22T00:28:49.307Z</date></doc><doc><int name=\"id\">20</int><arr name=\"range_facet_l\"><long>20</long></arr><arr name=\"range_facet_l_dv\"><long>20</long></arr><arr name=\"range_facet_i_dv\"><int>20</int></arr><arr name=\"lowerfilt\"><str>The quote red fox jumped over the lazy brown dogs.</str></arr><arr name=\"lowerfilt1and2\"><str>The quote red fox jumped over the lazy brown dogs.</str></arr><long name=\"_version_\">1557182471801405440</long><arr name=\"multiDefault\"><str>muLti-Default</str></arr><int name=\"intDefault\">42</int><date name=\"timestamp\">2017-01-22T00:28:49.315Z</date></doc><doc><int name=\"id\">21</int><arr name=\"range_facet_l\"><long>21</long></arr><arr name=\"range_facet_l_dv\"><long>21</long></arr><arr name=\"range_facet_i_dv\"><int>21</int></arr><arr name=\"lowerfilt\"><str>The court red fox jumped over the lazy brown dogs.</str></arr><arr name=\"lowerfilt1and2\"><str>The court red fox jumped over the lazy brown dogs.</str></arr><long name=\"_version_\">1557182471802454016</long><arr name=\"multiDefault\"><str>muLti-Default</str></arr><int name=\"intDefault\">42</int><date name=\"timestamp\">2017-01-22T00:28:49.316Z</date></doc><doc><int name=\"id\">14</int><arr name=\"range_facet_l\"><long>14</long></arr><arr name=\"range_facet_l_dv\"><long>14</long></arr><arr name=\"range_facet_i_dv\"><int>14</int></arr><arr name=\"lowerfilt\"><str>The quote red fox jumped over the lazy brown dogs.</str></arr><arr name=\"lowerfilt1and2\"><str>The quote red fox jumped over the lazy brown dogs.</str></arr><long name=\"_version_\">1557182471788822528</long><arr name=\"multiDefault\"><str>muLti-Default</str></arr><int name=\"intDefault\">42</int><date name=\"timestamp\">2017-01-22T00:28:49.303Z</date></doc><doc><int name=\"id\">15</int><arr name=\"range_facet_l\"><long>15</long></arr><arr name=\"range_facet_l_dv\"><long>15</long></arr><arr name=\"range_facet_i_dv\"><int>15</int></arr><arr name=\"lowerfilt\"><str>The fat red fox jumped over the lazy brown dogs.</str></arr><arr name=\"lowerfilt1and2\"><str>The fat red fox jumped over the lazy brown dogs.</str></arr><long name=\"_version_\">1557182471789871104</long><arr name=\"multiDefault\"><str>muLti-Default</str></arr><int name=\"intDefault\">42</int><date name=\"timestamp\">2017-01-22T00:28:49.304Z</date></doc><doc><int name=\"id\">22</int><arr name=\"range_facet_l\"><long>22</long></arr><arr name=\"range_facet_l_dv\"><long>22</long></arr><arr name=\"range_facet_i_dv\"><int>22</int></arr><arr name=\"lowerfilt\"><str>The quote red fox jumped over the lazy brown dogs.</str></arr><arr name=\"lowerfilt1and2\"><str>The quote red fox jumped over the lazy brown dogs.</str></arr><long name=\"_version_\">1557182471806648320</long><arr name=\"multiDefault\"><str>muLti-Default</str></arr><int name=\"intDefault\">42</int><date name=\"timestamp\">2017-01-22T00:28:49.320Z</date></doc><doc><int name=\"id\">23</int><arr name=\"range_facet_l\"><long>23</long></arr><arr name=\"range_facet_l_dv\"><long>23</long></arr><arr name=\"range_facet_i_dv\"><int>23</int></arr><arr name=\"lowerfilt\"><str>The quote red fox jumped over the lazy brown dogs.</str></arr><arr name=\"lowerfilt1and2\"><str>The quote red fox jumped over the lazy brown dogs.</str></arr><long name=\"_version_\">1557182471806648321</long><arr name=\"multiDefault\"><str>muLti-Default</str></arr><int name=\"intDefault\">42</int><date name=\"timestamp\">2017-01-22T00:28:49.320Z</date></doc><doc><int name=\"id\">18</int><arr name=\"range_facet_l\"><long>18</long></arr><arr name=\"range_facet_l_dv\"><long>18</long></arr><arr name=\"range_facet_i_dv\"><int>18</int></arr><arr name=\"lowerfilt\"><str>The quote red fox jumped over the lazy brown dogs.</str></arr><arr name=\"lowerfilt1and2\"><str>The quote red fox jumped over the lazy brown dogs.</str></arr><long name=\"_version_\">1557182471798259712</long><arr name=\"multiDefault\"><str>muLti-Default</str></arr><int name=\"intDefault\">42</int><date name=\"timestamp\">2017-01-22T00:28:49.312Z</date></doc><doc><int name=\"id\">19</int><arr name=\"range_facet_l\"><long>19</long></arr><arr name=\"range_facet_l_dv\"><long>19</long></arr><arr name=\"range_facet_i_dv\"><int>19</int></arr><arr name=\"lowerfilt\"><str>The hose red fox jumped over the lazy brown dogs.</str></arr><arr name=\"lowerfilt1and2\"><str>The hose red fox jumped over the lazy brown dogs.</str></arr><long name=\"_version_\">1557182471799308288</long><arr name=\"multiDefault\"><str>muLti-Default</str></arr><int name=\"intDefault\">42</int><date name=\"timestamp\">2017-01-22T00:28:49.312Z</date></doc><doc><int name=\"id\">24</int><arr name=\"range_facet_l\"><long>24</long></arr><arr name=\"range_facet_l_dv\"><long>24</long></arr><arr name=\"range_facet_i_dv\"><int>24</int></arr><arr name=\"lowerfilt\"><str>The file red fox jumped over the lazy brown dogs.</str></arr><arr name=\"lowerfilt1and2\"><str>The file red fox jumped over the lazy brown dogs.</str></arr><long name=\"_version_\">1557182471810842624</long><arr name=\"multiDefault\"><str>muLti-Default</str></arr><int name=\"intDefault\">42</int><date name=\"timestamp\">2017-01-22T00:28:49.324Z</date></doc></result>\n   [junit4]   2> </response>\n   [junit4]   2> \n   [junit4]   2> \trequest was:q={!mlt+qf%3Dlowerfilt}17\n   [junit4]   2> 517438 ERROR (TEST-SimpleMLTQParserTest.doTest-seed#[161D5261A030C097]) [    ] o.a.s.SolrTestCaseJ4 REQUEST FAILED: q={!mlt+qf%3Dlowerfilt}17:java.lang.RuntimeException: REQUEST FAILED: xpath=//result/doc[1]/int[@name='id'][.='13']\n   [junit4]   2> \txml response was: <?xml version=\"1.0\" encoding=\"UTF-8\"?>\n   [junit4]   2> <response>\n   [junit4]   2> <lst name=\"responseHeader\"><int name=\"status\">0</int><int name=\"QTime\">3</int></lst><result name=\"response\" numFound=\"16\" start=\"0\"><doc><int name=\"id\">16</int><arr name=\"range_facet_l\"><long>16</long></arr><arr name=\"range_facet_l_dv\"><long>16</long></arr><arr name=\"range_facet_i_dv\"><int>16</int></arr><arr name=\"lowerfilt\"><str>The slim red fox jumped over the lazy brown dogs.</str></arr><arr name=\"lowerfilt1and2\"><str>The slim red fox jumped over the lazy brown dogs.</str></arr><long name=\"_version_\">1557182471793016832</long><arr name=\"multiDefault\"><str>muLti-Default</str></arr><int name=\"intDefault\">42</int><date name=\"timestamp\">2017-01-22T00:28:49.307Z</date></doc><doc><int name=\"id\">20</int><arr name=\"range_facet_l\"><long>20</long></arr><arr name=\"range_facet_l_dv\"><long>20</long></arr><arr name=\"range_facet_i_dv\"><int>20</int></arr><arr name=\"lowerfilt\"><str>The quote red fox jumped over the lazy brown dogs.</str></arr><arr name=\"lowerfilt1and2\"><str>The quote red fox jumped over the lazy brown dogs.</str></arr><long name=\"_version_\">1557182471801405440</long><arr name=\"multiDefault\"><str>muLti-Default</str></arr><int name=\"intDefault\">42</int><date name=\"timestamp\">2017-01-22T00:28:49.315Z</date></doc><doc><int name=\"id\">21</int><arr name=\"range_facet_l\"><long>21</long></arr><arr name=\"range_facet_l_dv\"><long>21</long></arr><arr name=\"range_facet_i_dv\"><int>21</int></arr><arr name=\"lowerfilt\"><str>The court red fox jumped over the lazy brown dogs.</str></arr><arr name=\"lowerfilt1and2\"><str>The court red fox jumped over the lazy brown dogs.</str></arr><long name=\"_version_\">1557182471802454016</long><arr name=\"multiDefault\"><str>muLti-Default</str></arr><int name=\"intDefault\">42</int><date name=\"timestamp\">2017-01-22T00:28:49.316Z</date></doc><doc><int name=\"id\">14</int><arr name=\"range_facet_l\"><long>14</long></arr><arr name=\"range_facet_l_dv\"><long>14</long></arr><arr name=\"range_facet_i_dv\"><int>14</int></arr><arr name=\"lowerfilt\"><str>The quote red fox jumped over the lazy brown dogs.</str></arr><arr name=\"lowerfilt1and2\"><str>The quote red fox jumped over the lazy brown dogs.</str></arr><long name=\"_version_\">1557182471788822528</long><arr name=\"multiDefault\"><str>muLti-Default</str></arr><int name=\"intDefault\">42</int><date name=\"timestamp\">2017-01-22T00:28:49.303Z</date></doc><doc><int name=\"id\">15</int><arr name=\"range_facet_l\"><long>15</long></arr><arr name=\"range_facet_l_dv\"><long>15</long></arr><arr name=\"range_facet_i_dv\"><int>15</int></arr><arr name=\"lowerfilt\"><str>The fat red fox jumped over the lazy brown dogs.</str></arr><arr name=\"lowerfilt1and2\"><str>The fat red fox jumped over the lazy brown dogs.</str></arr><long name=\"_version_\">1557182471789871104</long><arr name=\"multiDefault\"><str>muLti-Default</str></arr><int name=\"intDefault\">42</int><date name=\"timestamp\">2017-01-22T00:28:49.304Z</date></doc><doc><int name=\"id\">22</int><arr name=\"range_facet_l\"><long>22</long></arr><arr name=\"range_facet_l_dv\"><long>22</long></arr><arr name=\"range_facet_i_dv\"><int>22</int></arr><arr name=\"lowerfilt\"><str>The quote red fox jumped over the lazy brown dogs.</str></arr><arr name=\"lowerfilt1and2\"><str>The quote red fox jumped over the lazy brown dogs.</str></arr><long name=\"_version_\">1557182471806648320</long><arr name=\"multiDefault\"><str>muLti-Default</str></arr><int name=\"intDefault\">42</int><date name=\"timestamp\">2017-01-22T00:28:49.320Z</date></doc><doc><int name=\"id\">23</int><arr name=\"range_facet_l\"><long>23</long></arr><arr name=\"range_facet_l_dv\"><long>23</long></arr><arr name=\"range_facet_i_dv\"><int>23</int></arr><arr name=\"lowerfilt\"><str>The quote red fox jumped over the lazy brown dogs.</str></arr><arr name=\"lowerfilt1and2\"><str>The quote red fox jumped over the lazy brown dogs.</str></arr><long name=\"_version_\">1557182471806648321</long><arr name=\"multiDefault\"><str>muLti-Default</str></arr><int name=\"intDefault\">42</int><date name=\"timestamp\">2017-01-22T00:28:49.320Z</date></doc><doc><int name=\"id\">18</int><arr name=\"range_facet_l\"><long>18</long></arr><arr name=\"range_facet_l_dv\"><long>18</long></arr><arr name=\"range_facet_i_dv\"><int>18</int></arr><arr name=\"lowerfilt\"><str>The quote red fox jumped over the lazy brown dogs.</str></arr><arr name=\"lowerfilt1and2\"><str>The quote red fox jumped over the lazy brown dogs.</str></arr><long name=\"_version_\">1557182471798259712</long><arr name=\"multiDefault\"><str>muLti-Default</str></arr><int name=\"intDefault\">42</int><date name=\"timestamp\">2017-01-22T00:28:49.312Z</date></doc><doc><int name=\"id\">19</int><arr name=\"range_facet_l\"><long>19</long></arr><arr name=\"range_facet_l_dv\"><long>19</long></arr><arr name=\"range_facet_i_dv\"><int>19</int></arr><arr name=\"lowerfilt\"><str>The hose red fox jumped over the lazy brown dogs.</str></arr><arr name=\"lowerfilt1and2\"><str>The hose red fox jumped over the lazy brown dogs.</str></arr><long name=\"_version_\">1557182471799308288</long><arr name=\"multiDefault\"><str>muLti-Default</str></arr><int name=\"intDefault\">42</int><date name=\"timestamp\">2017-01-22T00:28:49.312Z</date></doc><doc><int name=\"id\">24</int><arr name=\"range_facet_l\"><long>24</long></arr><arr name=\"range_facet_l_dv\"><long>24</long></arr><arr name=\"range_facet_i_dv\"><int>24</int></arr><arr name=\"lowerfilt\"><str>The file red fox jumped over the lazy brown dogs.</str></arr><arr name=\"lowerfilt1and2\"><str>The file red fox jumped over the lazy brown dogs.</str></arr><long name=\"_version_\">1557182471810842624</long><arr name=\"multiDefault\"><str>muLti-Default</str></arr><int name=\"intDefault\">42</int><date name=\"timestamp\">2017-01-22T00:28:49.324Z</date></doc></result>\n   [junit4]   2> </response>\n   [junit4]   2> \n   [junit4]   2> \trequest was:q={!mlt+qf%3Dlowerfilt}17\n   [junit4]   2> \tat org.apache.solr.SolrTestCaseJ4.assertQ(SolrTestCaseJ4.java:814)\n   [junit4]   2> \tat org.apache.solr.SolrTestCaseJ4.assertQ(SolrTestCaseJ4.java:788)\n   [junit4]   2> \tat org.apache.solr.search.mlt.SimpleMLTQParserTest.doTest(SimpleMLTQParserTest.java:82)\n   [junit4]   2> \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n   [junit4]   2> \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n   [junit4]   2> \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n   [junit4]   2> \tat java.lang.reflect.Method.invoke(Method.java:498)\n   [junit4]   2> \tat com.carrotsearch.randomizedtesting.RandomizedRunner.invoke(RandomizedRunner.java:1713)\n   [junit4]   2> \tat com.carrotsearch.randomizedtesting.RandomizedRunner$8.evaluate(RandomizedRunner.java:907)\n   [junit4]   2> \tat com.carrotsearch.randomizedtesting.RandomizedRunner$9.evaluate(RandomizedRunner.java:943)\n   [junit4]   2> \tat com.carrotsearch.randomizedtesting.RandomizedRunner$10.evaluate(RandomizedRunner.java:957)\n   [junit4]   2> \tat com.carrotsearch.randomizedtesting.rules.SystemPropertiesRestoreRule$1.evaluate(SystemPropertiesRestoreRule.java:57)\n   [junit4]   2> \tat org.apache.lucene.util.TestRuleSetupTeardownChained$1.evaluate(TestRuleSetupTeardownChained.java:49)\n   [junit4]   2> \tat org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:45)\n   [junit4]   2> \tat org.apache.lucene.util.TestRuleThreadAndTestName$1.evaluate(TestRuleThreadAndTestName.java:48)\n   [junit4]   2> \tat org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:64)\n   [junit4]   2> \tat org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:47)\n   [junit4]   2> \tat com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\n   [junit4]   2> \tat com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:367)\n   [junit4]   2> \tat com.carrotsearch.randomizedtesting.ThreadLeakControl.forkTimeoutingTask(ThreadLeakControl.java:811)\n   [junit4]   2> \tat com.carrotsearch.randomizedtesting.ThreadLeakControl$3.evaluate(ThreadLeakControl.java:462)\n   [junit4]   2> \tat com.carrotsearch.randomizedtesting.RandomizedRunner.runSingleTest(RandomizedRunner.java:916)\n   [junit4]   2> \tat com.carrotsearch.randomizedtesting.RandomizedRunner$5.evaluate(RandomizedRunner.java:802)\n   [junit4]   2> \tat com.carrotsearch.randomizedtesting.RandomizedRunner$6.evaluate(RandomizedRunner.java:852)\n   [junit4]   2> \tat com.carrotsearch.randomizedtesting.RandomizedRunner$7.evaluate(RandomizedRunner.java:863)\n   [junit4]   2> \tat com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\n   [junit4]   2> \tat com.carrotsearch.randomizedtesting.rules.SystemPropertiesRestoreRule$1.evaluate(SystemPropertiesRestoreRule.java:57)\n   [junit4]   2> \tat org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:45)\n   [junit4]   2> \tat com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\n   [junit4]   2> \tat org.apache.lucene.util.TestRuleStoreClassName$1.evaluate(TestRuleStoreClassName.java:41)\n   [junit4]   2> \tat com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:40)\n   [junit4]   2> \tat com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:40)\n   [junit4]   2> \tat com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\n   [junit4]   2> \tat com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\n   [junit4]   2> \tat com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\n   [junit4]   2> \tat org.apache.lucene.util.TestRuleAssertionsRequired$1.evaluate(TestRuleAssertionsRequired.java:53)\n   [junit4]   2> \tat org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:47)\n   [junit4]   2> \tat org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:64)\n   [junit4]   2> \tat org.apache.lucene.util.TestRuleIgnoreTestSuites$1.evaluate(TestRuleIgnoreTestSuites.java:54)\n   [junit4]   2> \tat com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\n   [junit4]   2> \tat com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:367)\n   [junit4]   2> \tat java.lang.Thread.run(Thread.java:745)\n   [junit4]   2> \n   [junit4]   2> 517440 INFO  (TEST-SimpleMLTQParserTest.doTest-seed#[161D5261A030C097]) [    ] o.a.s.SolrTestCaseJ4 ###Ending doTest\n   [junit4]   2> NOTE: reproduce with: ant test  -Dtestcase=SimpleMLTQParserTest -Dtests.method=doTest -Dtests.seed=161D5261A030C097 -Dtests.multiplier=3 -Dtests.slow=true -Dtests.locale=fr-BE -Dtests.timezone=Etc/GMT+8 -Dtests.asserts=true -Dtests.file.encoding=UTF-8\n   [junit4] ERROR   0.12s J2 | SimpleMLTQParserTest.doTest <<<\n   [junit4]    > Throwable #1: java.lang.RuntimeException: Exception during query\n   [junit4]    > \tat __randomizedtesting.SeedInfo.seed([161D5261A030C097:B159EAC5CD8BD32E]:0)\n   [junit4]    > \tat org.apache.solr.SolrTestCaseJ4.assertQ(SolrTestCaseJ4.java:821)\n   [junit4]    > \tat org.apache.solr.SolrTestCaseJ4.assertQ(SolrTestCaseJ4.java:788)\n   [junit4]    > \tat org.apache.solr.search.mlt.SimpleMLTQParserTest.doTest(SimpleMLTQParserTest.java:82)\n   [junit4]    > \tat java.lang.Thread.run(Thread.java:745)\n   [junit4]    > Caused by: java.lang.RuntimeException: REQUEST FAILED: xpath=//result/doc[1]/int[@name='id'][.='13']\n   [junit4]    > \txml response was: <?xml version=\"1.0\" encoding=\"UTF-8\"?>\n   [junit4]    > <response>\n   [junit4]    > <lst name=\"responseHeader\"><int name=\"status\">0</int><int name=\"QTime\">3</int></lst><result name=\"response\" numFound=\"16\" start=\"0\"><doc><int name=\"id\">16</int><arr name=\"range_facet_l\"><long>16</long></arr><arr name=\"range_facet_l_dv\"><long>16</long></arr><arr name=\"range_facet_i_dv\"><int>16</int></arr><arr name=\"lowerfilt\"><str>The slim red fox jumped over the lazy brown dogs.</str></arr><arr name=\"lowerfilt1and2\"><str>The slim red fox jumped over the lazy brown dogs.</str></arr><long name=\"_version_\">1557182471793016832</long><arr name=\"multiDefault\"><str>muLti-Default</str></arr><int name=\"intDefault\">42</int><date name=\"timestamp\">2017-01-22T00:28:49.307Z</date></doc><doc><int name=\"id\">20</int><arr name=\"range_facet_l\"><long>20</long></arr><arr name=\"range_facet_l_dv\"><long>20</long></arr><arr name=\"range_facet_i_dv\"><int>20</int></arr><arr name=\"lowerfilt\"><str>The quote red fox jumped over the lazy brown dogs.</str></arr><arr name=\"lowerfilt1and2\"><str>The quote red fox jumped over the lazy brown dogs.</str></arr><long name=\"_version_\">1557182471801405440</long><arr name=\"multiDefault\"><str>muLti-Default</str></arr><int name=\"intDefault\">42</int><date name=\"timestamp\">2017-01-22T00:28:49.315Z</date></doc><doc><int name=\"id\">21</int><arr name=\"range_facet_l\"><long>21</long></arr><arr name=\"range_facet_l_dv\"><long>21</long></arr><arr name=\"range_facet_i_dv\"><int>21</int></arr><arr name=\"lowerfilt\"><str>The court red fox jumped over the lazy brown dogs.</str></arr><arr name=\"lowerfilt1and2\"><str>The court red fox jumped over the lazy brown dogs.</str></arr><long name=\"_version_\">1557182471802454016</long><arr name=\"multiDefault\"><str>muLti-Default</str></arr><int name=\"intDefault\">42</int><date name=\"timestamp\">2017-01-22T00:28:49.316Z</date></doc><doc><int name=\"id\">14</int><arr name=\"range_facet_l\"><long>14</long></arr><arr name=\"range_facet_l_dv\"><long>14</long></arr><arr name=\"range_facet_i_dv\"><int>14</int></arr><arr name=\"lowerfilt\"><str>The quote red fox jumped over the lazy brown dogs.</str></arr><arr name=\"lowerfilt1and2\"><str>The quote red fox jumped over the lazy brown dogs.</str></arr><long name=\"_version_\">1557182471788822528</long><arr name=\"multiDefault\"><str>muLti-Default</str></arr><int name=\"intDefault\">42</int><date name=\"timestamp\">2017-01-22T00:28:49.303Z</date></doc><doc><int name=\"id\">15</int><arr name=\"range_facet_l\"><long>15</long></arr><arr name=\"range_facet_l_dv\"><long>15</long></arr><arr name=\"range_facet_i_dv\"><int>15</int></arr><arr name=\"lowerfilt\"><str>The fat red fox jumped over the lazy brown dogs.</str></arr><arr name=\"lowerfilt1and2\"><str>The fat red fox jumped over the lazy brown dogs.</str></arr><long name=\"_version_\">1557182471789871104</long><arr name=\"multiDefault\"><str>muLti-Default</str></arr><int name=\"intDefault\">42</int><date name=\"timestamp\">2017-01-22T00:28:49.304Z</date></doc><doc><int name=\"id\">22</int><arr name=\"range_facet_l\"><long>22</long></arr><arr name=\"range_facet_l_dv\"><long>22</long></arr><arr name=\"range_facet_i_dv\"><int>22</int></arr><arr name=\"lowerfilt\"><str>The quote red fox jumped over the lazy brown dogs.</str></arr><arr name=\"lowerfilt1and2\"><str>The quote red fox jumped over the lazy brown dogs.</str></arr><long name=\"_version_\">1557182471806648320</long><arr name=\"multiDefault\"><str>muLti-Default</str></arr><int name=\"intDefault\">42</int><date name=\"timestamp\">2017-01-22T00:28:49.320Z</date></doc><doc><int name=\"id\">23</int><arr name=\"range_facet_l\"><long>23</long></arr><arr name=\"range_facet_l_dv\"><long>23</long></arr><arr name=\"range_facet_i_dv\"><int>23</int></arr><arr name=\"lowerfilt\"><str>The quote red fox jumped over the lazy brown dogs.</str></arr><arr name=\"lowerfilt1and2\"><str>The quote red fox jumped over the lazy brown dogs.</str></arr><long name=\"_version_\">1557182471806648321</long><arr name=\"multiDefault\"><str>muLti-Default</str></arr><int name=\"intDefault\">42</int><date name=\"timestamp\">2017-01-22T00:28:49.320Z</date></doc><doc><int name=\"id\">18</int><arr name=\"range_facet_l\"><long>18</long></arr><arr name=\"range_facet_l_dv\"><long>18</long></arr><arr name=\"range_facet_i_dv\"><int>18</int></arr><arr name=\"lowerfilt\"><str>The quote red fox jumped over the lazy brown dogs.</str></arr><arr name=\"lowerfilt1and2\"><str>The quote red fox jumped over the lazy brown dogs.</str></arr><long name=\"_version_\">1557182471798259712</long><arr name=\"multiDefault\"><str>muLti-Default</str></arr><int name=\"intDefault\">42</int><date name=\"timestamp\">2017-01-22T00:28:49.312Z</date></doc><doc><int name=\"id\">19</int><arr name=\"range_facet_l\"><long>19</long></arr><arr name=\"range_facet_l_dv\"><long>19</long></arr><arr name=\"range_facet_i_dv\"><int>19</int></arr><arr name=\"lowerfilt\"><str>The hose red fox jumped over the lazy brown dogs.</str></arr><arr name=\"lowerfilt1and2\"><str>The hose red fox jumped over the lazy brown dogs.</str></arr><long name=\"_version_\">1557182471799308288</long><arr name=\"multiDefault\"><str>muLti-Default</str></arr><int name=\"intDefault\">42</int><date name=\"timestamp\">2017-01-22T00:28:49.312Z</date></doc><doc><int name=\"id\">24</int><arr name=\"range_facet_l\"><long>24</long></arr><arr name=\"range_facet_l_dv\"><long>24</long></arr><arr name=\"range_facet_i_dv\"><int>24</int></arr><arr name=\"lowerfilt\"><str>The file red fox jumped over the lazy brown dogs.</str></arr><arr name=\"lowerfilt1and2\"><str>The file red fox jumped over the lazy brown dogs.</str></arr><long name=\"_version_\">1557182471810842624</long><arr name=\"multiDefault\"><str>muLti-Default</str></arr><int name=\"intDefault\">42</int><date name=\"timestamp\">2017-01-22T00:28:49.324Z</date></doc></result>\n   [junit4]    > </response>\n   [junit4]    > \trequest was:q={!mlt+qf%3Dlowerfilt}17\n   [junit4]    > \tat org.apache.solr.SolrTestCaseJ4.assertQ(SolrTestCaseJ4.java:814)\n   [junit4]    > \t... 41 more\n   [junit4]   2> 517443 INFO  (SUITE-SimpleMLTQParserTest-seed#[161D5261A030C097]-worker) [    ] o.a.s.SolrTestCaseJ4 ###deleteCore\n   [junit4]   2> 517443 INFO  (SUITE-SimpleMLTQParserTest-seed#[161D5261A030C097]-worker) [    ] o.a.s.c.CoreContainer Shutting down CoreContainer instance=1138385677\n   [junit4]   2> 517444 INFO  (coreCloseExecutor-1466-thread-1) [    x:collection1] o.a.s.c.SolrCore [collection1]  CLOSING SolrCore org.apache.solr.core.SolrCore@2e30fedc\n   [junit4]   2> 517488 INFO  (coreCloseExecutor-1466-thread-1) [    x:collection1] o.a.s.m.SolrMetricManager Closing metric reporters for: solr.core.collection1\n   [junit4]   2> 517490 INFO  (SUITE-SimpleMLTQParserTest-seed#[161D5261A030C097]-worker) [    ] o.a.s.m.SolrMetricManager Closing metric reporters for: solr.node\n   [junit4]   2> NOTE: leaving temporary files on disk at: /home/jenkins/workspace/Lucene-Solr-6.x-Linux/solr/build/solr-core/test/J2/temp/solr.search.mlt.SimpleMLTQParserTest_161D5261A030C097-001\n   [junit4]   2> NOTE: test params are: codec=Asserting(Lucene62): {range_facet_l_dv=TestBloomFilteredLucenePostings(BloomFilteringPostingsFormat(Lucene50(blocksize=128))), _version_=PostingsFormat(name=MockRandom), lowerfilt1=PostingsFormat(name=Direct), lowerfilt1and2=PostingsFormat(name=Asserting), multiDefault=PostingsFormat(name=Asserting), intDefault=PostingsFormat(name=MockRandom), lowerfilt=PostingsFormat(name=Asserting), id=TestBloomFilteredLucenePostings(BloomFilteringPostingsFormat(Lucene50(blocksize=128))), range_facet_i_dv=PostingsFormat(name=Asserting), range_facet_l=PostingsFormat(name=Asserting), timestamp=PostingsFormat(name=Asserting)}, docValues:{range_facet_l_dv=DocValuesFormat(name=Direct), _version_=DocValuesFormat(name=Lucene54), lowerfilt1=DocValuesFormat(name=Lucene54), lowerfilt1and2=DocValuesFormat(name=Asserting), multiDefault=DocValuesFormat(name=Asserting), intDefault=DocValuesFormat(name=Lucene54), lowerfilt=DocValuesFormat(name=Asserting), range_facet_i_dv=DocValuesFormat(name=Asserting), id=DocValuesFormat(name=Direct), timestamp=DocValuesFormat(name=Asserting), range_facet_l=DocValuesFormat(name=Asserting)}, maxPointsInLeafNode=1967, maxMBSortInHeap=5.206496427169658, sim=RandomSimilarity(queryNorm=true,coord=no): {}, locale=fr-BE, timezone=Etc/GMT+8\n   [junit4]   2> NOTE: Linux 4.4.0-53-generic amd64/Oracle Corporation 1.8.0_121 (64-bit)/cpus=12,threads=1,free=180534424,total=508952576\n   [junit4]   2> NOTE: All tests run in this JVM: [SuggesterTest, SolrPluginUtilsTest, TestRandomRequestDistribution, TestSolrJ, JSONWriterTest, HdfsLockFactoryTest, TestTolerantSearch, TolerantUpdateProcessorTest, SmileWriterTest, LeaderFailoverAfterPartitionTest, HdfsNNFailoverTest, PrimUtilsTest, XmlUpdateRequestHandlerTest, ExitableDirectoryReaderTest, StatsComponentTest, TestJmxMonitoredMap, StatelessScriptUpdateProcessorFactoryTest, TestSolrQueryParser, DistributedExpandComponentTest, TestWriterPerf, InfoHandlerTest, TestPostingsSolrHighlighter, TestXmlQParserPlugin, ShowFileRequestHandlerTest, BasicDistributedZk2Test, TestScoreJoinQPScore, PluginInfoTest, TestCollationFieldDocValues, SolrIndexMetricsTest, TestDefaultSearchFieldResource, TestIndexingPerformance, TestFieldCollectionResource, ShufflingReplicaListTransformerTest, SSLMigrationTest, BasicAuthIntegrationTest, TestFieldTypeResource, CollectionStateFormat2Test, TestLFUCache, AutoCommitTest, TestPivotHelperCode, DirectUpdateHandlerTest, ConnectionManagerTest, TestSolrDeletionPolicy1, TestInitQParser, TestSQLHandlerNonCloud, BadComponentTest, ResponseLogComponentTest, CdcrUpdateLogTest, TestStressCloudBlindAtomicUpdates, TestRawTransformer, TestRequestForwarding, TestClusterProperties, TestReqParamsAPI, WrapperMergePolicyFactoryTest, TestCloudManagedSchema, OverseerStatusTest, TestSolrCoreParser, SOLR749Test, TestMiniSolrCloudClusterSSL, TestUtils, CdcrRequestHandlerTest, MinimalSchemaTest, SimpleMLTQParserTest]\n   [junit4] Completed [145/681 (1!)] on J2 in 0.67s, 1 test, 1 error <<< FAILURES!\n\n ",
            "id": "comment-15834938"
        },
        {
            "date": "2017-02-16T01:08:32+0000",
            "author": "Steve Rowe",
            "content": "Another reproducing branch_6x failure, from my Jenkins:\n\n\nChecking out Revision 00449959d61aa33dd879a987dd1379e6496ca7b1 (refs/remotes/origin/branch_6x)\n[...]\n   [junit4]   2> NOTE: reproduce with: ant test  -Dtestcase=SimpleMLTQParserTest -Dtests.method=doTest -Dtests.seed=64E31CB971E97410 -Dtests.multiplier=2 -Dtests.nightly=true -Dtests.slow=true -Dtests.linedocsfile=/home/jenkins/lucene-data/enwiki.random.lines.txt -Dtests.locale=ro-RO -Dtests.timezone=America/Pangnirtung -Dtests.asserts=true -Dtests.file.encoding=US-ASCII\n   [junit4] ERROR   1.67s J4 | SimpleMLTQParserTest.doTest <<<\n   [junit4]    > Throwable #1: java.lang.RuntimeException: Exception during query\n   [junit4]    > \tat __randomizedtesting.SeedInfo.seed([64E31CB971E97410:C3A7A41D1C5267A9]:0)\n   [junit4]    > \tat org.apache.solr.SolrTestCaseJ4.assertQ(SolrTestCaseJ4.java:882)\n   [junit4]    > \tat org.apache.solr.SolrTestCaseJ4.assertQ(SolrTestCaseJ4.java:849)\n   [junit4]    > \tat org.apache.solr.search.mlt.SimpleMLTQParserTest.doTest(SimpleMLTQParserTest.java:82)\n   [junit4]    > \tat java.lang.Thread.run(Thread.java:745)\n   [junit4]    > Caused by: java.lang.RuntimeException: REQUEST FAILED: xpath=//result/doc[1]/int[@name='id'][.='13']\n   [junit4]    > \txml response was: <?xml version=\"1.0\" encoding=\"UTF-8\"?>\n   [junit4]    > <response>\n   [junit4]    > <lst name=\"responseHeader\"><int name=\"status\">0</int><int name=\"QTime\">82</int></lst><result name=\"response\" numFound=\"16\" start=\"0\"><doc><int name=\"id\">16</int><arr name=\"range_facet_l\"><long>16</long></arr><arr name=\"range_facet_l_dv\"><long>16</long></arr><arr name=\"range_facet_i_dv\"><int>16</int></arr><arr name=\"lowerfilt\"><str>The slim red fox jumped over the lazy brown dogs.</str></arr><arr name=\"lowerfilt1and2\"><str>The slim red fox jumped over the lazy brown dogs.</str></arr><arr name=\"multiDefault\"><str>muLti-Default</str></arr><int name=\"intDefault\">42</int><date name=\"timestamp\">2017-02-13T15:52:03.362Z</date></doc><doc><int name=\"id\">18</int><arr name=\"range_facet_l\"><long>18</long></arr><arr name=\"range_facet_l_dv\"><long>18</long></arr><arr name=\"range_facet_i_dv\"><int>18</int></arr><arr name=\"lowerfilt\"><str>The quote red fox jumped over the lazy brown dogs.</str></arr><arr name=\"lowerfilt1and2\"><str>The quote red fox jumped over the lazy brown dogs.</str></arr><arr name=\"multiDefault\"><str>muLti-Default</str></arr><int name=\"intDefault\">42</int><date name=\"timestamp\">2017-02-13T15:52:03.370Z</date></doc><doc><int name=\"id\">19</int><arr name=\"range_facet_l\"><long>19</long></arr><arr name=\"range_facet_l_dv\"><long>19</long></arr><arr name=\"range_facet_i_dv\"><int>19</int></arr><arr name=\"lowerfilt\"><str>The hose red fox jumped over the lazy brown dogs.</str></arr><arr name=\"lowerfilt1and2\"><str>The hose red fox jumped over the lazy brown dogs.</str></arr><arr name=\"multiDefault\"><str>muLti-Default</str></arr><int name=\"intDefault\">42</int><date name=\"timestamp\">2017-02-13T15:52:03.371Z</date></doc><doc><int name=\"id\">20</int><arr name=\"range_facet_l\"><long>20</long></arr><arr name=\"range_facet_l_dv\"><long>20</long></arr><arr name=\"range_facet_i_dv\"><int>20</int></arr><arr name=\"lowerfilt\"><str>The quote red fox jumped over the lazy brown dogs.</str></arr><arr name=\"lowerfilt1and2\"><str>The quote red fox jumped over the lazy brown dogs.</str></arr><arr name=\"multiDefault\"><str>muLti-Default</str></arr><int name=\"intDefault\">42</int><date name=\"timestamp\">2017-02-13T15:52:03.376Z</date></doc><doc><int name=\"id\">21</int><arr name=\"range_facet_l\"><long>21</long></arr><arr name=\"range_facet_l_dv\"><long>21</long></arr><arr name=\"range_facet_i_dv\"><int>21</int></arr><arr name=\"lowerfilt\"><str>The court red fox jumped over the lazy brown dogs.</str></arr><arr name=\"lowerfilt1and2\"><str>The court red fox jumped over the lazy brown dogs.</str></arr><arr name=\"multiDefault\"><str>muLti-Default</str></arr><int name=\"intDefault\">42</int><date name=\"timestamp\">2017-02-13T15:52:03.377Z</date></doc><doc><int name=\"id\">22</int><arr name=\"range_facet_l\"><long>22</long></arr><arr name=\"range_facet_l_dv\"><long>22</long></arr><arr name=\"range_facet_i_dv\"><int>22</int></arr><arr name=\"lowerfilt\"><str>The quote red fox jumped over the lazy brown dogs.</str></arr><arr name=\"lowerfilt1and2\"><str>The quote red fox jumped over the lazy brown dogs.</str></arr><arr name=\"multiDefault\"><str>muLti-Default</str></arr><int name=\"intDefault\">42</int><date name=\"timestamp\">2017-02-13T15:52:03.378Z</date></doc><doc><int name=\"id\">23</int><arr name=\"range_facet_l\"><long>23</long></arr><arr name=\"range_facet_l_dv\"><long>23</long></arr><arr name=\"range_facet_i_dv\"><int>23</int></arr><arr name=\"lowerfilt\"><str>The quote red fox jumped over the lazy brown dogs.</str></arr><arr name=\"lowerfilt1and2\"><str>The quote red fox jumped over the lazy brown dogs.</str></arr><arr name=\"multiDefault\"><str>muLti-Default</str></arr><int name=\"intDefault\">42</int><date name=\"timestamp\">2017-02-13T15:52:03.380Z</date></doc><doc><int name=\"id\">24</int><arr name=\"range_facet_l\"><long>24</long></arr><arr name=\"range_facet_l_dv\"><long>24</long></arr><arr name=\"range_facet_i_dv\"><int>24</int></arr><arr name=\"lowerfilt\"><str>The file red fox jumped over the lazy brown dogs.</str></arr><arr name=\"lowerfilt1and2\"><str>The file red fox jumped over the lazy brown dogs.</str></arr><arr name=\"multiDefault\"><str>muLti-Default</str></arr><int name=\"intDefault\">42</int><date name=\"timestamp\">2017-02-13T15:52:03.381Z</date></doc><doc><int name=\"id\">13</int><arr name=\"range_facet_l\"><long>13</long></arr><arr name=\"range_facet_l_dv\"><long>13</long></arr><arr name=\"range_facet_i_dv\"><int>13</int></arr><arr name=\"lowerfilt\"><str>The quote red fox jumped over the lazy brown dogs.</str></arr><arr name=\"lowerfilt1and2\"><str>The quote red fox jumped over the lazy brown dogs.</str></arr><arr name=\"multiDefault\"><str>muLti-Default</str></arr><int name=\"intDefault\">42</int><date name=\"timestamp\">2017-02-13T15:52:03.189Z</date></doc><doc><int name=\"id\">14</int><arr name=\"range_facet_l\"><long>14</long></arr><arr name=\"range_facet_l_dv\"><long>14</long></arr><arr name=\"range_facet_i_dv\"><int>14</int></arr><arr name=\"lowerfilt\"><str>The quote red fox jumped over the lazy brown dogs.</str></arr><arr name=\"lowerfilt1and2\"><str>The quote red fox jumped over the lazy brown dogs.</str></arr><arr name=\"multiDefault\"><str>muLti-Default</str></arr><int name=\"intDefault\">42</int><date name=\"timestamp\">2017-02-13T15:52:03.189Z</date></doc></result>\n   [junit4]    > </response>\n   [junit4]    > \trequest was:q={!mlt+qf%3Dlowerfilt}17\n   [junit4]    > \tat org.apache.solr.SolrTestCaseJ4.assertQ(SolrTestCaseJ4.java:875)\n   [junit4]    > \t... 41 more\n[...]\n   [junit4]   2> NOTE: test params are: codec=Asserting(Lucene62): {range_facet_l_dv=FST50, lowerfilt1=FSTOrd50, lowerfilt1and2=BlockTreeOrds(blocksize=128), multiDefault=BlockTreeOrds(blocksize=128), intDefault=PostingsFormat(name=MockRandom), lowerfilt=BlockTreeOrds(blocksize=128), id=FST50, range_facet_i_dv=PostingsFormat(name=MockRandom), range_facet_l=PostingsFormat(name=MockRandom), timestamp=PostingsFormat(name=MockRandom)}, docValues:{range_facet_l_dv=DocValuesFormat(name=Lucene54), lowerfilt1=DocValuesFormat(name=Asserting), lowerfilt1and2=DocValuesFormat(name=Direct), multiDefault=DocValuesFormat(name=Direct), intDefault=DocValuesFormat(name=Lucene54), lowerfilt=DocValuesFormat(name=Direct), range_facet_i_dv=DocValuesFormat(name=Lucene54), id=DocValuesFormat(name=Lucene54), timestamp=DocValuesFormat(name=Lucene54), range_facet_l=DocValuesFormat(name=Lucene54)}, maxPointsInLeafNode=751, maxMBSortInHeap=7.105234825623627, sim=RandomSimilarity(queryNorm=false,coord=no): {}, locale=ro-RO, timezone=America/Pangnirtung\n   [junit4]   2> NOTE: Linux 4.1.0-custom2-amd64 amd64/Oracle Corporation 1.8.0_77 (64-bit)/cpus=16,threads=1,free=297494744,total=448266240\n\n ",
            "id": "comment-15868917"
        },
        {
            "date": "2017-07-19T23:53:40+0000",
            "author": "Steve Rowe",
            "content": "Another reproducing failure on master, from my Jenkins:\n\n\n   [junit4]   2> NOTE: reproduce with: ant test  -Dtestcase=SimpleMLTQParserTest -Dtests.method=doTest -Dtests.seed=42BD955098F8354D -Dtests.multiplier=2 -Dtests.nightly=true -Dtests.slow=true -Dtests.linedocsfile=/home/jenkins/lucene-data/enwiki.random.lines.txt -Dtests.locale=no -Dtests.timezone=America/Santo_Domingo -Dtests.asserts=true -Dtests.file.encoding=UTF-8\n   [junit4] ERROR   0.24s J3 | SimpleMLTQParserTest.doTest <<<\n   [junit4]    > Throwable #1: java.lang.RuntimeException: Exception during query\n   [junit4]    > \tat __randomizedtesting.SeedInfo.seed([42BD955098F8354D:E5F92DF4F54326F4]:0)\n   [junit4]    > \tat org.apache.solr.SolrTestCaseJ4.assertQ(SolrTestCaseJ4.java:878)\n   [junit4]    > \tat org.apache.solr.SolrTestCaseJ4.assertQ(SolrTestCaseJ4.java:845)\n   [junit4]    > \tat org.apache.solr.search.mlt.SimpleMLTQParserTest.doTest(SimpleMLTQParserTest.java:82)\n   [junit4]    > \tat java.lang.Thread.run(Thread.java:745)\n   [junit4]    > Caused by: java.lang.RuntimeException: REQUEST FAILED: xpath=//result/doc[1]/str[@name='id'][.='13']\n   [junit4]    > \txml response was: <?xml version=\"1.0\" encoding=\"UTF-8\"?>\n   [junit4]    > <response>\n   [junit4]    > <lst name=\"responseHeader\"><int name=\"status\">0</int><int name=\"QTime\">5</int></lst><result name=\"response\" numFound=\"16\" start=\"0\"><doc><str name=\"id\">30</str><arr name=\"range_facet_l\"><long>30</long></arr><int name=\"id_i1\">30</int><arr name=\"range_facet_l_dv\"><long>30</long></arr><arr name=\"range_facet_i_dv\"><int>30</int></arr><arr name=\"lowerfilt\"><str>The quote red fox jumped over the lazy brown dogs.</str></arr><arr name=\"lowerfilt1and2\"><str>The quote red fox jumped over the lazy brown dogs.</str><str>red green yellow</str></arr><arr name=\"lowerfilt1\"><str>red green yellow</str></arr><arr name=\"multiDefault\"><str>muLti-Default</str></arr><int name=\"intDefault\">42</int><date name=\"timestamp\">2017-07-17T02:59:59.198Z</date><int name=\"intDvoDefault\">42</int></doc><doc><str name=\"id\">31</str><arr name=\"range_facet_l\"><long>31</long></arr><int name=\"id_i1\">31</int><arr name=\"range_facet_l_dv\"><long>31</long></arr><arr name=\"range_facet_i_dv\"><int>31</int></arr><arr name=\"lowerfilt\"><str>The fat red fox jumped over the lazy brown dogs.</str></arr><arr name=\"lowerfilt1and2\"><str>The fat red fox jumped over the lazy brown dogs.</str><str>green blue yellow</str></arr><arr name=\"lowerfilt1\"><str>green blue yellow</str></arr><arr name=\"multiDefault\"><str>muLti-Default</str></arr><int name=\"intDefault\">42</int><date name=\"timestamp\">2017-07-17T02:59:59.198Z</date><int name=\"intDvoDefault\">42</int></doc><doc><str name=\"id\">32</str><arr name=\"range_facet_l\"><long>32</long></arr><int name=\"id_i1\">32</int><arr name=\"range_facet_l_dv\"><long>32</long></arr><arr name=\"range_facet_i_dv\"><int>32</int></arr><arr name=\"lowerfilt\"><str>The slim red fox jumped over the lazy brown dogs.</str></arr><arr name=\"lowerfilt1and2\"><str>The slim red fox jumped over the lazy brown dogs.</str><str>yellow white black</str></arr><arr name=\"lowerfilt1\"><str>yellow white black</str></arr><arr name=\"multiDefault\"><str>muLti-Default</str></arr><int name=\"intDefault\">42</int><date name=\"timestamp\">2017-07-17T02:59:59.199Z</date><int name=\"intDvoDefault\">42</int></doc><doc><str name=\"id\">13</str><arr name=\"range_facet_l\"><long>13</long></arr><int name=\"id_i1\">13</int><arr name=\"range_facet_l_dv\"><long>13</long></arr><arr name=\"range_facet_i_dv\"><int>13</int></arr><arr name=\"lowerfilt\"><str>The quote red fox jumped over the lazy brown dogs.</str></arr><arr name=\"lowerfilt1and2\"><str>The quote red fox jumped over the lazy brown dogs.</str></arr><arr name=\"multiDefault\"><str>muLti-Default</str></arr><int name=\"intDefault\">42</int><date name=\"timestamp\">2017-07-17T02:59:59.108Z</date><int name=\"intDvoDefault\">42</int></doc><doc><str name=\"id\">14</str><arr name=\"range_facet_l\"><long>14</long></arr><int name=\"id_i1\">14</int><arr name=\"range_facet_l_dv\"><long>14</long></arr><arr name=\"range_facet_i_dv\"><int>14</int></arr><arr name=\"lowerfilt\"><str>The quote red fox jumped over the lazy brown dogs.</str></arr><arr name=\"lowerfilt1and2\"><str>The quote red fox jumped over the lazy brown dogs.</str></arr><arr name=\"multiDefault\"><str>muLti-Default</str></arr><int name=\"intDefault\">42</int><date name=\"timestamp\">2017-07-17T02:59:59.120Z</date><int name=\"intDvoDefault\">42</int></doc><doc><str name=\"id\">15</str><arr name=\"range_facet_l\"><long>15</long></arr><int name=\"id_i1\">15</int><arr name=\"range_facet_l_dv\"><long>15</long></arr><arr name=\"range_facet_i_dv\"><int>15</int></arr><arr name=\"lowerfilt\"><str>The fat red fox jumped over the lazy brown dogs.</str></arr><arr name=\"lowerfilt1and2\"><str>The fat red fox jumped over the lazy brown dogs.</str></arr><arr name=\"multiDefault\"><str>muLti-Default</str></arr><int name=\"intDefault\">42</int><date name=\"timestamp\">2017-07-17T02:59:59.120Z</date><int name=\"intDvoDefault\">42</int></doc><doc><str name=\"id\">16</str><arr name=\"range_facet_l\"><long>16</long></arr><int name=\"id_i1\">16</int><arr name=\"range_facet_l_dv\"><long>16</long></arr><arr name=\"range_facet_i_dv\"><int>16</int></arr><arr name=\"lowerfilt\"><str>The slim red fox jumped over the lazy brown dogs.</str></arr><arr name=\"lowerfilt1and2\"><str>The slim red fox jumped over the lazy brown dogs.</str></arr><arr name=\"multiDefault\"><str>muLti-Default</str></arr><int name=\"intDefault\">42</int><date name=\"timestamp\">2017-07-17T02:59:59.138Z</date><int name=\"intDvoDefault\">42</int></doc><doc><str name=\"id\">18</str><arr name=\"range_facet_l\"><long>18</long></arr><int name=\"id_i1\">18</int><arr name=\"range_facet_l_dv\"><long>18</long></arr><arr name=\"range_facet_i_dv\"><int>18</int></arr><arr name=\"lowerfilt\"><str>The quote red fox jumped over the lazy brown dogs.</str></arr><arr name=\"lowerfilt1and2\"><str>The quote red fox jumped over the lazy brown dogs.</str></arr><arr name=\"multiDefault\"><str>muLti-Default</str></arr><int name=\"intDefault\">42</int><date name=\"timestamp\">2017-07-17T02:59:59.142Z</date><int name=\"intDvoDefault\">42</int></doc><doc><str name=\"id\">19</str><arr name=\"range_facet_l\"><long>19</long></arr><int name=\"id_i1\">19</int><arr name=\"range_facet_l_dv\"><long>19</long></arr><arr name=\"range_facet_i_dv\"><int>19</int></arr><arr name=\"lowerfilt\"><str>The hose red fox jumped over the lazy brown dogs.</str></arr><arr name=\"lowerfilt1and2\"><str>The hose red fox jumped over the lazy brown dogs.</str></arr><arr name=\"multiDefault\"><str>muLti-Default</str></arr><int name=\"intDefault\">42</int><date name=\"timestamp\">2017-07-17T02:59:59.156Z</date><int name=\"intDvoDefault\">42</int></doc><doc><str name=\"id\">20</str><arr name=\"range_facet_l\"><long>20</long></arr><int name=\"id_i1\">20</int><arr name=\"range_facet_l_dv\"><long>20</long></arr><arr name=\"range_facet_i_dv\"><int>20</int></arr><arr name=\"lowerfilt\"><str>The quote red fox jumped over the lazy brown dogs.</str></arr><arr name=\"lowerfilt1and2\"><str>The quote red fox jumped over the lazy brown dogs.</str></arr><arr name=\"multiDefault\"><str>muLti-Default</str></arr><int name=\"intDefault\">42</int><date name=\"timestamp\">2017-07-17T02:59:59.157Z</date><int name=\"intDvoDefault\">42</int></doc></result>\n   [junit4]    > </response>\n   [junit4]    > \trequest was:q={!mlt+qf%3Dlowerfilt}17\n   [junit4]    > \tat org.apache.solr.SolrTestCaseJ4.assertQ(SolrTestCaseJ4.java:871)\n\n ",
            "id": "comment-16093979"
        }
    ]
}