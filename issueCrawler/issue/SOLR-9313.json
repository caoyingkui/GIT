{
    "id": "SOLR-9313",
    "title": "Solr 6.1.0 SSL, and Basic Auth - shards index failed",
    "details": {
        "components": [
            "Authentication"
        ],
        "type": "Bug",
        "labels": "",
        "fix_versions": [],
        "affect_versions": "6.1",
        "status": "Closed",
        "resolution": "Invalid",
        "priority": "Blocker"
    },
    "description": "Hi,\n\nThis is a blocker, shards collection seeking for auth with 401 error.\nI have provided auth details in my java client then too failing to index on shards collection\n\nI have 2 boxes (dev01,dev02)\n\nZookeeper with chroot (/solr)\n------------------------------------\ndev01 - zoo1:2181, zoo2:2182\ndev02 - zoo3:2183\n\nsolr jvm instances:\n-----------------------\ndev01 - solrjvm1 - 8983, solrjvm2 - 8984\ndev02 - solrjvm1 - 8983, solrjvm2 - 8984\n\nI enabled solr SSL channel, followed below link, i have used self signed certificate\n\nhttps://cwiki.apache.org/confluence/display/solr/Enabling+SSL\n\nBasic auth:\nhttps://cwiki.apache.org/confluence/display/solr/Basic+Authentication+Plugin\n\nsecurity.json\n----------------\n{\n\"authentication\":{\n   \"blockUnknown\": true,\n   \"class\":\"solr.BasicAuthPlugin\",\n   \"credentials\":\n{\"solr\":\"IV0EHq1OnNrj6gvRCwvFwTrZ1+z1oBbnQdiVC3otuq0= Ndd7LKvVBAaZIF0QAVi1ekCfAJXr1GGfLtRUXhgrF8c=\"}\n   },\n\"authorization\":{\n   \"class\":\"solr.RuleBasedAuthorizationPlugin\",\n   \"user-role\":\n{\"solr\":\"admin\"}\n,\n   \"permissions\":[\n                 \n{\"name\":\"security-edit\", \"role\":\"admin\"}\n,\n\t\t\t\t \n{\"name\":\"config-edit\", \"role\":\"admin\"}\n,\n\t\t\t\t \n{\"name\":\"collection-admin-edit\", \"role\":\"admin\"}\n,\n\t\t\t\t \n{\"name\":\"all\", \"collection\":null, \"path\":\"/*\", \"role\":\"admin\"}\n,\n\t\t\t\t {\"name\":\"update\", \"collection\":null, \"path\":\"/*\", \"role\":\"admin\"}\n\t\t\t \t ]\n   }\n}\n\n\n\nCollection CREATE/DELETE via browser\nhttps://pcam-dev-app-01:8983/solr/admin/collections?action=DELETE&name=scdata_test\nhttps://pcam-dev-app-01:8983/solr/admin/collections?action=CREATE&name=scdata_test&numShards=1&replicationFactor=2&createNodeSet=pcam-dev-app-01:8983_solr,pcam-dev-app-01:8984_solr&collection.configName=scdata\n\nTwo shards created:\n-------------------------\nscdata_test_shard1_replica1\nscdata_test_shard1_replica2\n\nSample Java client\n------------------------\npackage com.test.solr.auth;\n\nimport java.util.concurrent.TimeUnit;\n\nimport org.apache.solr.client.solrj.SolrRequest;\nimport org.apache.solr.client.solrj.impl.CloudSolrClient;\nimport org.apache.solr.client.solrj.request.QueryRequest;\nimport org.apache.solr.common.SolrInputDocument;\n\npublic class SolrPopulateWithSSLAndBasicAuth {\n\n\tpublic SolrPopulateWithSSLAndBasicAuth() {\n\t}\n\n\t@SuppressWarnings(\"rawtypes\")\n\tpublic static void main(String[] args) {\n\t\t// https://cwiki.apache.org/confluence/display/solr/Using+SolrJ\n\t\t//Standalone client\n\t\t//String urlString = \"http://localhost:8983/solr/techproducts\";\n\t\t//SolrClient solr = new HttpSolrClient.Builder(urlString).build();\n\t\ttry {\n\t\t\tSystem.setProperty(\"javax.net.ssl.keyStore\", \"C:/Users/nbasetty/Desktop/Solr-Dev-Cluster/solr-ssl.keystore.dev01.jks\");\n\t\t\tSystem.setProperty(\"javax.net.ssl.keyStorePassword\", \"secret\");\n\t\t\tSystem.setProperty(\"javax.net.ssl.trustStore\", \"C:/Users/nbasetty/Desktop/Solr-Dev-Cluster/solr-ssl.keystore.dev01.jks\");\n\t\t\tSystem.setProperty(\"javax.net.ssl.trustStorePassword\", \"secret\");\n\t\t\tSystem.out.println(\" Certificates setup done..\");\n\t\t\tString zkHosts = \"pcam-dev-app-01:2181,pcam-dev-app-01:2182,pcam-dev-app-02:2183/solr\";\n\t\t\tCloudSolrClient solrClient = new CloudSolrClient.Builder().withZkHost(zkHosts).build();\n\t\t\tsolrClient.setDefaultCollection(\"scdata_test\");\n\t\t\tSystem.out.println(\" ZooKeeper nodes setup done..\");\n\t\t\tSolrRequest solrRequest = new QueryRequest();\n\t\t\tsolrRequest.setBasicAuthCredentials(\"solr\", \"SolrRocks\");\n\t\t\tsolrClient.request(solrRequest);\n\t\t\t//solrClient.request(solrRequest, solrClient.getDefaultCollection());\n\t\t\t//QueryResponse response = solrClient.query(query, METHOD.POST);\n\t\t\tlong start = System.nanoTime();\n\t\t\tfor (int i = 1; i <= 500; ++i) {\n\t\t\t\tSolrInputDocument doc = new SolrInputDocument();\n\t\t\t\tdoc.addField(\"cat_s\", \"book\");\n\t\t\t\tdoc.addField(\"id\", \"book-\" + i);\n\t\t\t\tdoc.addField(\"name_s\", \"The Legend of the Hobbit part \" + i);\n\t\t\t\tsolrClient.add(doc);\n\t\t\t\tSystem.out.println(\" Object id : \" + i);\n\t\t\t\tif (i % 100 == 0)\n{\n\t\t\t\t\tSystem.out.println(\" Every 100 records flush it\");\n\t\t\t\t\tsolrClient.commit(); // periodically flush\n\t\t\t\t}\n\t\t\t}\n\t\t\tsolrClient.commit(); \n\t\t\tsolrClient.close();\n\t\t\tlong end = System.nanoTime();\n\t\t\tlong seconds = TimeUnit.NANOSECONDS.toSeconds(end - start);\n\t\t\tSystem.out.println(\" All records are indexed, took \" + seconds + \" seconds\");\n\t\t} catch (Exception e) \n{\n\t\t\te.printStackTrace();\n\t\t}\n\n\t}\n\n}\n\n\n\nERROR\n----------\n\n\n\n\nSLF4J: See http://www.slf4j.org/codes.html#no_static_mdc_binder for further details.\norg.apache.solr.client.solrj.impl.CloudSolrClient$RouteException: Error from server at https://pcam-dev-app-01:8984/solr/scdata_test_shard1_replica1: Expected mime type application/octet-stream but got text/html. <html>\n<head>\n<meta http-equiv=\"Content-Type\" content=\"text/html;charset=utf-8\"/>\n<title>Error 401 require authentication</title>\n</head>\n<body><h2>HTTP ERROR 401</h2>\n<p>Problem accessing /solr/scdata_test_shard1_replica1/update. Reason:\n<pre>    require authentication</pre></p>\n</body>\n</html>\n\n\tat org.apache.solr.client.solrj.impl.CloudSolrClient.directUpdate(CloudSolrClient.java:697)\n\tat org.apache.solr.client.solrj.impl.CloudSolrClient.sendRequest(CloudSolrClient.java:1109)\n\tat org.apache.solr.client.solrj.impl.CloudSolrClient.requestWithRetryOnStaleState(CloudSolrClient.java:998)\n\tat org.apache.solr.client.solrj.impl.CloudSolrClient.request(CloudSolrClient.java:934)\n\tat org.apache.solr.client.solrj.SolrRequest.process(SolrRequest.java:149)\n\tat org.apache.solr.client.solrj.SolrClient.add(SolrClient.java:173)\n\tat org.apache.solr.client.solrj.SolrClient.add(SolrClient.java:138)\n\tat org.apache.solr.client.solrj.SolrClient.add(SolrClient.java:152)\n\tat com.test.solr.auth.SolrPopulateWithSSLAndBasicAuth.main(SolrPopulateWithSSLAndBasicAuth.java:42)\nCaused by: org.apache.solr.client.solrj.impl.HttpSolrClient$RemoteSolrException: Error from server at https://pcam-dev-app-01:8984/solr/scdata_test_shard1_replica1: Expected mime type application/octet-stream but got text/html. <html>\n<head>\n<meta http-equiv=\"Content-Type\" content=\"text/html;charset=utf-8\"/>\n<title>Error 401 require authentication</title>\n</head>\n<body><h2>HTTP ERROR 401</h2>\n<p>Problem accessing /solr/scdata_test_shard1_replica1/update. Reason:\n<pre>    require authentication</pre></p>\n</body>\n</html>\n\n\tat org.apache.solr.client.solrj.impl.HttpSolrClient.executeMethod(HttpSolrClient.java:558)\n\tat org.apache.solr.client.solrj.impl.HttpSolrClient.request(HttpSolrClient.java:259)\n\tat org.apache.solr.client.solrj.impl.HttpSolrClient.request(HttpSolrClient.java:248)\n\tat org.apache.solr.client.solrj.impl.LBHttpSolrClient.doRequest(LBHttpSolrClient.java:404)\n\tat org.apache.solr.client.solrj.impl.LBHttpSolrClient.request(LBHttpSolrClient.java:357)\n\tat org.apache.solr.client.solrj.impl.CloudSolrClient.lambda$directUpdate$14(CloudSolrClient.java:674)\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\n\tat org.apache.solr.common.util.ExecutorUtil$MDCAwareThreadPoolExecutor.lambda$execute$22(ExecutorUtil.java:229)\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n\tat java.lang.Thread.run(Thread.java:745)",
    "attachments": {},
    "issue_links": {},
    "comments": [
        {
            "date": "2016-07-19T02:46:02+0000",
            "author": "narayana b",
            "content": "I have changed \n\nsecurity.json - uploaded into the zookeeper.\n----------------\n\n{\n\"authentication\":{\n   \"class\":\"solr.BasicAuthPlugin\",\n   \"credentials\":\n{\"solr\":\"IV0EHq1OnNrj6gvRCwvFwTrZ1+z1oBbnQdiVC3otuq0= Ndd7LKvVBAaZIF0QAVi1ekCfAJXr1GGfLtRUXhgrF8c=\"}\n   },\n\"authorization\":{\n   \"class\":\"solr.RuleBasedAuthorizationPlugin\",\n   \"user-role\":\n{\"solr\":\"admin\"}\n,\n   \"permissions\":[\n                 \n{\"name\":\"security-edit\", \"role\":\"admin\"}\n,\n\t\t\t\t \n{\"name\":\"config-edit\", \"role\":\"admin\"}\n,\n\t\t\t\t \n{\"name\":\"collection-admin-edit\", \"role\":\"admin\"}\n,\n\t\t\t\t {\"name\":\"update\", \"role\":\"admin\"}\n\t\t\t \t ]\n   }\n}\n\nFreshly started solr instances from dev01, dev02\n\non the \nhttps://pcam-dev-app-01:8983/solr/admin/collections?action=CREATE&name=scdata_test&numShards=2&replicationFactor=2&maxShardsPerNode=2&createNodeSet=pcam-dev-app-01:8983_solr,pcam-dev-app-01:8984_solr,pcam-dev-app-02:8983_solr,pcam-dev-app-02:8984_solr&collection.configName=scdata\n\n\nResponse Error\n--------------------\n<response>\n<lst name=\"responseHeader\">\n<int name=\"status\">0</int>\n<int name=\"QTime\">57347</int>\n</lst>\n<lst name=\"failure\">\n<str name=\"pcam-dev-app-02:8984_solr\">\norg.apache.solr.client.solrj.SolrServerException:IOException occured when talking to server at: https://pcam-dev-app-02:8984/solr\n</str>\n<str name=\"pcam-dev-app-02:8983_solr\">\norg.apache.solr.client.solrj.SolrServerException:IOException occured when talking to server at: https://pcam-dev-app-02:8983/solr\n</str>\n</lst>\n<lst name=\"success\">\n<lst name=\"pcam-dev-app-01:8983_solr\">\n<lst name=\"responseHeader\">\n<int name=\"status\">0</int>\n<int name=\"QTime\">14837</int>\n</lst>\n<str name=\"core\">scdata_test_shard2_replica2</str>\n</lst>\n<lst name=\"pcam-dev-app-01:8984_solr\">\n<lst name=\"responseHeader\">\n<int name=\"status\">0</int>\n<int name=\"QTime\">13324</int>\n</lst>\n<str name=\"core\">scdata_test_shard1_replica1</str>\n</lst>\n</lst>\n</response> ",
            "id": "comment-15383503"
        },
        {
            "date": "2016-07-19T04:38:08+0000",
            "author": "narayana b",
            "content": "Error\n\n\nhttpShardExecutor-4-thread-2-processing-n:pcam-dev-app-01:8983_solr https:////pcam-dev-app-02:8984//solr https:////pcam-dev-app-02:8984//solr, called closeSocket()\nhttpShardExecutor-4-thread-4-processing-n:pcam-dev-app-01:8983_solr https:////pcam-dev-app-02:8983//solr https:////pcam-dev-app-02:8983//solr, called closeSocket()\nhttpShardExecutor-4-thread-2-processing-n:pcam-dev-app-01:8983_solr https:////pcam-dev-app-02:8984//solr https:////pcam-dev-app-02:8984//solr, handling exception: javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\nhttpShardExecutor-4-thread-4-processing-n:pcam-dev-app-01:8983_solr https:////pcam-dev-app-02:8983//solr https:////pcam-dev-app-02:8983//solr, handling exception: javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\nhttpShardExecutor-4-thread-2-processing-n:pcam-dev-app-01:8983_solr https:////pcam-dev-app-02:8984//solr https:////pcam-dev-app-02:8984//solr, called close()\nhttpShardExecutor-4-thread-4-processing-n:pcam-dev-app-01:8983_solr https:////pcam-dev-app-02:8983//solr https:////pcam-dev-app-02:8983//solr, called close()\nhttpShardExecutor-4-thread-4-processing-n:pcam-dev-app-01:8983_solr https:////pcam-dev-app-02:8983//solr https:////pcam-dev-app-02:8983//solr, called closeInternal(true)\nhttpShardExecutor-4-thread-2-processing-n:pcam-dev-app-01:8983_solr https:////pcam-dev-app-02:8984//solr https:////pcam-dev-app-02:8984//solr, called closeInternal(true)\n658677 ERROR (OverseerThreadFactory-5-thread-1-processing-n:pcam-dev-app-01:8983_solr) [   ] o.a.s.c.OverseerCollectionMessageHandler Error from shard: https://pcam-dev-app-02:8984/solr\norg.apache.solr.client.solrj.SolrServerException: IOException occured when talking to server at: https://pcam-dev-app-02:8984/solr\n\tat org.apache.solr.client.solrj.impl.HttpSolrClient.executeMethod(HttpSolrClient.java:604)\n\tat org.apache.solr.client.solrj.impl.HttpSolrClient.request(HttpSolrClient.java:259)\n\tat org.apache.solr.client.solrj.impl.HttpSolrClient.request(HttpSolrClient.java:248)\n\tat org.apache.solr.client.solrj.SolrClient.request(SolrClient.java:1219)\n\tat org.apache.solr.handler.component.HttpShardHandler.lambda$submit$65(HttpShardHandler.java:195)\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\n\tat org.apache.solr.common.util.ExecutorUtil$MDCAwareThreadPoolExecutor.lambda$execute$22(ExecutorUtil.java:229)\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n\tat java.lang.Thread.run(Thread.java:745)\nCaused by: javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n\tat sun.security.ssl.Alerts.getSSLException(Alerts.java:192)\n\tat sun.security.ssl.SSLSocketImpl.fatal(SSLSocketImpl.java:1949)\n\tat sun.security.ssl.Handshaker.fatalSE(Handshaker.java:302)\n\tat sun.security.ssl.Handshaker.fatalSE(Handshaker.java:296)\n\tat sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1509)\n\tat sun.security.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:216)\n\tat sun.security.ssl.Handshaker.processLoop(Handshaker.java:979)\n\tat sun.security.ssl.Handshaker.process_record(Handshaker.java:914)\n\tat sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1062)\n\tat sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1375)\n\tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1403)\n\tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1387)\n\tat org.apache.http.conn.ssl.SSLSocketFactory.connectSocket(SSLSocketFactory.java:543)\n\tat org.apache.http.conn.ssl.SSLSocketFactory.connectSocket(SSLSocketFactory.java:409)\n\tat org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:177)\n\tat org.apache.http.impl.conn.ManagedClientConnectionImpl.open(ManagedClientConnectionImpl.java:304)\n\tat org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:611)\n\tat org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:446)\n\tat org.apache.http.impl.client.AbstractHttpClient.doExecute(AbstractHttpClient.java:882)\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:82)\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:107)\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:55)\n\tat org.apache.solr.client.solrj.impl.HttpSolrClient.executeMethod(HttpSolrClient.java:495)\n\t... 11 more\nCaused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n\tat sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:387)\n\tat sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:292)\n\tat sun.security.validator.Validator.validate(Validator.java:260)\n\tat sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:324)\n\tat sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:229)\n\tat sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:124)\n\tat sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1491)\n\t... 29 more\nCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n\tat sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:141)\n\tat sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:126)\n\tat java.security.cert.CertPathBuilder.build(CertPathBuilder.java:280)\n\tat sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:382)\n\t... 35 more\n658695 ERROR (OverseerThreadFactory-5-thread-1-processing-n:pcam-dev-app-01:8983_solr) [   ] o.a.s.c.OverseerCollectionMessageHandler Error from shard: https://pcam-dev-app-02:8983/solr\norg.apache.solr.client.solrj.SolrServerException: IOException occured when talking to server at: https://pcam-dev-app-02:8983/solr\n\tat org.apache.solr.client.solrj.impl.HttpSolrClient.executeMethod(HttpSolrClient.java:604)\n\tat org.apache.solr.client.solrj.impl.HttpSolrClient.request(HttpSolrClient.java:259)\n\tat org.apache.solr.client.solrj.impl.HttpSolrClient.request(HttpSolrClient.java:248)\n\tat org.apache.solr.client.solrj.SolrClient.request(SolrClient.java:1219)\n\tat org.apache.solr.handler.component.HttpShardHandler.lambda$submit$65(HttpShardHandler.java:195)\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\n\tat org.apache.solr.common.util.ExecutorUtil$MDCAwareThreadPoolExecutor.lambda$execute$22(ExecutorUtil.java:229)\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n\tat java.lang.Thread.run(Thread.java:745)\nCaused by: javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n\tat sun.security.ssl.Alerts.getSSLException(Alerts.java:192)\n\tat sun.security.ssl.SSLSocketImpl.fatal(SSLSocketImpl.java:1949)\n\tat sun.security.ssl.Handshaker.fatalSE(Handshaker.java:302)\n\tat sun.security.ssl.Handshaker.fatalSE(Handshaker.java:296)\n\tat sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1509)\n\tat sun.security.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:216)\n\tat sun.security.ssl.Handshaker.processLoop(Handshaker.java:979)\n\tat sun.security.ssl.Handshaker.process_record(Handshaker.java:914)\n\tat sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1062)\n\tat sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1375)\n\tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1403)\n\tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1387)\n\tat org.apache.http.conn.ssl.SSLSocketFactory.connectSocket(SSLSocketFactory.java:543)\n\tat org.apache.http.conn.ssl.SSLSocketFactory.connectSocket(SSLSocketFactory.java:409)\n\tat org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:177)\n\tat org.apache.http.impl.conn.ManagedClientConnectionImpl.open(ManagedClientConnectionImpl.java:304)\n\tat org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:611)\n\tat org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:446)\n\tat org.apache.http.impl.client.AbstractHttpClient.doExecute(AbstractHttpClient.java:882)\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:82)\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:107)\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:55)\n\tat org.apache.solr.client.solrj.impl.HttpSolrClient.executeMethod(HttpSolrClient.java:495)\n\t... 11 more\nCaused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n\tat sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:387)\n\tat sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:292)\n\tat sun.security.validator.Validator.validate(Validator.java:260)\n\tat sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:324)\n\tat sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:229)\n\tat sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:124)\n\tat sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1491)\n\t... 29 more\nCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n\tat sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:141)\n\tat sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:126)\n\tat java.security.cert.CertPathBuilder.build(CertPathBuilder.java:280)\n\tat sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:382)\n\t... 35 more ",
            "id": "comment-15383573"
        },
        {
            "date": "2016-07-19T16:00:01+0000",
            "author": "Erick Erickson",
            "content": "Please raise questions like this on the user's list before\nraising a JIRA. More eyes will see it and you'll perhaps\nget help much more quickly.\n\nWe try to keep the JIRA list to known code issues. I\nknow there are auth tests in the junit tests, so my first\nguess would be that this is something not quite right\nin your configuration and not a code problem. ",
            "id": "comment-15384419"
        },
        {
            "date": "2016-11-21T09:54:25+0000",
            "author": "Jan H\u00f8ydahl",
            "content": "Closing as invalid. Problem is that your document update request lacks basicAuthCredentials. ",
            "id": "comment-15683053"
        }
    ]
}