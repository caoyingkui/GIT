{
    "id": "LUCENE-52",
    "title": "Hits are only ranked in groups of 100",
    "details": {
        "labels": "",
        "priority": "Major",
        "components": [
            "core/search"
        ],
        "type": "Bug",
        "fix_versions": [],
        "affect_versions": "1.2",
        "resolution": "Fixed",
        "status": "Closed"
    },
    "description": "When the number of hits returned from a search is large, say 500 hits, each \ngroup of 100 hits is correctly ranked from higher to lower score, but the \nranking is not valid across the entire set of hits. That is, hit number 100 can \nhave a lower score than hit number 101. Here are the scores from a search that \nreturned over 100 documents. \n\n0.50862956\n0.49759585\n0.48154435\n0.4791306\n0.46233732\n0.45172864\n0.45048255\n0.45009238\n0.44985813\n0.42255348\n0.42255348\n0.41913056\n0.41733846\n0.41214272\n0.4030633\n0.4004105\n0.3992095\n0.39120853\n0.3901293\n0.3901293\n0.3832849\n0.3826121\n0.3774968\n0.3770312\n0.36918402\n0.36644575\n0.36644575\n0.3629777\n0.35853016\n0.35200316\n0.35200316\n0.35200316\n0.34572554\n0.34221864\n0.34221864\n0.3405033\n0.33753246\n0.33708104\n0.33708104\n0.33708104\n0.33530447\n0.33393952\n0.33193448\n0.33154616\n0.32692185\n0.32692182\n0.3259532\n0.3259532\n0.3213942\n0.3210296\n0.32011622\n0.32011622\n0.32007968\n0.32007968\n0.3194204\n0.31864953\n0.31853926\n0.31853926\n0.31643665\n0.31643665\n0.31484118\n0.31383523\n0.31383523\n0.309741\n0.309741\n0.3082249\n0.3082249\n0.3079968\n0.3078447\n0.3049781\n0.30301332\n0.30301332\n0.30301332\n0.301774\n0.301774\n0.301774\n0.301774\n0.3017352\n0.30006158\n0.2963701\n0.29450694\n0.29219145\n0.29219142\n0.29038218\n0.29038218\n0.29038218\n0.29038218\n0.29038218\n0.29038218\n0.28713757\n0.28136954\n0.28070277\n0.28070277\n0.28061932\n0.27919677\n0.27662617\n0.27586305\n0.27548075\n0.27548075\n0.27548075\n\n\t\n\t\n\t\t\n\t\t\n\t\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnotice that next hit (hit index 101) gets a higher score ****\n0.5121219\n0.51003724\n0.5069748\n0.5029985\n0.50177497\n0.4888686\n0.48786172\n0.48786172\n0.48651582\n0.48609444\n0.4858415\n0.4858415\n0.4858415\n0.48041296\n0.48041296\n0.48041296\n0.4790462\n0.4790462\n0.47041398\n0.47041398\n0.46568614\n0.46559808\n0.46559808\n0.46170923\n0.46090972\n0.4580558\n0.4580558\n0.4558137\n0.45509386\n0.45509386\n0.45473355\n0.45265612\n0.45265612\n0.45038712\n0.4453547\n0.4453547\n0.43905306\n0.43530366\n0.43454987\n0.43454987\n0.43454987\n0.4311416\n0.42942727\n0.4270349\n0.42549676\n0.42511135\n0.4233726\n0.4233726\n0.4233726\n0.42250058\n0.4213351\n0.4213351\n0.4213351\n0.4164436\n0.4164436\n0.4164436\n0.4164436\n0.4105968\n0.40769216\n0.40718925\n0.40486795\n0.40486795\n0.40486795\n0.4007988\n0.39915955\n0.39833736\n0.39833736\n0.39689445\n0.39689445\n0.39689445\n0.39201164\n0.39201164\n0.39201164\n0.39033553\n0.39033553\n0.38462454\n0.38462454\n0.38409147\n0.38409144\n0.38409144\n0.3802311\n0.3802311\n0.3802311\n0.3802311\n0.3802311\n0.3802311\n0.3802311\n0.3802311\n0.37698406\n0.3763312\n0.37633118\n0.37633118\n0.37633118\n0.3712884\n0.3712884\n0.36438113\n0.36438113\n0.3621249\n0.3621249\n0.3621249\n0.3790579\n0.3790579\n0.3790579\n0.3790579\n0.3790579\n0.37869948\n0.37762204\n0.37738222\n0.37291747\n0.37291747\n0.36852145\n0.36332545\n0.36332545\n0.36257714\n0.36257714\n0.36170214\n0.36170214\n0.36170214\n0.3615769\n0.3615769\n0.35206172\n0.35206172\n0.34986898\n0.34986898\n0.34986898\n0.34986898\n0.34883234\n0.34714118\n0.34609634\n0.34609634\n0.34609634\n0.34609634\n0.34609634\n0.34307477\n0.34307477\n0.34254655\n0.34254655\n0.34254655\n0.34254655\n0.34254655\n0.34254652\n0.34042552\n0.33641246\n0.33641246\n0.33641246\n0.33303136\n0.33180574\n0.33166927\n0.3309861\n0.32961556\n0.32961556\n0.32961556\n0.32961556\n0.32727242\n0.32727242\n0.32630277\n0.3235162\n0.32295597\n0.32295597\n0.32295597\n0.32295597\n0.32295597\n0.3191489\n0.314001\n0.314001\n0.31313482\n0.31313482\n0.31313482\n0.30949947\n0.30949947\n0.30949947\n0.30949947\n0.30949947\n0.30448586\n0.30448586\n0.30448586\n0.30448586\n0.30448586\n0.30448586\n0.30448586\n0.30089647\n0.29787233\n0.29787233\n0.29787233\n0.29787233\n0.29665402\n0.29665402\n0.29665402\n0.29665402\n0.29665402\n0.29604298\n0.29604298\n0.29604298\n0.29604298\n0.2949706\n0.2949706\n0.2949706\n0.2949706\n0.2949706\n0.28545544\n0.28545544\n0.28545544\n0.28545544\n0.28545544\n0.28545544\n0.28545544\n0.28545544\n0.28545544\n0.28545544\n0.28545544\n0.28545544\n0.2825865\n0.2825865\n0.2825865\n0.2825865\n0.2825865\n0.2825865\n0.28017324\n0.28017324\n0.27968806\n0.27968806\n0.27692282\n0.2765957\n0.27594024\n0.27594024\n0.27594024\n0.27594024\n0.27594024\n0.26913\n0.26913\n0.26913\n0.26913\n0.26913\n0.26913\n0.26642507\n0.26642507\n0.26642507\n0.26642507\n0.26642507\n0.26642507\n0.26369244\n0.26369244\n0.26369244\n0.26369244\n0.2569099\n0.2569099\n0.2569099\n0.25638077\n0.25567347\n0.25567347\n0.25174803\n0.25174803\n0.24739473\n0.24739473\n0.24739473\n0.24739473\n0.24739473\n0.24739473\n0.24739473\n0.24739473\n0.24739473\n0.24721168\n0.24721168\n0.242217\n0.242217\n0.242217\n0.23787954\n0.23787954\n0.23787954\n0.23787954\n0.23404256\n0.23404256\n0.23073089\n0.23073089\n0.23073089\n0.2287605\n0.2287605\n0.2287605\n0.2287605\n0.2287605\n0.22836436\n0.22836436\n0.22836436\n0.22836436\n0.22836436\n0.22836436\n0.22836436\n0.22836436\n0.22836436\n0.22836436\n0.22836436\n0.21884918\n0.21884918\n0.21884918\n0.21884918\n0.21884918\n0.21884918\n0.21884918\n0.21884918\n0.21884918\n0.2188492\n0.21530402\n0.21530402\n0.21530402\n0.21530402\n0.21530402\n0.209334\n0.209334\n0.209334\n0.209334\n0.209334\n0.209334\n0.209334\n0.209334\n0.209334\n0.209334\n0.2018475\n0.2018475\n0.2018475\n0.2018475\n0.19981883\n0.19981883\n0.19981883\n0.19981883\n0.19981883\n0.19981883\n0.19981883\n0.19981883\n0.19776933\n0.19776933\n0.19148938\n0.19148938\n0.19030367\n0.19030367\n0.19030367\n0.19030367\n0.19030367\n0.19030367\n0.19030367\n0.19030367\n0.188391\n0.188391\n0.188391\n0.188391\n0.188391\n0.188391\n0.18128857\n0.18078847\n0.18078847\n0.18078847\n0.18078847\n0.18078847\n0.18078847\n0.18078847\n0.18078847\n0.1749345\n0.17127329\n0.17127329\n0.17127329\n0.17127329\n0.17127329\n0.17127329\n0.17127329\n0.17021276\n0.17021276\n0.17021276\n0.17021276\n0.17021276\n0.1648078\n0.16315141\n0.1617581\n0.1617581\n0.1617581\n0.1617581\n0.1617581\n0.1617581\n0.1617581\n0.1617581\n0.1617581\n0.1617581\n0.1617581\n0.1617581\n0.1617581\n0.1617581\n0.1617581\n0.1617581\n0.1617581\n0.16147801\n0.16147801\n0.15224293\n0.15224293\n0.15224293\n0.15224293\n0.15224293\n0.15224293\n0.15224293\n0.15224293\n0.15224293\n0.14832702\n0.14272773",
    "attachments": {},
    "issue_links": {},
    "comments": [
        {
            "date": "2002-09-04T04:15:12+0000",
            "content": "This isn't a very good bug report.  It doesn't tell what sort of queries cause\nthe problem, which search API is used, more less provide a complete\nself-contained example program which illustrates the problem...\n\nStill, I tracked this down to an interaction between the Hits class and the\nPhraseSearch code.  So, assuming you were only seeing this with queries that\ninclude phrases and when using the Hits-based search API, I think I fixed it. ",
            "author": "cutting@apache.org",
            "id": "comment-12321124"
        },
        {
            "date": "2002-09-21T01:52:30+0000",
            "content": "Doug, thanks for the fix. I can no longer reproduce the problems, so it looks \nlike the right fix.\n ",
            "author": "Dorian Birsan",
            "id": "comment-12321125"
        }
    ]
}