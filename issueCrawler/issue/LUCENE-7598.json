{
    "id": "LUCENE-7598",
    "title": "SolrCore 'recs' is not available due to init failure",
    "details": {
        "labels": "",
        "priority": "Blocker",
        "resolution": "Fixed",
        "affect_versions": "4.5.1",
        "status": "Closed",
        "type": "Bug",
        "components": [
            "core/index"
        ],
        "fix_versions": []
    },
    "description": "Receiving the following error message:\n\nnull:org.apache.solr.common.SolrException: SolrCore 'recs' is not available due to init failure: Error opening new searcher\n         at org.apache.solr.core.CoreContainer.getCore(CoreContainer.java:783)\n         at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:287)\n         at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:195)\n         at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1419)\n         at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:455)\n         at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:137)\n         at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:557)\n         at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:231)\n         at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1075)\n         at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:384)\n         at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:193)\n         at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1009)\n         at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:135)\n         at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:255)\n         at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:154)\n         at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:116)\n         at org.eclipse.jetty.server.Server.handle(Server.java:368)\n         at org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:489)\n         at org.eclipse.jetty.server.BlockingHttpConnection.handleRequest(BlockingHttpConnection.java:53)\n         at org.eclipse.jetty.server.AbstractHttpConnection.content(AbstractHttpConnection.java:953)\n         at org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.content(AbstractHttpConnection.java:1014)\n         at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:861)\n         at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:240)\n         at org.eclipse.jetty.server.BlockingHttpConnection.handle(BlockingHttpConnection.java:72)\n         at org.eclipse.jetty.server.bio.SocketConnector$ConnectorEndPoint.run(SocketConnector.java:264)\n         at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:608)\n         at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:543)\n         at java.lang.Thread.run(Unknown Source)\nCaused by: org.apache.solr.common.SolrException: Error opening new searcher\n         at org.apache.solr.core.SolrCore.<init>(SolrCore.java:834)\n         at org.apache.solr.core.SolrCore.<init>(SolrCore.java:625)\n         at org.apache.solr.core.CoreContainer.createFromLocal(CoreContainer.java:522)\n         at org.apache.solr.core.CoreContainer.create(CoreContainer.java:557)\n         at org.apache.solr.core.CoreContainer$1.call(CoreContainer.java:247)\n         at org.apache.solr.core.CoreContainer$1.call(CoreContainer.java:239)\n         at java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)\n         at java.util.concurrent.FutureTask.run(Unknown Source)\n         at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)\n         at java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)\n         at java.util.concurrent.FutureTask.run(Unknown Source)\n         at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)\n         at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n         ... 1 more\nCaused by: org.apache.solr.common.SolrException: Error opening new searcher\n         at org.apache.solr.core.SolrCore.openNewSearcher(SolrCore.java:1477)\n         at org.apache.solr.core.SolrCore.getSearcher(SolrCore.java:1589)\n         at org.apache.solr.core.SolrCore.<init>(SolrCore.java:821)\n         ... 13 more\nCaused by: java.io.FileNotFoundException: C:\\Apache\\Solr\\example\\multicore\\core0\\data\\index_xzz7.si (The system cannot find the file specified)\n         at java.io.RandomAccessFile.open(Native Method)\n         at java.io.RandomAccessFile.<init>(Unknown Source)\n         at org.apache.lucene.store.MMapDirectory.openInput(MMapDirectory.java:193)\n         at org.apache.lucene.store.NRTCachingDirectory.openInput(NRTCachingDirectory.java:232)\n         at org.apache.lucene.codecs.lucene40.Lucene40SegmentInfoReader.read(Lucene40SegmentInfoReader.java:50)\n         at org.apache.lucene.index.SegmentInfos.read(SegmentInfos.java:334)\n         at org.apache.lucene.index.SegmentInfos$1.doBody(SegmentInfos.java:380)\n         at org.apache.lucene.index.SegmentInfos$FindSegmentsFile.run(SegmentInfos.java:812)\n         at org.apache.lucene.index.SegmentInfos$FindSegmentsFile.run(SegmentInfos.java:663)\n         at org.apache.lucene.index.SegmentInfos.read(SegmentInfos.java:376)\n         at org.apache.lucene.index.IndexWriter.<init>(IndexWriter.java:734)\n         at org.apache.solr.update.SolrIndexWriter.<init>(SolrIndexWriter.java:77)\n         at org.apache.solr.update.SolrIndexWriter.create(SolrIndexWriter.java:64)\n         at org.apache.solr.update.DefaultSolrCoreState.createMainIndexWriter(DefaultSolrCoreState.java:267)\n         at org.apache.solr.update.DefaultSolrCoreState.getIndexWriter(DefaultSolrCoreState.java:110)\n         at org.apache.solr.core.SolrCore.openNewSearcher(SolrCore.java:1440)\n         ... 15 more",
    "attachments": {},
    "issue_links": {},
    "comments": [
        {
            "id": "comment-15762505",
            "date": "2016-12-19T22:32:27+0000",
            "content": "After rebooting the solr server, I began receiving the following message:\n\n17:32:01\nERROR\nSolrDispatchFilter\nnull:org.apache.solr.common.SolrException: SolrCore 'recs' is not available due to init failure: Error opening new searcher\nnull:org.apache.solr.common.SolrException: SolrCore 'recs' is not available due to init failure: Error opening new searcher\n\tat org.apache.solr.core.CoreContainer.getCore(CoreContainer.java:783)\n\tat org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:287)\n\tat org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:195)\n\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1419)\n\tat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:455)\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:137)\n\tat org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:557)\n\tat org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:231)\n\tat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1075)\n\tat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:384)\n\tat org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:193)\n\tat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1009)\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:135)\n\tat org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:255)\n\tat org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:154)\n\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:116)\n\tat org.eclipse.jetty.server.Server.handle(Server.java:368)\n\tat org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:489)\n\tat org.eclipse.jetty.server.BlockingHttpConnection.handleRequest(BlockingHttpConnection.java:53)\n\tat org.eclipse.jetty.server.AbstractHttpConnection.content(AbstractHttpConnection.java:953)\n\tat org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.content(AbstractHttpConnection.java:1014)\n\tat org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:861)\n\tat org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:235)\n\tat org.eclipse.jetty.server.BlockingHttpConnection.handle(BlockingHttpConnection.java:72)\n\tat org.eclipse.jetty.server.bio.SocketConnector$ConnectorEndPoint.run(SocketConnector.java:264)\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:608)\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:543)\n\tat java.lang.Thread.run(Unknown Source)\nCaused by: org.apache.solr.common.SolrException: Error opening new searcher\n\tat org.apache.solr.core.SolrCore.<init>(SolrCore.java:834)\n\tat org.apache.solr.core.SolrCore.<init>(SolrCore.java:625)\n\tat org.apache.solr.core.CoreContainer.createFromLocal(CoreContainer.java:522)\n\tat org.apache.solr.core.CoreContainer.create(CoreContainer.java:557)\n\tat org.apache.solr.core.CoreContainer$1.call(CoreContainer.java:247)\n\tat org.apache.solr.core.CoreContainer$1.call(CoreContainer.java:239)\n\tat java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)\n\tat java.util.concurrent.FutureTask.run(Unknown Source)\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)\n\tat java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)\n\tat java.util.concurrent.FutureTask.run(Unknown Source)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n\t... 1 more\nCaused by: org.apache.solr.common.SolrException: Error opening new searcher\n\tat org.apache.solr.core.SolrCore.openNewSearcher(SolrCore.java:1477)\n\tat org.apache.solr.core.SolrCore.getSearcher(SolrCore.java:1589)\n\tat org.apache.solr.core.SolrCore.<init>(SolrCore.java:821)\n\t... 13 more\nCaused by: java.io.FileNotFoundException: C:\\Apache\\Solr\\example\\multicore\\core0\\data\\index_xzz7.si (The system cannot find the file specified)\n\tat java.io.RandomAccessFile.open(Native Method)\n\tat java.io.RandomAccessFile.<init>(Unknown Source)\n\tat org.apache.lucene.store.MMapDirectory.openInput(MMapDirectory.java:193)\n\tat org.apache.lucene.store.NRTCachingDirectory.openInput(NRTCachingDirectory.java:232)\n\tat org.apache.lucene.codecs.lucene40.Lucene40SegmentInfoReader.read(Lucene40SegmentInfoReader.java:50)\n\tat org.apache.lucene.index.SegmentInfos.read(SegmentInfos.java:334)\n\tat org.apache.lucene.index.SegmentInfos$1.doBody(SegmentInfos.java:380)\n\tat org.apache.lucene.index.SegmentInfos$FindSegmentsFile.run(SegmentInfos.java:812)\n\tat org.apache.lucene.index.SegmentInfos$FindSegmentsFile.run(SegmentInfos.java:663)\n\tat org.apache.lucene.index.SegmentInfos.read(SegmentInfos.java:376)\n\tat org.apache.lucene.index.IndexWriter.<init>(IndexWriter.java:734)\n\tat org.apache.solr.update.SolrIndexWriter.<init>(SolrIndexWriter.java:77)\n\tat org.apache.solr.update.SolrIndexWriter.create(SolrIndexWriter.java:64)\n\tat org.apache.solr.update.DefaultSolrCoreState.createMainIndexWriter(DefaultSolrCoreState.java:267)\n\tat org.apache.solr.update.DefaultSolrCoreState.getIndexWriter(DefaultSolrCoreState.java:110)\n\tat org.apache.solr.core.SolrCore.openNewSearcher(SolrCore.java:1440)\n\t... 15 more ",
            "author": "Brian Kmetz"
        },
        {
            "id": "comment-15764387",
            "date": "2016-12-20T15:00:49+0000",
            "content": "It appears that the \"recs\" core could not be created - cannot read xml config.\n\nnull:org.apache.solr.common.SolrException: SolrCore 'recs' is not available due to init failure: Error opening new searcher\n\tat org.apache.solr.core.CoreContainer.getCore(CoreContainer.java:783)\n\tat org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:287)\n\tat org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:195)\n\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1419)\n\tat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:455)\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:137)\n\tat org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:557)\n\tat org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:231)\n\tat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1075)\n\tat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:384)\n\tat org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:193)\n\tat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1009)\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:135)\n\tat org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:255)\n\tat org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:154)\n\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:116)\n\tat org.eclipse.jetty.server.Server.handle(Server.java:368)\n\tat org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:489)\n\tat org.eclipse.jetty.server.BlockingHttpConnection.handleRequest(BlockingHttpConnection.java:53)\n\tat org.eclipse.jetty.server.AbstractHttpConnection.content(AbstractHttpConnection.java:953)\n\tat org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.content(AbstractHttpConnection.java:1014)\n\tat org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:861)\n\tat org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:240)\n\tat org.eclipse.jetty.server.BlockingHttpConnection.handle(BlockingHttpConnection.java:72)\n\tat org.eclipse.jetty.server.bio.SocketConnector$ConnectorEndPoint.run(SocketConnector.java:264)\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:608)\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:543)\n\tat java.lang.Thread.run(Unknown Source)\nCaused by: org.apache.solr.common.SolrException: Error opening new searcher\n\tat org.apache.solr.core.SolrCore.<init>(SolrCore.java:834)\n\tat org.apache.solr.core.SolrCore.<init>(SolrCore.java:625)\n\tat org.apache.solr.core.CoreContainer.createFromLocal(CoreContainer.java:522)\n\tat org.apache.solr.core.CoreContainer.create(CoreContainer.java:557)\n\tat org.apache.solr.core.CoreContainer$1.call(CoreContainer.java:247)\n\tat org.apache.solr.core.CoreContainer$1.call(CoreContainer.java:239)\n\tat java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)\n\tat java.util.concurrent.FutureTask.run(Unknown Source)\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)\n\tat java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)\n\tat java.util.concurrent.FutureTask.run(Unknown Source)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n\t... 1 more\nCaused by: org.apache.solr.common.SolrException: Error opening new searcher\n\tat org.apache.solr.core.SolrCore.openNewSearcher(SolrCore.java:1477)\n\tat org.apache.solr.core.SolrCore.getSearcher(SolrCore.java:1589)\n\tat org.apache.solr.core.SolrCore.<init>(SolrCore.java:821)\n\t... 13 more\nCaused by: java.io.FileNotFoundException: C:\\Apache\\Solr\\example\\multicore\\core0\\data\\index_xzz7.si (The system cannot find the file specified)\n\tat java.io.RandomAccessFile.open(Native Method)\n\tat java.io.RandomAccessFile.<init>(Unknown Source)\n\tat org.apache.lucene.store.MMapDirectory.openInput(MMapDirectory.java:193)\n\tat org.apache.lucene.codecs.lucene40.Lucene40SegmentInfoReader.read(Lucene40SegmentInfoReader.java:50)\n\tat org.apache.lucene.index.SegmentInfos.read(SegmentInfos.java:334)\n\tat org.apache.lucene.index.SegmentInfos$1.doBody(SegmentInfos.java:380)\n\tat org.apache.lucene.index.SegmentInfos$FindSegmentsFile.run(SegmentInfos.java:812)\n\tat org.apache.lucene.index.SegmentInfos$FindSegmentsFile.run(SegmentInfos.java:663)\n\tat org.apache.lucene.index.SegmentInfos.read(SegmentInfos.java:376)\n\tat org.apache.lucene.index.IndexWriter.<init>(IndexWriter.java:734)\n\tat org.apache.solr.update.SolrIndexWriter.<init>(SolrIndexWriter.java:77)\n\tat org.apache.solr.update.SolrIndexWriter.create(SolrIndexWriter.java:64)\n\tat org.apache.solr.update.DefaultSolrCoreState.createMainIndexWriter(DefaultSolrCoreState.java:267)\n\tat org.apache.solr.update.DefaultSolrCoreState.getIndexWriter(DefaultSolrCoreState.java:110)\n\tat org.apache.solr.core.SolrCore.openNewSearcher(SolrCore.java:1440)\n\t... 15 more ",
            "author": "Brian Kmetz"
        },
        {
            "id": "comment-15764835",
            "date": "2016-12-20T18:06:34+0000",
            "content": "Why do you say it can't find solrconfig.xml? The error message is about one of the index files. Or is there more to the stack trace?\n\nIf it really is solrconfig.xml, that's often the result of the config being mal-formed XML. In that case though there's usually an explicit message in the solr log file.\n\nAnd, FWIW there is very little likelihood that a patch will be produced for 4.5, that's over 3 years old. Do you know if this can be reproduced on a more recent Solr, preferably 6x? ",
            "author": "Erick Erickson"
        },
        {
            "id": "comment-15764851",
            "date": "2016-12-20T18:12:47+0000",
            "content": "Originally it was pointing to the fact that it could not find solrconfig.xml. Now it appears that it cannot find a resource. What can I do to correct this issue?\n\nCaused by: java.io.IOException: Can't find resource 'solrconfig.xml' in classpath or 'multicore\\multicore\\core0\\conf/', cwd=C:\\Apache\\Solr\\example ",
            "author": "Brian Kmetz"
        },
        {
            "id": "comment-15764868",
            "date": "2016-12-20T18:20:58+0000",
            "content": "OK, you must give a lot more background here, including the sequence of events that lead up to this state. It sounds like you manually manipulated the directories, moving things around maybe? Copying from one place to another? If so how? Why? What were you trying to accomplish if so? Were you copying while the index was actively getting documents added (assuming you were, indeed, copying)?\n\nBecause this is sounding like pilot error, nothing to do with Lucene or Solr really.\n\nYou can try using the CheckIndex tool, see: https://dzone.com/articles/lucene-and-solrs-checkindex for the background although you'll have to use up-to-date jars. Do be aware that the fix option will fix your index by removing everything it can't understand. ",
            "author": "Erick Erickson"
        },
        {
            "id": "comment-15767040",
            "date": "2016-12-21T13:21:16+0000",
            "content": "Thank you for your help. This issue has been corrected. ",
            "author": "Brian Kmetz"
        },
        {
            "id": "comment-15767045",
            "date": "2016-12-21T13:23:14+0000",
            "content": "Archived off the \"data\" directory in core0 and ran a re-index. ",
            "author": "Brian Kmetz"
        },
        {
            "id": "comment-15767046",
            "date": "2016-12-21T13:23:32+0000",
            "content": "Issue resolved ",
            "author": "Brian Kmetz"
        }
    ]
}