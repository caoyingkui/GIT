{
    "id": "SOLR-7434",
    "title": "Adding coreName to each log entry",
    "details": {
        "components": [
            "SolrCloud"
        ],
        "type": "Improvement",
        "labels": "",
        "fix_versions": [
            "5.1"
        ],
        "affect_versions": "4.7",
        "status": "Resolved",
        "resolution": "Duplicate",
        "priority": "Major"
    },
    "description": "Could you please add [core name] to each log entry? Thanks!\nFor example, it's hard for us to know the exact core having a such issue and the sequence, if there are too many cores in a solr node.\n\nThis line is a good example:\n2015-04-16 13:12:07.244; org.apache.solr.core.SolrCore; [collection3_shard5_replica2] PERFORMANCE WARNING: Overlapping onDeckSearchers=2\n\nThis is a bad example:\nWARN  - 2015-04-16 13:12:11.136; org.apache.solr.handler.SnapPuller$DirectoryFileFetcher; Error in fetching packets \njava.io.EOFException\n\tat org.apache.solr.common.util.FastInputStream.readFully(FastInputStream.java:154)\n\tat org.apache.solr.common.util.FastInputStream.readFully(FastInputStream.java:146)\n\tat org.apache.solr.handler.SnapPuller$DirectoryFileFetcher.fetchPackets(SnapPuller.java:1211)\n\tat org.apache.solr.handler.SnapPuller$DirectoryFileFetcher.fetchFile(SnapPuller.java:1174)\n\tat org.apache.solr.handler.SnapPuller.downloadIndexFiles(SnapPuller.java:771)\n\tat org.apache.solr.handler.SnapPuller.fetchLatestIndex(SnapPuller.java:421)\n\tat org.apache.solr.handler.ReplicationHandler.doFetch(ReplicationHandler.java:322)\n\tat org.apache.solr.cloud.RecoveryStrategy.replicate(RecoveryStrategy.java:155)\n\tat org.apache.solr.cloud.RecoveryStrategy.doRecovery(RecoveryStrategy.java:437)\n\tat org.apache.solr.cloud.RecoveryStrategy.run(RecoveryStrategy.java:247)\nWARN  - 2015-04-16 13:12:11.287; org.apache.solr.handler.SnapPuller$DirectoryFileFetcher; Error in fetching packets \njava.io.EOFException\n\tat org.apache.solr.common.util.FastInputStream.readFully(FastInputStream.java:154)\n\tat org.apache.solr.common.util.FastInputStream.readFully(FastInputStream.java:146)\n\tat org.apache.solr.handler.SnapPuller$DirectoryFileFetcher.fetchPackets(SnapPuller.java:1211)\n\tat org.apache.solr.handler.SnapPuller$DirectoryFileFetcher.fetchFile(SnapPuller.java:1174)\n\tat org.apache.solr.handler.SnapPuller.downloadIndexFiles(SnapPuller.java:771)\n\tat org.apache.solr.handler.SnapPuller.fetchLatestIndex(SnapPuller.java:421)\n\tat org.apache.solr.handler.ReplicationHandler.doFetch(ReplicationHandler.java:322)\n\tat org.apache.solr.cloud.RecoveryStrategy.replicate(RecoveryStrategy.java:155)\n\tat org.apache.solr.cloud.RecoveryStrategy.doRecovery(RecoveryStrategy.java:437)\n\tat org.apache.solr.cloud.RecoveryStrategy.run(RecoveryStrategy.java:247)\nWARN  - 2015-04-16 13:12:11.465; org.apache.solr.handler.SnapPuller$DirectoryFileFetcher; Error in fetching packets \njava.io.EOFException\n\tat org.apache.solr.common.util.FastInputStream.readFully(FastInputStream.java:154)\n\tat org.apache.solr.common.util.FastInputStream.readFully(FastInputStream.java:146)\n\tat org.apache.solr.handler.SnapPuller$DirectoryFileFetcher.fetchPackets(SnapPuller.java:1211)\n\tat org.apache.solr.handler.SnapPuller$DirectoryFileFetcher.fetchFile(SnapPuller.java:1174)\n\tat org.apache.solr.handler.SnapPuller.downloadIndexFiles(SnapPuller.java:771)\n\tat org.apache.solr.handler.SnapPuller.fetchLatestIndex(SnapPuller.java:421)\n\tat org.apache.solr.handler.ReplicationHandler.doFetch(ReplicationHandler.java:322)\n\tat org.apache.solr.cloud.RecoveryStrategy.replicate(RecoveryStrategy.java:155)\n\tat org.apache.solr.cloud.RecoveryStrategy.doRecovery(RecoveryStrategy.java:437)\n\tat org.apache.solr.cloud.RecoveryStrategy.run(RecoveryStrategy.java:247)\nWARN  - 2015-04-16 13:12:11.586; org.apache.solr.handler.SnapPuller$DirectoryFileFetcher; Error in fetching packets \njava.io.EOFException\n\tat org.apache.solr.common.util.FastInputStream.readFully(FastInputStream.java:154)\n\tat org.apache.solr.common.util.FastInputStream.readFully(FastInputStream.java:146)\n\tat org.apache.solr.handler.SnapPuller$DirectoryFileFetcher.fetchPackets(SnapPuller.java:1211)\n\tat org.apache.solr.handler.SnapPuller$DirectoryFileFetcher.fetchFile(SnapPuller.java:1174)\n\tat org.apache.solr.handler.SnapPuller.downloadIndexFiles(SnapPuller.java:771)\n\tat org.apache.solr.handler.SnapPuller.fetchLatestIndex(SnapPuller.java:421)\n\tat org.apache.solr.handler.ReplicationHandler.doFetch(ReplicationHandler.java:322)\n\tat org.apache.solr.cloud.RecoveryStrategy.replicate(RecoveryStrategy.java:155)\n\tat org.apache.solr.cloud.RecoveryStrategy.doRecovery(RecoveryStrategy.java:437)\n\tat org.apache.solr.cloud.RecoveryStrategy.run(RecoveryStrategy.java:247)\nWARN  - 2015-04-16 13:12:11.768; org.apache.solr.handler.SnapPuller$DirectoryFileFetcher; Error in fetching packets \njava.io.EOFException\n\tat org.apache.solr.common.util.FastInputStream.readFully(FastInputStream.java:154)\n\tat org.apache.solr.common.util.FastInputStream.readFully(FastInputStream.java:146)\n\tat org.apache.solr.handler.SnapPuller$DirectoryFileFetcher.fetchPackets(SnapPuller.java:1211)\n\tat org.apache.solr.handler.SnapPuller$DirectoryFileFetcher.fetchFile(SnapPuller.java:1174)\n\tat org.apache.solr.handler.SnapPuller.downloadIndexFiles(SnapPuller.java:771)\n\tat org.apache.solr.handler.SnapPuller.fetchLatestIndex(SnapPuller.java:421)\n\tat org.apache.solr.handler.ReplicationHandler.doFetch(ReplicationHandler.java:322)\n\tat org.apache.solr.cloud.RecoveryStrategy.replicate(RecoveryStrategy.java:155)\n\tat org.apache.solr.cloud.RecoveryStrategy.doRecovery(RecoveryStrategy.java:437)\n\tat org.apache.solr.cloud.RecoveryStrategy.run(RecoveryStrategy.java:247)\nWARN  - 2015-04-16 13:12:11.895; org.apache.solr.handler.SnapPuller$DirectoryFileFetcher; Error in fetching packets \njava.io.EOFException\n\tat org.apache.solr.common.util.FastInputStream.readFully(FastInputStream.java:154)\n\tat org.apache.solr.common.util.FastInputStream.readFully(FastInputStream.java:146)\n\tat org.apache.solr.handler.SnapPuller$DirectoryFileFetcher.fetchPackets(SnapPuller.java:1211)\n\tat org.apache.solr.handler.SnapPuller$DirectoryFileFetcher.fetchFile(SnapPuller.java:1174)\n\tat org.apache.solr.handler.SnapPuller.downloadIndexFiles(SnapPuller.java:771)\n\tat org.apache.solr.handler.SnapPuller.fetchLatestIndex(SnapPuller.java:421)\n\tat org.apache.solr.handler.ReplicationHandler.doFetch(ReplicationHandler.java:322)\n\tat org.apache.solr.cloud.RecoveryStrategy.replicate(RecoveryStrategy.java:155)\n\tat org.apache.solr.cloud.RecoveryStrategy.doRecovery(RecoveryStrategy.java:437)\n\tat org.apache.solr.cloud.RecoveryStrategy.run(RecoveryStrategy.java:247)\nERROR - 2015-04-16 13:12:11.924; org.apache.solr.common.SolrException; SnapPull failed :org.apache.solr.common.SolrException: Unable to download segments_1a8f completely. Downloaded 0!=931\n\tat org.apache.solr.handler.SnapPuller$DirectoryFileFetcher.cleanup(SnapPuller.java:1305)\n\tat org.apache.solr.handler.SnapPuller$DirectoryFileFetcher.fetchFile(SnapPuller.java:1185)\n\tat org.apache.solr.handler.SnapPuller.downloadIndexFiles(SnapPuller.java:771)\n\tat org.apache.solr.handler.SnapPuller.fetchLatestIndex(SnapPuller.java:421)\n\tat org.apache.solr.handler.ReplicationHandler.doFetch(ReplicationHandler.java:322)\n\tat org.apache.solr.cloud.RecoveryStrategy.replicate(RecoveryStrategy.java:155)\n\tat org.apache.solr.cloud.RecoveryStrategy.doRecovery(RecoveryStrategy.java:437)\n\tat org.apache.solr.cloud.RecoveryStrategy.run(RecoveryStrategy.java:247)\n\nERROR - 2015-04-16 13:12:11.924; org.apache.solr.common.SolrException; Error while trying to recover:org.apache.solr.common.SolrException: Replication for recovery failed.\n\tat org.apache.solr.cloud.RecoveryStrategy.replicate(RecoveryStrategy.java:158)\n\tat org.apache.solr.cloud.RecoveryStrategy.doRecovery(RecoveryStrategy.java:437)\n\tat org.apache.solr.cloud.RecoveryStrategy.run(RecoveryStrategy.java:247)",
    "attachments": {},
    "issue_links": {},
    "comments": [
        {
            "date": "2015-04-21T07:12:09+0000",
            "author": "Ramkumar Aiyengar",
            "content": "This should already be there with Solr 5.1. See SOLR-6673 ",
            "id": "comment-14504474"
        },
        {
            "date": "2015-04-21T15:25:08+0000",
            "author": "Erick Erickson",
            "content": "Dupe of SOLR-6673, we can re-open if you see similar behavior after applying that fix. ",
            "id": "comment-14505107"
        }
    ]
}