{
    "id": "LUCENE-4468",
    "title": "BlockPF.PosVIntBlockFPDelta should be a vlong",
    "details": {
        "components": [
            "core/codecs"
        ],
        "fix_versions": [
            "4.1",
            "6.0"
        ],
        "affect_versions": "None",
        "priority": "Major",
        "labels": "",
        "type": "Bug",
        "resolution": "Fixed",
        "status": "Closed"
    },
    "description": "It seems a stopword for a large collection could easily blow this out of the water.\n\nWe need a Test2BPositions!",
    "attachments": {
        "LUCENE-4468_test.patch": "https://issues.apache.org/jira/secure/attachment/12548429/LUCENE-4468_test.patch",
        "LUCENE-4468.patch": "https://issues.apache.org/jira/secure/attachment/12548439/LUCENE-4468.patch"
    },
    "issue_links": {},
    "comments": [
        {
            "date": "2012-10-09T16:26:23+0000",
            "content": "and skipFPdelta still smells bad too being vint (as it always did in 3.x too in my opinion) ",
            "author": "Robert Muir",
            "id": "comment-13472518"
        },
        {
            "date": "2012-10-09T17:43:52+0000",
            "content": "Here's a test (that actually fails, unlike the other Test2B*'s which are currently screwed).\n\nBefore fixing this we need to fix LUCENE-4469. We could have serious bugs and not know.\n\n\ntest:\n[junit4:junit4] <JUnit4> says \u05e9\u05dc\u05d5\u05dd! Master seed: 205C2D17810CCDC0\n[junit4:junit4] Executing 1 suite with 1 JVM.\n[junit4:junit4] \n[junit4:junit4] Suite: org.apache.lucene.index.Test2BPositions\n[junit4:junit4] HEARTBEAT J0: 2012-10-09T13:35:23, stalled for 71.4s at: Test2BPositions.test\n[junit4:junit4] HEARTBEAT J0: 2012-10-09T13:36:23, stalled for  131s at: Test2BPositions.test\n[junit4:junit4] HEARTBEAT J0: 2012-10-09T13:37:23, stalled for  191s at: Test2BPositions.test\n[junit4:junit4] HEARTBEAT J0: 2012-10-09T13:38:23, stalled for  251s at: Test2BPositions.test\n[junit4:junit4] HEARTBEAT J0: 2012-10-09T13:39:23, stalled for  311s at: Test2BPositions.test\n[junit4:junit4] HEARTBEAT J0: 2012-10-09T13:40:23, stalled for  371s at: Test2BPositions.test\n[junit4:junit4] HEARTBEAT J0: 2012-10-09T13:41:23, stalled for  431s at: Test2BPositions.test\n[junit4:junit4]   1> CheckIndex failed\n[junit4:junit4]   1> Segments file=segments_1 numSegments=1 version=5.0 format=\n[junit4:junit4]   1>   1 of 1: name=_j docCount=82595525\n[junit4:junit4]   1>     codec=Lucene40\n[junit4:junit4]   1>     compound=false\n[junit4:junit4]   1>     numFiles=8\n[junit4:junit4]   1>     size (MB)=3,820.005\n[junit4:junit4]   1>     diagnostics = {os=Linux, os.version=3.2.0-24-generic, mergeFactor=9, source=merge, lucene.version=5.0-SNAPSHOT, os.arch=amd64, mergeMaxNumSegments=1, java.version=1.7.0_01, java.vendor=Oracle Corporation}\n[junit4:junit4]   1>     no deletions\n[junit4:junit4]   1>     test: open reader.........OK\n[junit4:junit4]   1>     test: fields..............OK [1 fields]\n[junit4:junit4]   1>     test: field norms.........OK [0 fields]\n[junit4:junit4]   1>     test: terms, freq, prox...ERROR: java.io.EOFException: read past EOF: SimpleFSIndexInput(path=\"/home/rmuir/workspace/lucene-trunk/lucene/build/core/test/J0/2BPositions2255022550tmp/_j_Block_0.pos\")\n[junit4:junit4]   1> java.io.EOFException: read past EOF: SimpleFSIndexInput(path=\"/home/rmuir/workspace/lucene-trunk/lucene/build/core/test/J0/2BPositions2255022550tmp/_j_Block_0.pos\")\n[junit4:junit4]   1> \tat org.apache.lucene.store.BufferedIndexInput.refill(BufferedIndexInput.java:266)\n[junit4:junit4]   1> \tat org.apache.lucene.store.BufferedIndexInput.readBytes(BufferedIndexInput.java:138)\n[junit4:junit4]   1> \tat org.apache.lucene.store.BufferedIndexInput.readBytes(BufferedIndexInput.java:113)\n[junit4:junit4]   1> \tat org.apache.lucene.store.MockIndexInputWrapper.readBytes(MockIndexInputWrapper.java:118)\n[junit4:junit4]   1> \tat org.apache.lucene.codecs.block.ForUtil.readBlock(ForUtil.java:198)\n[junit4:junit4]   1> \tat org.apache.lucene.codecs.block.BlockPostingsReader$BlockDocsAndPositionsEnum.refillPositions(BlockPostingsReader.java:740)\n[junit4:junit4]   1> \tat org.apache.lucene.codecs.block.BlockPostingsReader$BlockDocsAndPositionsEnum.nextPosition(BlockPostingsReader.java:937)\n[junit4:junit4]   1> \tat org.apache.lucene.index.CheckIndex.checkFields(CheckIndex.java:848)\n[junit4:junit4]   1> \tat org.apache.lucene.index.CheckIndex.testPostings(CheckIndex.java:1177)\n[junit4:junit4]   1> \tat org.apache.lucene.index.CheckIndex.checkIndex(CheckIndex.java:598)\n[junit4:junit4]   1> \tat org.apache.lucene.util._TestUtil.checkIndex(_TestUtil.java:199)\n[junit4:junit4]   1> \tat org.apache.lucene.store.MockDirectoryWrapper.close(MockDirectoryWrapper.java:605)\n[junit4:junit4]   1> \tat org.apache.lucene.index.Test2BPositions.test(Test2BPositions.java:81)\n[junit4:junit4]   1> \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n[junit4:junit4]   1> \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n[junit4:junit4]   1> \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n[junit4:junit4]   1> \tat java.lang.reflect.Method.invoke(Method.java:601)\n[junit4:junit4]   1> \tat com.carrotsearch.randomizedtesting.RandomizedRunner.invoke(RandomizedRunner.java:1559)\n[junit4:junit4]   1> \tat com.carrotsearch.randomizedtesting.RandomizedRunner.access$600(RandomizedRunner.java:79)\n[junit4:junit4]   1> \tat com.carrotsearch.randomizedtesting.RandomizedRunner$6.evaluate(RandomizedRunner.java:737)\n[junit4:junit4]   1> \tat com.carrotsearch.randomizedtesting.RandomizedRunner$7.evaluate(RandomizedRunner.java:773)\n[junit4:junit4]   1> \tat com.carrotsearch.randomizedtesting.RandomizedRunner$8.evaluate(RandomizedRunner.java:787)\n[junit4:junit4]   1> \tat org.apache.lucene.util.TestRuleSetupTeardownChained$1.evaluate(TestRuleSetupTeardownChained.java:50)\n[junit4:junit4]   1> \tat org.apache.lucene.util.TestRuleFieldCacheSanity$1.evaluate(TestRuleFieldCacheSanity.java:51)\n[junit4:junit4]   1> \tat org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:45)\n[junit4:junit4]   1> \tat com.carrotsearch.randomizedtesting.rules.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:55)\n[junit4:junit4]   1> \tat org.apache.lucene.util.TestRuleThreadAndTestName$1.evaluate(TestRuleThreadAndTestName.java:48)\n[junit4:junit4]   1> \tat org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:70)\n[junit4:junit4]   1> \tat org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:48)\n[junit4:junit4]   1> \tat com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\n[junit4:junit4]   1> \tat com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:358)\n[junit4:junit4]   1> \tat com.carrotsearch.randomizedtesting.ThreadLeakControl.forkTimeoutingTask(ThreadLeakControl.java:782)\n[junit4:junit4]   1> \tat com.carrotsearch.randomizedtesting.ThreadLeakControl$3.evaluate(ThreadLeakControl.java:442)\n[junit4:junit4]   1> \tat com.carrotsearch.randomizedtesting.RandomizedRunner.runSingleTest(RandomizedRunner.java:746)\n[junit4:junit4]   1> \tat com.carrotsearch.randomizedtesting.RandomizedRunner$3.evaluate(RandomizedRunner.java:648)\n[junit4:junit4]   1> \tat com.carrotsearch.randomizedtesting.RandomizedRunner$4.evaluate(RandomizedRunner.java:682)\n[junit4:junit4]   1> \tat com.carrotsearch.randomizedtesting.RandomizedRunner$5.evaluate(RandomizedRunner.java:693)\n[junit4:junit4]   1> \tat org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:45)\n[junit4:junit4]   1> \tat org.apache.lucene.util.TestRuleStoreClassName$1.evaluate(TestRuleStoreClassName.java:42)\n[junit4:junit4]   1> \tat com.carrotsearch.randomizedtesting.rules.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:55)\n[junit4:junit4]   1> \tat com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:39)\n[junit4:junit4]   1> \tat com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:39)\n[junit4:junit4]   1> \tat com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\n[junit4:junit4]   1> \tat org.apache.lucene.util.TestRuleAssertionsRequired$1.evaluate(TestRuleAssertionsRequired.java:43)\n[junit4:junit4]   1> \tat org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:48)\n[junit4:junit4]   1> \tat org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:70)\n[junit4:junit4]   1> \tat org.apache.lucene.util.TestRuleIgnoreTestSuites$1.evaluate(TestRuleIgnoreTestSuites.java:55)\n[junit4:junit4]   1> \tat com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\n[junit4:junit4]   1> \tat com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:358)\n[junit4:junit4]   1> \tat java.lang.Thread.run(Thread.java:722)\n[junit4:junit4]   1>     test: stored fields.......OK [0 total field count; avg 0 fields per doc]\n[junit4:junit4]   1>     test: term vectors........OK [0 total vector count; avg 0 term/freq vector fields per doc]\n[junit4:junit4]   1>     test: DocValues........OK [0 total doc Count; Num DocValues Fields 0\n[junit4:junit4]   1> FAILED\n[junit4:junit4]   1>     WARNING: fixIndex() would remove reference to this segment; full exception:\n[junit4:junit4]   1> java.lang.RuntimeException: Term Index test failed\n[junit4:junit4]   1> \tat org.apache.lucene.index.CheckIndex.checkIndex(CheckIndex.java:613)\n[junit4:junit4]   1> \tat org.apache.lucene.util._TestUtil.checkIndex(_TestUtil.java:199)\n[junit4:junit4]   1> \tat org.apache.lucene.store.MockDirectoryWrapper.close(MockDirectoryWrapper.java:605)\n[junit4:junit4]   1> \tat org.apache.lucene.index.Test2BPositions.test(Test2BPositions.java:81)\n[junit4:junit4]   1> \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n[junit4:junit4]   1> \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n[junit4:junit4]   1> \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n[junit4:junit4]   1> \tat java.lang.reflect.Method.invoke(Method.java:601)\n[junit4:junit4]   1> \tat com.carrotsearch.randomizedtesting.RandomizedRunner.invoke(RandomizedRunner.java:1559)\n[junit4:junit4]   1> \tat com.carrotsearch.randomizedtesting.RandomizedRunner.access$600(RandomizedRunner.java:79)\n[junit4:junit4]   1> \tat com.carrotsearch.randomizedtesting.RandomizedRunner$6.evaluate(RandomizedRunner.java:737)\n[junit4:junit4]   1> \tat com.carrotsearch.randomizedtesting.RandomizedRunner$7.evaluate(RandomizedRunner.java:773)\n[junit4:junit4]   1> \tat com.carrotsearch.randomizedtesting.RandomizedRunner$8.evaluate(RandomizedRunner.java:787)\n[junit4:junit4]   1> \tat org.apache.lucene.util.TestRuleSetupTeardownChained$1.evaluate(TestRuleSetupTeardownChained.java:50)\n[junit4:junit4]   1> \tat org.apache.lucene.util.TestRuleFieldCacheSanity$1.evaluate(TestRuleFieldCacheSanity.java:51)\n[junit4:junit4]   1> \tat org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:45)\n[junit4:junit4]   1> \tat com.carrotsearch.randomizedtesting.rules.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:55)\n[junit4:junit4]   1> \tat org.apache.lucene.util.TestRuleThreadAndTestName$1.evaluate(TestRuleThreadAndTestName.java:48)\n[junit4:junit4]   1> \tat org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:70)\n[junit4:junit4]   1> \tat org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:48)\n[junit4:junit4]   1> \tat com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\n[junit4:junit4]   1> \tat com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:358)\n[junit4:junit4]   1> \tat com.carrotsearch.randomizedtesting.ThreadLeakControl.forkTimeoutingTask(ThreadLeakControl.java:782)\n[junit4:junit4]   1> \tat com.carrotsearch.randomizedtesting.ThreadLeakControl$3.evaluate(ThreadLeakControl.java:442)\n[junit4:junit4]   1> \tat com.carrotsearch.randomizedtesting.RandomizedRunner.runSingleTest(RandomizedRunner.java:746)\n[junit4:junit4]   1> \tat com.carrotsearch.randomizedtesting.RandomizedRunner$3.evaluate(RandomizedRunner.java:648)\n[junit4:junit4]   1> \tat com.carrotsearch.randomizedtesting.RandomizedRunner$4.evaluate(RandomizedRunner.java:682)\n[junit4:junit4]   1> \tat com.carrotsearch.randomizedtesting.RandomizedRunner$5.evaluate(RandomizedRunner.java:693)\n[junit4:junit4]   1> \tat org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:45)\n[junit4:junit4]   1> \tat org.apache.lucene.util.TestRuleStoreClassName$1.evaluate(TestRuleStoreClassName.java:42)\n[junit4:junit4]   1> \tat com.carrotsearch.randomizedtesting.rules.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:55)\n[junit4:junit4]   1> \tat com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:39)\n[junit4:junit4]   1> \tat com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:39)\n[junit4:junit4]   1> \tat com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\n[junit4:junit4]   1> \tat org.apache.lucene.util.TestRuleAssertionsRequired$1.evaluate(TestRuleAssertionsRequired.java:43)\n[junit4:junit4]   1> \tat org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:48)\n[junit4:junit4]   1> \tat org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:70)\n[junit4:junit4]   1> \tat org.apache.lucene.util.TestRuleIgnoreTestSuites$1.evaluate(TestRuleIgnoreTestSuites.java:55)\n[junit4:junit4]   1> \tat com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\n[junit4:junit4]   1> \tat com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:358)\n[junit4:junit4]   1> \tat java.lang.Thread.run(Thread.java:722)\n[junit4:junit4]   1> \n[junit4:junit4]   1> WARNING: 1 broken segments (containing 82595525 documents) detected\n[junit4:junit4]   1> \n[junit4:junit4]   2> NOTE: reproduce with: ant test  -Dtestcase=Test2BPositions -Dtests.method=test -Dtests.seed=205C2D17810CCDC0 -Dtests.nightly=true -Dtests.slow=true -Dtests.codec=Lucene40 -Dtests.postingsformat=Block -Dtests.locale=cs_CZ -Dtests.timezone=Pacific/Niue -Dtests.file.encoding=UTF-8\n[junit4:junit4] ERROR    476s | Test2BPositions.test <<<\n[junit4:junit4]    > Throwable #1: java.lang.RuntimeException: CheckIndex failed\n[junit4:junit4]    > \tat __randomizedtesting.SeedInfo.seed([205C2D17810CCDC0:A80812CD2FF0A038]:0)\n[junit4:junit4]    > \tat org.apache.lucene.util._TestUtil.checkIndex(_TestUtil.java:203)\n[junit4:junit4]    > \tat org.apache.lucene.store.MockDirectoryWrapper.close(MockDirectoryWrapper.java:605)\n[junit4:junit4]    > \tat org.apache.lucene.index.Test2BPositions.test(Test2BPositions.java:81)\n[junit4:junit4]    > \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n[junit4:junit4]    > \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n[junit4:junit4]    > \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n[junit4:junit4]    > \tat java.lang.reflect.Method.invoke(Method.java:601)\n[junit4:junit4]    > \tat com.carrotsearch.randomizedtesting.RandomizedRunner.invoke(RandomizedRunner.java:1559)\n[junit4:junit4]    > \tat com.carrotsearch.randomizedtesting.RandomizedRunner.access$600(RandomizedRunner.java:79)\n[junit4:junit4]    > \tat com.carrotsearch.randomizedtesting.RandomizedRunner$6.evaluate(RandomizedRunner.java:737)\n[junit4:junit4]    > \tat com.carrotsearch.randomizedtesting.RandomizedRunner$7.evaluate(RandomizedRunner.java:773)\n[junit4:junit4]    > \tat com.carrotsearch.randomizedtesting.RandomizedRunner$8.evaluate(RandomizedRunner.java:787)\n[junit4:junit4]    > \tat org.apache.lucene.util.TestRuleSetupTeardownChained$1.evaluate(TestRuleSetupTeardownChained.java:50)\n[junit4:junit4]    > \tat org.apache.lucene.util.TestRuleFieldCacheSanity$1.evaluate(TestRuleFieldCacheSanity.java:51)\n[junit4:junit4]    > \tat org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:45)\n[junit4:junit4]    > \tat com.carrotsearch.randomizedtesting.rules.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:55)\n[junit4:junit4]    > \tat org.apache.lucene.util.TestRuleThreadAndTestName$1.evaluate(TestRuleThreadAndTestName.java:48)\n[junit4:junit4]    > \tat org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:70)\n[junit4:junit4]    > \tat org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:48)\n[junit4:junit4]    > \tat com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\n[junit4:junit4]    > \tat com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:358)\n[junit4:junit4]    > \tat com.carrotsearch.randomizedtesting.ThreadLeakControl.forkTimeoutingTask(ThreadLeakControl.java:782)\n[junit4:junit4]    > \tat com.carrotsearch.randomizedtesting.ThreadLeakControl$3.evaluate(ThreadLeakControl.java:442)\n[junit4:junit4]    > \tat com.carrotsearch.randomizedtesting.RandomizedRunner.runSingleTest(RandomizedRunner.java:746)\n[junit4:junit4]    > \tat com.carrotsearch.randomizedtesting.RandomizedRunner$3.evaluate(RandomizedRunner.java:648)\n[junit4:junit4]    > \tat com.carrotsearch.randomizedtesting.RandomizedRunner$4.evaluate(RandomizedRunner.java:682)\n[junit4:junit4]    > \tat com.carrotsearch.randomizedtesting.RandomizedRunner$5.evaluate(RandomizedRunner.java:693)\n[junit4:junit4]    > \tat org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:45)\n[junit4:junit4]    > \tat org.apache.lucene.util.TestRuleStoreClassName$1.evaluate(TestRuleStoreClassName.java:42)\n[junit4:junit4]    > \tat com.carrotsearch.randomizedtesting.rules.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:55)\n[junit4:junit4]    > \tat com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:39)\n[junit4:junit4]    > \tat com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:39)\n[junit4:junit4]    > \tat com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\n[junit4:junit4]    > \tat org.apache.lucene.util.TestRuleAssertionsRequired$1.evaluate(TestRuleAssertionsRequired.java:43)\n[junit4:junit4]    > \tat org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:48)\n[junit4:junit4]    > \tat org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:70)\n[junit4:junit4]    > \tat org.apache.lucene.util.TestRuleIgnoreTestSuites$1.evaluate(TestRuleIgnoreTestSuites.java:55)\n[junit4:junit4]    > \tat com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\n[junit4:junit4]    > \tat com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:358)\n[junit4:junit4]    > \tat java.lang.Thread.run(Thread.java:722)\n[junit4:junit4]   2> NOTE: test params are: codec=Lucene40: Block(blocksize=128), sim=RandomSimilarityProvider(queryNorm=false,coord=no): {}, locale=cs_CZ, timezone=Pacific/Niue\n[junit4:junit4]   2> NOTE: Linux 3.2.0-24-generic amd64/Oracle Corporation 1.7.0_01 (64-bit)/cpus=8,threads=1,free=340826048,total=355467264\n[junit4:junit4]   2> NOTE: All tests run in this JVM: [Test2BPositions]\n[junit4:junit4] Completed in 475.93s, 1 test, 1 error <<< FAILURES!\n[junit4:junit4] \n[junit4:junit4] \n[junit4:junit4] Tests with failures:\n[junit4:junit4]   - org.apache.lucene.index.Test2BPositions.test\n[junit4:junit4] \n[junit4:junit4] \n[junit4:junit4] JVM J0:     0.38 ..   476.92 =   476.54s\n[junit4:junit4] Execution time total: 7 minutes 56 seconds\n[junit4:junit4] Tests summary: 1 suite, 1 test, 1 error\n\nBUILD FAILED\n/home/rmuir/workspace/lucene-trunk/lucene/common-build.xml:1143: The following error occurred while executing this line:\n/home/rmuir/workspace/lucene-trunk/lucene/common-build.xml:816: There were test failures: 1 suite, 1 test, 1 error\n\nTotal time: 7 minutes 58 seconds\n\n ",
            "author": "Robert Muir",
            "id": "comment-13472583"
        },
        {
            "date": "2012-10-09T19:14:21+0000",
            "content": "Patch: Test2BPositions now passes.\n\nI also fixed skipFPDelta.\nI'll see if i can make an additional test that overflows it (Lucene40 should also fail) ",
            "author": "Robert Muir",
            "id": "comment-13472647"
        },
        {
            "date": "2012-10-09T22:27:38+0000",
            "content": "Updated patch with tests for all the overflows. I made them both Ignore'd for now: but Test2BPositions could maybe be a Nightly test, the other one is too absurd. ",
            "author": "Robert Muir",
            "id": "comment-13472804"
        },
        {
            "date": "2012-10-09T22:50:53+0000",
            "content": "+1\n\nNice tests  ",
            "author": "Michael McCandless",
            "id": "comment-13472829"
        },
        {
            "date": "2013-03-22T16:27:30+0000",
            "content": "[branch_4x commit] Robert Muir\nhttp://svn.apache.org/viewvc?view=revision&revision=1396400\n\nLUCENE-4468: fix integer overflows in PosVIntBlockFPDelta,SkipDelta ",
            "author": "Commit Tag Bot",
            "id": "comment-13610694"
        }
    ]
}