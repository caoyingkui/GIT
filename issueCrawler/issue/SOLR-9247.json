{
    "id": "SOLR-9247",
    "title": "SolrCore Initialization Failures - Fail on create a new core",
    "details": {
        "components": [
            "Server"
        ],
        "type": "Bug",
        "labels": "",
        "fix_versions": [],
        "affect_versions": "6.1.1",
        "status": "Closed",
        "resolution": "Invalid",
        "priority": "Major"
    },
    "description": "I try create a new core with info below.\nname: tweets\ninstanceDir: tweets\ndataDir: data\nconfig: solrconfig.xml\nschema: schema.xml\n\nThen I get the error on top view:\nError CREATEing SolrCore 'tweets': Unable to create core [tweets] Caused by: Can't find resource 'solrconfig.xml' in classpath or '/opt/programs/solr/server/solr/tweets'\n\nSolrCore Initialization Failures\ntweets: org.apache.solr.common.SolrException:org.apache.solr.common.SolrException: Could not load conf for core tweets: Error loading solr config from /opt/programs/solr/server/solr/tweets/conf/solrconfig.xml\n\nFollow the my log tail:\n2016-06-23 18:13:18.796 INFO  (qtp225493257-20) [   ] o.a.s.s.HttpSolrCall [admin] webapp=null path=/admin/cores params=\n{indexInfo=false&wt=json&_=1466705604765}\n status=0 QTime=0\n2016-06-23 18:13:18.797 INFO  (qtp225493257-17) [   ] o.a.s.s.HttpSolrCall [admin] webapp=null path=/admin/cores params=\n{wt=json&_=1466705604765}\n status=0 QTime=0\n2016-06-23 18:13:18.800 INFO  (qtp225493257-18) [   ] o.a.s.s.HttpSolrCall [admin] webapp=null path=/admin/info/system params=\n{wt=json&_=1466705604767}\n status=0 QTime=2\n2016-06-23 18:13:20.257 INFO  (qtp225493257-34) [   ] o.a.s.s.HttpSolrCall [admin] webapp=null path=/admin/cores params=\n{indexInfo=false&wt=json&_=1466705606228}\n status=0 QTime=0\n2016-06-23 18:13:20.258 INFO  (qtp225493257-17) [   ] o.a.s.s.HttpSolrCall [admin] webapp=null path=/admin/cores params=\n{wt=json&_=1466705606228}\n status=0 QTime=0\n2016-06-23 18:13:20.261 INFO  (qtp225493257-21) [   ] o.a.s.s.HttpSolrCall [admin] webapp=null path=/admin/info/system params=\n{wt=json&_=1466705606229}\n status=0 QTime=3\n2016-06-23 18:13:30.469 INFO  (qtp225493257-30) [   ] o.a.s.h.a.CoreAdminOperation core create command schema=schema.xml&dataDir=data&name=tweets&action=CREATE&config=solrconfig.xml&instanceDir=tweets&wt=json&_=1466705606228\n2016-06-23 18:13:30.469 INFO  (qtp225493257-30) [   ] o.a.s.c.CoreDescriptor Created CoreDescriptor: \n{name=tweets, config=solrconfig.xml, loadOnStartup=true, schema=schema.xml, configSetProperties=configsetprops.json, transient=false, dataDir=data}\n2016-06-23 18:13:30.469 INFO  (qtp225493257-30) [   ] o.a.s.c.SolrResourceLoader new SolrResourceLoader for directory: '/opt/programs/solr/server/solr/tweets'\n2016-06-23 18:13:30.469 INFO  (qtp225493257-30) [   ] o.a.s.c.SolrResourceLoader JNDI not configured for solr (NoInitialContextEx)\n2016-06-23 18:13:30.469 INFO  (qtp225493257-30) [   ] o.a.s.c.SolrResourceLoader using system property solr.solr.home: /opt/programs/solr/server/solr\n2016-06-23 18:13:30.469 ERROR (qtp225493257-30) [   ] o.a.s.c.CoreContainer Error creating core [tweets]: Could not load conf for core tweets: Error loading solr config from /opt/programs/solr/server/solr/tweets/conf/solrconfig.xml\norg.apache.solr.common.SolrException: Could not load conf for core tweets: Error loading solr config from /opt/programs/solr/server/solr/tweets/conf/solrconfig.xml\n        at org.apache.solr.core.ConfigSetService.getConfig(ConfigSetService.java:86)\n        at org.apache.solr.core.CoreContainer.create(CoreContainer.java:810)\n        at org.apache.solr.core.CoreContainer.create(CoreContainer.java:749)\n        at org.apache.solr.handler.admin.CoreAdminOperation$1.call(CoreAdminOperation.java:119)\n        at org.apache.solr.handler.admin.CoreAdminHandler$CallInfo.call(CoreAdminHandler.java:367)\n        at org.apache.solr.handler.admin.CoreAdminHandler.handleRequestBody(CoreAdminHandler.java:158)\n        at org.apache.solr.handler.RequestHandlerBase.handleRequest(RequestHandlerBase.java:156)\n        at org.apache.solr.servlet.HttpSolrCall.handleAdminRequest(HttpSolrCall.java:663)\n        at org.apache.solr.servlet.HttpSolrCall.call(HttpSolrCall.java:445)\n        at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:257)\n        at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:208)\n        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1668)\n        at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:581)\n        at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\n        at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548)\n        at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:226)\n        at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1160)\n        at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:511)\n        at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185)\n        at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1092)\n        at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\n        at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:213)\n        at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:119)\n        at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:134)\n        at org.eclipse.jetty.server.Server.handle(Server.java:518)\n        at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:308)\n        at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:244)\n        at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:273)\n        at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:95)\n        at org.eclipse.jetty.io.SelectChannelEndPoint$2.run(SelectChannelEndPoint.java:93)\n        at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.produceAndRun(ExecuteProduceConsume.java:246)\n        at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.run(ExecuteProduceConsume.java:156)\n        at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:654)\n        at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:572)\n        at java.lang.Thread.run(Thread.java:745)\nCaused by: org.apache.solr.common.SolrException: Error loading solr config from /opt/programs/solr/server/solr/tweets/conf/solrconfig.xml\n        at org.apache.solr.core.SolrConfig.readFromResourceLoader(SolrConfig.java:172)\n        at org.apache.solr.core.ConfigSetService.createSolrConfig(ConfigSetService.java:98)\n        at org.apache.solr.core.ConfigSetService.getConfig(ConfigSetService.java:78)\n        ... 34 more\nCaused by: org.apache.solr.core.SolrResourceNotFoundException: Can't find resource 'solrconfig.xml' in classpath or '/opt/programs/solr/server/solr/tweets'\n        at org.apache.solr.core.SolrResourceLoader.openResource(SolrResourceLoader.java:386)\n        at org.apache.solr.core.SolrResourceLoader.openConfig(SolrResourceLoader.java:341)\n        at org.apache.solr.core.Config.<init>(Config.java:120)\n        at org.apache.solr.core.Config.<init>(Config.java:90)\n        at org.apache.solr.core.SolrConfig.<init>(SolrConfig.java:187)\n        at org.apache.solr.core.SolrConfig.readFromResourceLoader(SolrConfig.java:164)\n        ... 36 more\n2016-06-23 18:13:30.470 ERROR (qtp225493257-30) [   ] o.a.s.h.RequestHandlerBase org.apache.solr.common.SolrException: Error CREATEing SolrCore 'tweets': Unable to create core [tweets] Caused by: Can't find resource 'solrconfig.xml' in classpath or '/opt/programs/solr/server/solr/tweets'\n        at org.apache.solr.core.CoreContainer.create(CoreContainer.java:783)\n        at org.apache.solr.handler.admin.CoreAdminOperation$1.call(CoreAdminOperation.java:119)\n        at org.apache.solr.handler.admin.CoreAdminHandler$CallInfo.call(CoreAdminHandler.java:367)\n        at org.apache.solr.handler.admin.CoreAdminHandler.handleRequestBody(CoreAdminHandler.java:158)\n        at org.apache.solr.handler.RequestHandlerBase.handleRequest(RequestHandlerBase.java:156)\n        at org.apache.solr.servlet.HttpSolrCall.handleAdminRequest(HttpSolrCall.java:663)\n        at org.apache.solr.servlet.HttpSolrCall.call(HttpSolrCall.java:445)\n        at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:257)\n        at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:208)\n        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1668)\n        at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:581)\n        at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\n        at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548)\n        at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:226)\n        at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1160)\n        at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:511)\n        at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185)\n        at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1092)\n        at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\n        at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:213)\n        at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:119)\n        at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:134)\n        at org.eclipse.jetty.server.Server.handle(Server.java:518)\n        at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:308)\n        at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:244)\n        at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:273)\n        at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:95)\n        at org.eclipse.jetty.io.SelectChannelEndPoint$2.run(SelectChannelEndPoint.java:93)\n        at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.produceAndRun(ExecuteProduceConsume.java:246)\n        at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.run(ExecuteProduceConsume.java:156)\n        at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:654)\n        at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:572)\n        at java.lang.Thread.run(Thread.java:745)\nCaused by: org.apache.solr.common.SolrException: Unable to create core [tweets]\n        at org.apache.solr.core.CoreContainer.create(CoreContainer.java:825)\n        at org.apache.solr.core.CoreContainer.create(CoreContainer.java:749)\n        ... 32 more\nCaused by: org.apache.solr.common.SolrException: Could not load conf for core tweets: Error loading solr config from /opt/programs/solr/server/solr/tweets/conf/solrconfig.xml\n        at org.apache.solr.core.ConfigSetService.getConfig(ConfigSetService.java:86)\n        at org.apache.solr.core.CoreContainer.create(CoreContainer.java:810)\n        ... 33 more\nCaused by: org.apache.solr.common.SolrException: Error loading solr config from /opt/programs/solr/server/solr/tweets/conf/solrconfig.xml\n        at org.apache.solr.core.SolrConfig.readFromResourceLoader(SolrConfig.java:172)\n        at org.apache.solr.core.ConfigSetService.createSolrConfig(ConfigSetService.java:98)\n        at org.apache.solr.core.ConfigSetService.getConfig(ConfigSetService.java:78)\n        ... 34 more\nCaused by: org.apache.solr.core.SolrResourceNotFoundException: Can't find resource 'solrconfig.xml' in classpath or '/opt/programs/solr/server/solr/tweets'\n        at org.apache.solr.core.SolrResourceLoader.openResource(SolrResourceLoader.java:386)\n        at org.apache.solr.core.SolrResourceLoader.openConfig(SolrResourceLoader.java:341)\n        at org.apache.solr.core.Config.<init>(Config.java:120)\n        at org.apache.solr.core.Config.<init>(Config.java:90)\n        at org.apache.solr.core.SolrConfig.<init>(SolrConfig.java:187)\n        at org.apache.solr.core.SolrConfig.readFromResourceLoader(SolrConfig.java:164)\n        ... 36 more\n\n2016-06-23 18:13:30.470 INFO  (qtp225493257-30) [   ] o.a.s.s.HttpSolrCall [admin] webapp=null path=/admin/cores params=\n{schema=schema.xml&dataDir=data&name=tweets&action=CREATE&config=solrconfig.xml&instanceDir=tweets&wt=json&_=1466705606228}\n status=400 QTime=1\n\nFollow the path of my solr server dir:\n$ ls -lha /opt/programs/solr/server/\ntotal 188K\ndrwxr-xr-x 11 fabricio fabricio 4,0K Jun 23 14:25 .\ndrwxr-xr-x  9 fabricio fabricio 4,0K Jun 23 14:21 ..\ndrwxr-xr-x  2 fabricio fabricio 4,0K Jun 23 14:21 contexts\ndrwxr-xr-x  2 fabricio fabricio 4,0K Jun 23 14:21 etc\ndrwxr-xr-x  3 fabricio fabricio 4,0K Jun 23 14:21 lib\ndrwxrwxr-x  2 fabricio fabricio 4,0K Jun 23 14:25 logs\ndrwxr-xr-x  2 fabricio fabricio 4,0K Jun 23 14:21 modules\nrw-rr-  1 fabricio fabricio 3,8K Mar  4 07:18 README.txt\ndrwxr-xr-x  2 fabricio fabricio 4,0K Jun 23 14:21 resources\ndrwxr-xr-x  4 fabricio fabricio 4,0K Mar  4 07:18 scripts\ndrwxr-xr-x  3 fabricio fabricio 4,0K Jun 23 14:53 solr\ndrwxr-xr-x  3 fabricio fabricio 4,0K Jun 13 04:47 solr-webapp\nrw-rr-  1 fabricio fabricio 140K Mar 14 12:50 start.jar\n$ ls -lha /opt/programs/solr/server/solr\ntotal 24K\ndrwxr-xr-x  3 fabricio fabricio 4,0K Jun 23 14:53 .\ndrwxr-xr-x 11 fabricio fabricio 4,0K Jun 23 14:25 ..\ndrwxr-xr-x  5 fabricio fabricio 4,0K Mar  4 07:18 configsets\nrw-rr-  1 fabricio fabricio 3,0K Mar  4 07:18 README.txt\nrw-rr-  1 fabricio fabricio 2,1K Mai 26 05:17 solr.xml\nrw-rr-  1 fabricio fabricio  501 Mar  4 07:18 zoo.cfg",
    "attachments": {},
    "issue_links": {},
    "comments": [
        {
            "date": "2016-06-23T18:49:28+0000",
            "author": "Fabr\u00edcio Pereira",
            "content": "I install (upgrade) the Solr with the command:\nsudo /opt/programs/solr/bin/install_solr_service.sh solr-6.1.0.tgz -f -i /opt/programs -u fabricio\n\nAnd after I had change the user from instalation path solr:\nchown -hR fabricio:fabricio /opt/programs/solr\nchown -hR fabricio:fabricio /opt/programs/solr-6.1.0 ",
            "id": "comment-15346968"
        },
        {
            "date": "2016-09-13T22:21:52+0000",
            "author": "Jan H\u00f8ydahl",
            "content": "Please ask questions on the mailing list http://lucene.apache.org/solr/resources.html#community\nThis JIRA is only for reporting actual bugs. Closing. ",
            "id": "comment-15488630"
        }
    ]
}