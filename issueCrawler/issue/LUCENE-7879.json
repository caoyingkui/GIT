{
    "id": "LUCENE-7879",
    "title": "Cannot run Junit Test.",
    "details": {
        "labels": "",
        "priority": "Minor",
        "resolution": "Unresolved",
        "affect_versions": "6.5.1",
        "status": "Reopened",
        "type": "Bug",
        "components": [
            "general/test"
        ],
        "fix_versions": [
            "7.0"
        ]
    },
    "description": "We built lucene using ant, opened the project on eclipse and ran Junit tests. Some tests are successful but alot of the tests report an exception. For example, running Junit test on TestIndexWriter.java produces\n\n\n\t\"An SPI class of type org.apache.lucene.codecs.Codec with name 'Asserting' does not exist.  You need to add the corresponding JAR file supporting this SPI to your classpath.  The current classpath supports the following names: [Lucene60, Lucene62, SimpleText, Lucene70]\".*\n\n\n\n Does anyone have a good idea about why most of the unit tests are not successful for us on eclipse? \n\nThe whole error message in console is: \n\nNOTE: reproduce with: ant test  -Dtestcase=TestIndexWriter -Dtests.method=testNRTAfterCommit -Dtests.seed=74868B172C079B1F -Dtests.locale=es-EC -Dtests.timezone=PRT -Dtests.asserts=true -Dtests.file.encoding=UTF-8\nNOTE: reproduce with: ant test  -Dtestcase=TestIndexWriter -Dtests.method=testManySeparateThreads -Dtests.seed=74868B172C079B1F -Dtests.locale=es-EC -Dtests.timezone=PRT -Dtests.asserts=true -Dtests.file.encoding=UTF-8\nNOTE: reproduce with: ant test  -Dtestcase=TestIndexWriter -Dtests.method=testCloseWhileMergeIsRunning -Dtests.seed=74868B172C079B1F -Dtests.locale=es-EC -Dtests.timezone=PRT -Dtests.asserts=true -Dtests.file.encoding=UTF-8\nNOTE: reproduce with: ant test  -Dtestcase=TestIndexWriter -Dtests.method=testChangesAfterClose -Dtests.seed=74868B172C079B1F -Dtests.locale=es-EC -Dtests.timezone=PRT -Dtests.asserts=true -Dtests.file.encoding=UTF-8\nNOTE: reproduce with: ant test  -Dtestcase=TestIndexWriter -Dtests.method=testUnlimitedMaxFieldLength -Dtests.seed=74868B172C079B1F -Dtests.locale=es-EC -Dtests.timezone=PRT -Dtests.asserts=true -Dtests.file.encoding=UTF-8\nNOTE: reproduce with: ant test  -Dtestcase=TestIndexWriter -Dtests.method=testStopwordsPosIncHole2 -Dtests.seed=74868B172C079B1F -Dtests.locale=es-EC -Dtests.timezone=PRT -Dtests.asserts=true -Dtests.file.encoding=UTF-8\njun 14, 2017 6:59:22 PM com.carrotsearch.randomizedtesting.RandomizedRunner$QueueUncaughtExceptionsHandler uncaughtException\nADVERTENCIA: Uncaught exception in thread: Thread[Thread-102,5,TGRP-TestIndexWriter]\njava.lang.IllegalArgumentException: An SPI class of type org.apache.lucene.codecs.Codec with name 'Asserting' does not exist.  You need to add the corresponding JAR file supporting this SPI to your classpath.  The current classpath supports the following names: [Lucene60, Lucene62, SimpleText, Lucene70]\n\tat __randomizedtesting.SeedInfo.seed([74868B172C079B1F]:0)\n\tat org.apache.lucene.util.NamedSPILoader.lookup(NamedSPILoader.java:114)\n\tat org.apache.lucene.codecs.Codec.forName(Codec.java:116)\n\tat org.apache.lucene.index.SegmentInfos.readCodec(SegmentInfos.java:419)\n\tat org.apache.lucene.index.SegmentInfos.readCommit(SegmentInfos.java:358)\n\tat org.apache.lucene.index.SegmentInfos.readCommit(SegmentInfos.java:293)\n\tat org.apache.lucene.index.CheckIndex.checkIndex(CheckIndex.java:529)\n\tat org.apache.lucene.util.TestUtil.checkIndex(TestUtil.java:300)\n\tat org.apache.lucene.store.MockDirectoryWrapper.close(MockDirectoryWrapper.java:865)\n\tat org.apache.lucene.util.IOUtils.close(IOUtils.java:89)\n\tat org.apache.lucene.util.IOUtils.close(IOUtils.java:76)\n\tat org.apache.lucene.index.TestIndexWriter$IndexerThreadInterrupt.run(TestIndexWriter.java:1104)\n\nNOTE: reproduce with: ant test  -Dtestcase=TestIndexWriter -Dtests.method=testThreadInterruptDeadlock -Dtests.seed=74868B172C079B1F -Dtests.locale=es-EC -Dtests.timezone=PRT -Dtests.asserts=true -Dtests.file.encoding=UTF-8\nNOTE: reproduce with: ant test  -Dtestcase=TestIndexWriter -Dtests.method=testDoBeforeAfterFlush -Dtests.seed=74868B172C079B1F -Dtests.locale=es-EC -Dtests.timezone=PRT -Dtests.asserts=true -Dtests.file.encoding=UTF-8\nNOTE: reproduce with: ant test  -Dtestcase=TestIndexWriter -Dtests.method=testEmptyDocAfterFlushingRealDoc -Dtests.seed=74868B172C079B1F -Dtests.locale=es-EC -Dtests.timezone=PRT -Dtests.asserts=true -Dtests.file.encoding=UTF-8\nNOTE: reproduce with: ant test  -Dtestcase=TestIndexWriter -Dtests.method=testDontInvokeAnalyzerForUnAnalyzedFields -Dtests.seed=74868B172C079B1F -Dtests.locale=es-EC -Dtests.timezone=PRT -Dtests.asserts=true -Dtests.file.encoding=UTF-8\nNOTE: reproduce with: ant test  -Dtestcase=TestIndexWriter -Dtests.method=testIndexStoreCombos -Dtests.seed=74868B172C079B1F -Dtests.locale=es-EC -Dtests.timezone=PRT -Dtests.asserts=true -Dtests.file.encoding=UTF-8\nNOTE: reproduce with: ant test  -Dtestcase=TestIndexWriter -Dtests.method=testEmptyFieldNameTerms -Dtests.seed=74868B172C079B1F -Dtests.locale=es-EC -Dtests.timezone=PRT -Dtests.asserts=true -Dtests.file.encoding=UTF-8\nCheckIndex failed\nERROR: could not read any segments file in directory\njava.lang.IllegalArgumentException: An SPI class of type org.apache.lucene.codecs.Codec with name 'Asserting' does not exist.  You need to add the corresponding JAR file supporting this SPI to your classpath.  The current classpath supports the following names: [Lucene60, Lucene62, SimpleText, Lucene70]\n\tat org.apache.lucene.util.NamedSPILoader.lookup(NamedSPILoader.java:114)\n\tat org.apache.lucene.codecs.Codec.forName(Codec.java:116)\n\tat org.apache.lucene.index.SegmentInfos.readCodec(SegmentInfos.java:419)\n\tat org.apache.lucene.index.SegmentInfos.readCommit(SegmentInfos.java:358)\n\tat org.apache.lucene.index.SegmentInfos.readCommit(SegmentInfos.java:293)\n\tat org.apache.lucene.index.CheckIndex.checkIndex(CheckIndex.java:529)\n\tat org.apache.lucene.util.TestUtil.checkIndex(TestUtil.java:300)\n\tat org.apache.lucene.util.TestUtil.checkIndex(TestUtil.java:285)\n\tat org.apache.lucene.util.TestUtil.checkIndex(TestUtil.java:281)\n\tat org.apache.lucene.index.TestIndexWriter.testNoUnwantedTVFiles(TestIndexWriter.java:1494)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat com.carrotsearch.randomizedtesting.RandomizedRunner.invoke(RandomizedRunner.java:1713)\n\tat com.carrotsearch.randomizedtesting.RandomizedRunner$8.evaluate(RandomizedRunner.java:907)\n\tat com.carrotsearch.randomizedtesting.RandomizedRunner$9.evaluate(RandomizedRunner.java:943)\n\tat com.carrotsearch.randomizedtesting.RandomizedRunner$10.evaluate(RandomizedRunner.java:957)\n\tat org.apache.lucene.util.TestRuleSetupTeardownChained$1.evaluate(TestRuleSetupTeardownChained.java:49)\n\tat org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:45)\n\tat org.apache.lucene.util.TestRuleThreadAndTestName$1.evaluate(TestRuleThreadAndTestName.java:48)\n\tat org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:64)\n\tat org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:47)\n\tat com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\n\tat com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:368)\n\tat com.carrotsearch.randomizedtesting.ThreadLeakControl.forkTimeoutingTask(ThreadLeakControl.java:817)\n\tat com.carrotsearch.randomizedtesting.ThreadLeakControl$3.evaluate(ThreadLeakControl.java:468)\n\tat com.carrotsearch.randomizedtesting.RandomizedRunner.runSingleTest(RandomizedRunner.java:916)\n\tat com.carrotsearch.randomizedtesting.RandomizedRunner$5.evaluate(RandomizedRunner.java:802)\n\tat com.carrotsearch.randomizedtesting.RandomizedRunner$6.evaluate(RandomizedRunner.java:852)\n\tat com.carrotsearch.randomizedtesting.RandomizedRunner$7.evaluate(RandomizedRunner.java:863)\n\tat org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:45)\n\tat com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\n\tat org.apache.lucene.util.TestRuleStoreClassName$1.evaluate(TestRuleStoreClassName.java:41)\n\tat com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:40)\n\tat com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:40)\n\tat com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\n\tat com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\n\tat com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\n\tat org.apache.lucene.util.TestRuleAssertionsRequired$1.evaluate(TestRuleAssertionsRequired.java:53)\n\tat org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:47)\n\tat org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:64)\n\tat org.apache.lucene.util.TestRuleIgnoreTestSuites$1.evaluate(TestRuleIgnoreTestSuites.java:54)\n\tat com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\n\tat com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:368)\n\tat java.lang.Thread.run(Thread.java:745)\n\nNOTE: reproduce with: ant test  -Dtestcase=TestIndexWriter -Dtests.method=testNoUnwantedTVFiles -Dtests.seed=74868B172C079B1F -Dtests.locale=es-EC -Dtests.timezone=PRT -Dtests.asserts=true -Dtests.file.encoding=UTF-8\nNOTE: reproduce with: ant test  -Dtestcase=TestIndexWriter -Dtests.method=testCommitImmediatelyAfterNRTReopen -Dtests.seed=74868B172C079B1F -Dtests.locale=es-EC -Dtests.timezone=PRT -Dtests.asserts=true -Dtests.file.encoding=UTF-8\nNOTE: reproduce with: ant test  -Dtestcase=TestIndexWriter -Dtests.method=testOnlyUpdateDocuments -Dtests.seed=74868B172C079B1F -Dtests.locale=es-EC -Dtests.timezone=PRT -Dtests.asserts=true -Dtests.file.encoding=UTF-8\nNOTE: reproduce with: ant test  -Dtestcase=TestIndexWriter -Dtests.method=testIds -Dtests.seed=74868B172C079B1F -Dtests.locale=es-EC -Dtests.timezone=PRT -Dtests.asserts=true -Dtests.file.encoding=UTF-8\nNOTE: reproduce with: ant test  -Dtestcase=TestIndexWriter -Dtests.method=testEnablingNorms -Dtests.seed=74868B172C079B1F -Dtests.locale=es-EC -Dtests.timezone=PRT -Dtests.asserts=true -Dtests.file.encoding=UTF-8\nNOTE: reproduce with: ant test  -Dtestcase=TestIndexWriter -Dtests.method=testStopwordsPosIncHole -Dtests.seed=74868B172C079B1F -Dtests.locale=es-EC -Dtests.timezone=PRT -Dtests.asserts=true -Dtests.file.encoding=UTF-8\nNOTE: reproduce with: ant test  -Dtestcase=TestIndexWriter -Dtests.method=testNullDocuments -Dtests.seed=74868B172C079B1F -Dtests.locale=es-EC -Dtests.timezone=PRT -Dtests.asserts=true -Dtests.file.encoding=UTF-8\nNOTE: reproduce with: ant test  -Dtestcase=TestIndexWriter -Dtests.method=testNegativePositions -Dtests.seed=74868B172C079B1F -Dtests.locale=es-EC -Dtests.timezone=PRT -Dtests.asserts=true -Dtests.file.encoding=UTF-8\nNOTE: reproduce with: ant test  -Dtestcase=TestIndexWriter -Dtests.method=testVariableSchema -Dtests.seed=74868B172C079B1F -Dtests.locale=es-EC -Dtests.timezone=PRT -Dtests.asserts=true -Dtests.file.encoding=UTF-8\nNOTE: reproduce with: ant test  -Dtestcase=TestIndexWriter -Dtests.method=testWickedLongTerm -Dtests.seed=74868B172C079B1F -Dtests.locale=es-EC -Dtests.timezone=PRT -Dtests.asserts=true -Dtests.file.encoding=UTF-8\njun 14, 2017 6:59:22 PM com.carrotsearch.randomizedtesting.RandomizedRunner$QueueUncaughtExceptionsHandler uncaughtException\nADVERTENCIA: Uncaught exception in thread: ThreadLucene Merge Thread #0,5,TGRP-TestIndexWriter\norg.apache.lucene.index.MergePolicy$MergeException: java.lang.IllegalArgumentException: An SPI class of type org.apache.lucene.codecs.PostingsFormat with name 'LuceneVarGapDocFreqInterval' does not exist.  You need to add the corresponding JAR file supporting this SPI to your classpath.  The current classpath supports the following names: [BlockTreeOrds, BloomFilter, Direct, FSTOrd50, FST50, Memory, Lucene50, IDVersion, completion]\n\tat __randomizedtesting.SeedInfo.seed([74868B172C079B1F]:0)\n\tat org.apache.lucene.index.ConcurrentMergeScheduler.handleMergeException(ConcurrentMergeScheduler.java:703)\n\tat org.apache.lucene.index.ConcurrentMergeScheduler$MergeThread.run(ConcurrentMergeScheduler.java:683)\nCaused by: java.lang.IllegalArgumentException: An SPI class of type org.apache.lucene.codecs.PostingsFormat with name 'LuceneVarGapDocFreqInterval' does not exist.  You need to add the corresponding JAR file supporting this SPI to your classpath.  The current classpath supports the following names: [BlockTreeOrds, BloomFilter, Direct, FSTOrd50, FST50, Memory, Lucene50, IDVersion, completion]\n\tat org.apache.lucene.util.NamedSPILoader.lookup(NamedSPILoader.java:114)\n\tat org.apache.lucene.codecs.PostingsFormat.forName(PostingsFormat.java:112)\n\tat org.apache.lucene.codecs.perfield.PerFieldPostingsFormat$FieldsReader.<init>(PerFieldPostingsFormat.java:289)\n\tat org.apache.lucene.codecs.perfield.PerFieldPostingsFormat.fieldsProducer(PerFieldPostingsFormat.java:372)\n\tat org.apache.lucene.index.SegmentCoreReaders.<init>(SegmentCoreReaders.java:113)\n\tat org.apache.lucene.index.SegmentReader.<init>(SegmentReader.java:78)\n\tat org.apache.lucene.index.ReadersAndUpdates.getReader(ReadersAndUpdates.java:143)\n\tat org.apache.lucene.index.ReadersAndUpdates.getReaderForMerge(ReadersAndUpdates.java:681)\n\tat org.apache.lucene.index.IndexWriter.mergeMiddle(IndexWriter.java:4289)\n\tat org.apache.lucene.index.IndexWriter.merge(IndexWriter.java:3933)\n\tat org.apache.lucene.index.ConcurrentMergeScheduler.doMerge(ConcurrentMergeScheduler.java:624)\n\tat org.apache.lucene.index.ConcurrentMergeScheduler$MergeThread.run(ConcurrentMergeScheduler.java:661)\n\nNOTE: reproduce with: ant test  -Dtestcase=TestIndexWriter -Dtests.method=testMaxThreadPriority -Dtests.seed=74868B172C079B1F -Dtests.locale=es-EC -Dtests.timezone=PRT -Dtests.asserts=true -Dtests.file.encoding=UTF-8\nNOTE: reproduce with: ant test  -Dtestcase=TestIndexWriter -Dtests.method=testFlushWithNoMerging -Dtests.seed=74868B172C079B1F -Dtests.locale=es-EC -Dtests.timezone=PRT -Dtests.asserts=true -Dtests.file.encoding=UTF-8\nNOTE: reproduce with: ant test  -Dtestcase=TestIndexWriter -Dtests.method=testDeleteUnusedFiles -Dtests.seed=74868B172C079B1F -Dtests.locale=es-EC -Dtests.timezone=PRT -Dtests.asserts=true -Dtests.file.encoding=UTF-8\nNOTE: reproduce with: ant test  -Dtestcase=TestIndexWriter -Dtests.method=testEmptyFieldNameWithEmptyTerm -Dtests.seed=74868B172C079B1F -Dtests.locale=es-EC -Dtests.timezone=PRT -Dtests.asserts=true -Dtests.file.encoding=UTF-8\nNOTE: reproduce with: ant test  -Dtestcase=TestIndexWriter -Dtests.method=testCloseThenRollback -Dtests.seed=74868B172C079B1F -Dtests.locale=es-EC -Dtests.timezone=PRT -Dtests.asserts=true -Dtests.file.encoding=UTF-8\nNOTE: reproduce with: ant test  -Dtestcase=TestIndexWriter -Dtests.method=testNullAnalyzer -Dtests.seed=74868B172C079B1F -Dtests.locale=es-EC -Dtests.timezone=PRT -Dtests.asserts=true -Dtests.file.encoding=UTF-8\nNOTE: reproduce with: ant test  -Dtestcase=TestIndexWriter -Dtests.method=testHasUncommittedChanges -Dtests.seed=74868B172C079B1F -Dtests.locale=es-EC -Dtests.timezone=PRT -Dtests.asserts=true -Dtests.file.encoding=UTF-8\nNOTE: reproduce with: ant test  -Dtestcase=TestIndexWriter -Dtests.method=testEmptyFieldName -Dtests.seed=74868B172C079B1F -Dtests.locale=es-EC -Dtests.timezone=PRT -Dtests.asserts=true -Dtests.file.encoding=UTF-8\nNOTE: reproduce with: ant test  -Dtestcase=TestIndexWriter -Dtests.method=testHighFreqTerm -Dtests.seed=74868B172C079B1F -Dtests.locale=es-EC -Dtests.timezone=PRT -Dtests.asserts=true -Dtests.file.encoding=UTF-8\nNOTE: reproduce with: ant test  -Dtestcase=TestIndexWriter -Dtests.method=testEmptyNorm -Dtests.seed=74868B172C079B1F -Dtests.locale=es-EC -Dtests.timezone=PRT -Dtests.asserts=true -Dtests.file.encoding=UTF-8\nNOTE: reproduce with: ant test  -Dtestcase=TestIndexWriter -Dtests.method=testMergeAllDeleted -Dtests.seed=74868B172C079B1F -Dtests.locale=es-EC -Dtests.timezone=PRT -Dtests.asserts=true -Dtests.file.encoding=UTF-8\njun 14, 2017 6:59:23 PM com.carrotsearch.randomizedtesting.RandomizedRunner$QueueUncaughtExceptionsHandler uncaughtException\nADVERTENCIA: Uncaught exception in thread: ThreadLucene Merge Thread #0,5,TGRP-TestIndexWriter\norg.apache.lucene.index.MergePolicy$MergeException: java.lang.IllegalArgumentException: An SPI class of type org.apache.lucene.codecs.PostingsFormat with name 'LuceneVarGapDocFreqInterval' does not exist.  You need to add the corresponding JAR file supporting this SPI to your classpath.  The current classpath supports the following names: [BlockTreeOrds, BloomFilter, Direct, FSTOrd50, FST50, Memory, Lucene50, IDVersion, completion]\n\tat __randomizedtesting.SeedInfo.seed([74868B172C079B1F]:0)\n\tat org.apache.lucene.index.ConcurrentMergeScheduler.handleMergeException(ConcurrentMergeScheduler.java:703)\n\tat org.apache.lucene.index.ConcurrentMergeScheduler$MergeThread.run(ConcurrentMergeScheduler.java:683)\nCaused by: java.lang.IllegalArgumentException: An SPI class of type org.apache.lucene.codecs.PostingsFormat with name 'LuceneVarGapDocFreqInterval' does not exist.  You need to add the corresponding JAR file supporting this SPI to your classpath.  The current classpath supports the following names: [BlockTreeOrds, BloomFilter, Direct, FSTOrd50, FST50, Memory, Lucene50, IDVersion, completion]\n\tat org.apache.lucene.util.NamedSPILoader.lookup(NamedSPILoader.java:114)\n\tat org.apache.lucene.codecs.PostingsFormat.forName(PostingsFormat.java:112)\n\tat org.apache.lucene.codecs.perfield.PerFieldPostingsFormat$FieldsReader.<init>(PerFieldPostingsFormat.java:289)\n\tat org.apache.lucene.codecs.perfield.PerFieldPostingsFormat.fieldsProducer(PerFieldPostingsFormat.java:372)\n\tat org.apache.lucene.index.SegmentCoreReaders.<init>(SegmentCoreReaders.java:113)\n\tat org.apache.lucene.index.SegmentReader.<init>(SegmentReader.java:78)\n\tat org.apache.lucene.index.ReadersAndUpdates.getReader(ReadersAndUpdates.java:143)\n\tat org.apache.lucene.index.ReadersAndUpdates.getReaderForMerge(ReadersAndUpdates.java:681)\n\tat org.apache.lucene.index.IndexWriter.mergeMiddle(IndexWriter.java:4289)\n\tat org.apache.lucene.index.IndexWriter.merge(IndexWriter.java:3933)\n\tat org.apache.lucene.index.ConcurrentMergeScheduler.doMerge(ConcurrentMergeScheduler.java:624)\n\tat org.apache.lucene.index.ConcurrentMergeScheduler$MergeThread.run(ConcurrentMergeScheduler.java:661)\n\nNOTE: reproduce with: ant test  -Dtestcase=TestIndexWriter -Dtests.method=testSmallRAMBuffer -Dtests.seed=74868B172C079B1F -Dtests.locale=es-EC -Dtests.timezone=PRT -Dtests.asserts=true -Dtests.file.encoding=UTF-8\nNOTE: reproduce with: ant test  -Dtestcase=TestIndexWriter -Dtests.method=testNoDocsIndex -Dtests.seed=74868B172C079B1F -Dtests.locale=es-EC -Dtests.timezone=PRT -Dtests.asserts=true -Dtests.file.encoding=UTF-8\nNOTE: reproduce with: ant test  -Dtestcase=TestIndexWriter -Dtests.method=testPositionIncrementGapEmptyField -Dtests.seed=74868B172C079B1F -Dtests.locale=es-EC -Dtests.timezone=PRT -Dtests.asserts=true -Dtests.file.encoding=UTF-8\nNOTE: reproduce with: ant test  -Dtestcase=TestIndexWriter -Dtests.method=testCreateWithReader -Dtests.seed=74868B172C079B1F -Dtests.locale=es-EC -Dtests.timezone=PRT -Dtests.asserts=true -Dtests.file.encoding=UTF-8\nNOTE: reproduce with: ant test  -Dtestcase=TestIndexWriter -Dtests.method=testChangingRAMBuffer2 -Dtests.seed=74868B172C079B1F -Dtests.locale=es-EC -Dtests.timezone=PRT -Dtests.asserts=true -Dtests.file.encoding=UTF-8\nNOTE: reproduce with: ant test  -Dtestcase=TestIndexWriter -Dtests.method=testDeleteSameTermAcrossFields -Dtests.seed=74868B172C079B1F -Dtests.locale=es-EC -Dtests.timezone=PRT -Dtests.asserts=true -Dtests.file.encoding=UTF-8\nNOTE: reproduce with: ant test  -Dtestcase=TestIndexWriter -Dtests.method=testNullDocument -Dtests.seed=74868B172C079B1F -Dtests.locale=es-EC -Dtests.timezone=PRT -Dtests.asserts=true -Dtests.file.encoding=UTF-8\nNOTE: reproduce with: ant test  -Dtestcase=TestIndexWriter -Dtests.method=testNRTSegmentsFile -Dtests.seed=74868B172C079B1F -Dtests.locale=es-EC -Dtests.timezone=PRT -Dtests.asserts=true -Dtests.file.encoding=UTF-8\njun 14, 2017 6:59:23 PM com.carrotsearch.randomizedtesting.RandomizedRunner$QueueUncaughtExceptionsHandler uncaughtException\nADVERTENCIA: Uncaught exception in thread: ThreadLucene Merge Thread #0,5,TGRP-TestIndexWriter\norg.apache.lucene.index.MergePolicy$MergeException: java.lang.IllegalArgumentException: An SPI class of type org.apache.lucene.codecs.PostingsFormat with name 'LuceneVarGapFixedInterval' does not exist.  You need to add the corresponding JAR file supporting this SPI to your classpath.  The current classpath supports the following names: [BlockTreeOrds, BloomFilter, Direct, FSTOrd50, FST50, Memory, Lucene50, IDVersion, completion]\n\tat __randomizedtesting.SeedInfo.seed([74868B172C079B1F]:0)\n\tat org.apache.lucene.index.ConcurrentMergeScheduler.handleMergeException(ConcurrentMergeScheduler.java:703)\n\tat org.apache.lucene.index.ConcurrentMergeScheduler$MergeThread.run(ConcurrentMergeScheduler.java:683)\nCaused by: java.lang.IllegalArgumentException: An SPI class of type org.apache.lucene.codecs.PostingsFormat with name 'LuceneVarGapFixedInterval' does not exist.  You need to add the corresponding JAR file supporting this SPI to your classpath.  The current classpath supports the following names: [BlockTreeOrds, BloomFilter, Direct, FSTOrd50, FST50, Memory, Lucene50, IDVersion, completion]\n\tat org.apache.lucene.util.NamedSPILoader.lookup(NamedSPILoader.java:114)\n\tat org.apache.lucene.codecs.PostingsFormat.forName(PostingsFormat.java:112)\n\tat org.apache.lucene.codecs.perfield.PerFieldPostingsFormat$FieldsReader.<init>(PerFieldPostingsFormat.java:289)\n\tat org.apache.lucene.codecs.perfield.PerFieldPostingsFormat.fieldsProducer(PerFieldPostingsFormat.java:372)\n\tat org.apache.lucene.index.SegmentCoreReaders.<init>(SegmentCoreReaders.java:113)\n\tat org.apache.lucene.index.SegmentReader.<init>(SegmentReader.java:78)\n\tat org.apache.lucene.index.ReadersAndUpdates.getReader(ReadersAndUpdates.java:143)\n\tat org.apache.lucene.index.ReadersAndUpdates.getReaderForMerge(ReadersAndUpdates.java:681)\n\tat org.apache.lucene.index.IndexWriter.mergeMiddle(IndexWriter.java:4289)\n\tat org.apache.lucene.index.IndexWriter.merge(IndexWriter.java:3933)\n\tat org.apache.lucene.index.ConcurrentMergeScheduler.doMerge(ConcurrentMergeScheduler.java:624)\n\tat org.apache.lucene.index.ConcurrentMergeScheduler$MergeThread.run(ConcurrentMergeScheduler.java:661)\n\nNOTE: reproduce with: ant test  -Dtestcase=TestIndexWriter -Dtests.method=testChangingRAMBuffer -Dtests.seed=74868B172C079B1F -Dtests.locale=es-EC -Dtests.timezone=PRT -Dtests.asserts=true -Dtests.file.encoding=UTF-8\nNOTE: reproduce with: ant test  -Dtestcase=TestIndexWriter -Dtests.method=testDeadlock -Dtests.seed=74868B172C079B1F -Dtests.locale=es-EC -Dtests.timezone=PRT -Dtests.asserts=true -Dtests.file.encoding=UTF-8\nNOTE: reproduce with: ant test  -Dtestcase=TestIndexWriter -Dtests.method=testBadSegment -Dtests.seed=74868B172C079B1F -Dtests.locale=es-EC -Dtests.timezone=PRT -Dtests.asserts=true -Dtests.file.encoding=UTF-8\nNOTE: reproduce with: ant test  -Dtestcase=TestIndexWriter -Dtests.method=testOtherFiles -Dtests.seed=74868B172C079B1F -Dtests.locale=es-EC -Dtests.timezone=PRT -Dtests.asserts=true -Dtests.file.encoding=UTF-8\nNOTE: reproduce with: ant test  -Dtestcase=TestIndexWriter -Dtests.method=testDeleteUnusedFiles2 -Dtests.seed=74868B172C079B1F -Dtests.locale=es-EC -Dtests.timezone=PRT -Dtests.asserts=true -Dtests.file.encoding=UTF-8\nNOTE: reproduce with: ant test  -Dtestcase=TestIndexWriter -Dtests.method=testIterableThrowsException -Dtests.seed=74868B172C079B1F -Dtests.locale=es-EC -Dtests.timezone=PRT -Dtests.asserts=true -Dtests.file.encoding=UTF-8\nNOTE: reproduce with: ant test  -Dtestcase=TestIndexWriter -Dtests.method=testDocCount -Dtests.seed=74868B172C079B1F -Dtests.locale=es-EC -Dtests.timezone=PRT -Dtests.asserts=true -Dtests.file.encoding=UTF-8\nNOTE: reproduce with: ant test  -Dtestcase=TestIndexWriter -Dtests.method=testHasUncommittedChangesAfterException -Dtests.seed=74868B172C079B1F -Dtests.locale=es-EC -Dtests.timezone=PRT -Dtests.asserts=true -Dtests.file.encoding=UTF-8\nNOTE: reproduce with: ant test  -Dtestcase=TestIndexWriter -Dtests.method=testDoubleClose -Dtests.seed=74868B172C079B1F -Dtests.locale=es-EC -Dtests.timezone=PRT -Dtests.asserts=true -Dtests.file.encoding=UTF-8\nNOTE: reproduce with: ant test  -Dtestcase=TestIndexWriter -Dtests.method=testChangeIndexOptions -Dtests.seed=74868B172C079B1F -Dtests.locale=es-EC -Dtests.timezone=PRT -Dtests.asserts=true -Dtests.file.encoding=UTF-8\nNOTE: reproduce with: ant test  -Dtestcase=TestIndexWriter -Dtests.method=testIterableFieldThrowsException -Dtests.seed=74868B172C079B1F -Dtests.locale=es-EC -Dtests.timezone=PRT -Dtests.asserts=true -Dtests.file.encoding=UTF-8\nNOTE: leaving temporary files on disk at: /private/var/folders/bq/6581ndfs35lgqhzdy5wfj4d80000gn/T/lucene.index.TestIndexWriter_74868B172C079B1F-001\nNOTE: test params are: codec=Asserting(Lucene70): \n{=PostingsFormat(name=Asserting), a=PostingsFormat(name=LuceneVarGapDocFreqInterval), c=FST50, string=FST50, foo=PostingsFormat(name=LuceneVarGapFixedInterval), body=PostingsFormat(name=LuceneVarGapFixedInterval), content=PostingsFormat(name=LuceneVarGapDocFreqInterval), str=PostingsFormat(name=LuceneVarGapDocFreqInterval), tvtest=PostingsFormat(name=Asserting), field=PostingsFormat(name=LuceneVarGapFixedInterval), str3=PostingsFormat(name=LuceneVarGapFixedInterval), content4=PostingsFormat(name=LuceneVarGapDocFreqInterval), binary=FST50, str2=PostingsFormat(name=LuceneVarGapDocFreqInterval), content1=PostingsFormat(name=Asserting), id=FST50, myfield=PostingsFormat(name=LuceneVarGapFixedInterval)}\n, docValues:\n{binarydv=DocValuesFormat(name=Asserting), dv=DocValuesFormat(name=Direct), sortedsetdv=DocValuesFormat(name=Asserting), sortednumericdv=DocValuesFormat(name=Direct), numericdv=DocValuesFormat(name=Asserting), sorteddv=DocValuesFormat(name=Asserting)}\n, maxPointsInLeafNode=1898, maxMBSortInHeap=6.970399710826445, sim=RandomSimilarity(queryNorm=false): \n{=DFR I(n)BZ(0.3), c=DFR GL1, string=DFR I(ne)L1, body=DFR I(n)1, content=IB LL-D3(800.0), str=DFR GL2, tvtest=DFR I(n)B2, field=DFR GLZ(0.3), content4=DFR I(n)3(800.0), binary=IB SPL-D2, str2=DFR GZ(0.3), content1=DFR GZ(0.3), id=DFR I(n)B2, myfield=LM Jelinek-Mercer(0.700000)}\n, locale=es-EC, timezone=PRT\nNOTE: Mac OS X 10.11.3 x86_64/Oracle Corporation 1.8.0_111 (64-bit)/cpus=8,threads=1,free=145826072,total=163577856\nNOTE: All tests run in this JVM: [TestIndexWriter]",
    "attachments": {},
    "issue_links": {},
    "comments": [
        {
            "id": "comment-16049797",
            "date": "2017-06-14T23:19:11+0000",
            "content": "you need to run ant eclipse from the top-level checkout so that you have a proper eclipse configuration. refresh your project after that.  ",
            "author": "Robert Muir"
        },
        {
            "id": "comment-16049809",
            "date": "2017-06-14T23:32:52+0000",
            "content": "Thanks for the reply. So I actually did that before and I ran the command again. I see that it succeeds with this echo: SUCCESS: You must right-click your project and choose Refresh.\n\nHowever, the same Junit test fail is happening. So in theory, since I just forked and built lucene without changing it, all unit tests should work right?  ",
            "author": "Jaewoo Kim"
        },
        {
            "id": "comment-16049815",
            "date": "2017-06-14T23:39:38+0000",
            "content": "Still not working  ",
            "author": "Jaewoo Kim"
        },
        {
            "id": "comment-16049818",
            "date": "2017-06-14T23:43:05+0000",
            "content": "Have the same issue here. ",
            "author": "Jintao Jiang"
        },
        {
            "id": "comment-16049843",
            "date": "2017-06-15T00:11:42+0000",
            "content": "Your build path is not configured correctly (which that command should do). It ensures lucene/test-framework/src,properties,test is in the build path. That contains things tests depend on. ",
            "author": "Robert Muir"
        }
    ]
}