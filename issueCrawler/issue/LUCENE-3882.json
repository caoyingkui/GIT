{
    "id": "LUCENE-3882",
    "title": "maven-metadata.xml's are only hashed but not signed",
    "details": {
        "labels": "",
        "priority": "Major",
        "components": [
            "general/build"
        ],
        "type": "Bug",
        "fix_versions": [
            "3.6",
            "4.0-ALPHA"
        ],
        "affect_versions": "None",
        "resolution": "Not A Problem",
        "status": "Closed"
    },
    "description": "we only produce .sha/.md5 for these files, but not .asc",
    "attachments": {
        "LUCENE-3882.patch": "https://issues.apache.org/jira/secure/attachment/12518901/LUCENE-3882.patch"
    },
    "issue_links": {},
    "comments": [
        {
            "date": "2012-03-19T13:44:07+0000",
            "content": "patch against branch_3x, just adds */.xml to the patterns for signing. ",
            "author": "Robert Muir",
            "id": "comment-13232614"
        },
        {
            "date": "2012-03-19T15:00:36+0000",
            "content": "Robert, I think it's not necessary/useful to sign these files.\n\nIn Maven Central, many projects don't have signatures for this file, e.g. http://search.maven.org/#browse|1946773355 (org.apache.apache, the Apache parent POM.\n\nI think the issue is that when Maven artifacts are uploaded, for each artifact, entries from the maven-metadata.xml file's contents are merged with the existing version of that file.  As a result, the signature will no longer apply.\n\nMaven-core is an example of a project where they used to sign this file, then stopped doing it, but left the signature in the repo: [http://search.maven.org/#browse|-1493030540].  Note that the maven-metadata.xml.asc file is dated 2006. ",
            "author": "Steve Rowe",
            "id": "comment-13232655"
        },
        {
            "date": "2012-03-19T15:02:49+0000",
            "content": "Steven, thanks.\n\nOK to cancel this issue then?\n\nI just thought it was strange to see .md5/.sha1 without the corresponding .asc ",
            "author": "Robert Muir",
            "id": "comment-13232658"
        },
        {
            "date": "2012-03-19T15:04:12+0000",
            "content": "OK to cancel this issue then?\n\n+1 ",
            "author": "Steve Rowe",
            "id": "comment-13232661"
        },
        {
            "date": "2012-03-19T15:05:11+0000",
            "content": "But then also the md5/sha1's are useless as those don't get updated during merging, too? ",
            "author": "Uwe Schindler",
            "id": "comment-13232664"
        },
        {
            "date": "2012-03-19T15:05:14+0000",
            "content": "See Steven's explanation for why this isnt useful. ",
            "author": "Robert Muir",
            "id": "comment-13232665"
        },
        {
            "date": "2012-03-19T15:06:33+0000",
            "content": "OOps i resolved before seeing Uwe's comment.\n\nSteven should we fix this to not have .md5/.sha1 too? or are those useful? ",
            "author": "Robert Muir",
            "id": "comment-13232668"
        },
        {
            "date": "2012-03-19T15:13:14+0000",
            "content": "These hashes appear to be regenerated by the repository (I checked the Maven-core hashes and they matched), and as a result, the hashes submitted to the repo are ignored.\n\nHowever, some people use the results of generate-maven-artifacts directly, in which case these hashes may provide some utility?  And I don't think they're doing any harm.\n\nSo I'm -0 to stop making hashes for these files.\n ",
            "author": "Steve Rowe",
            "id": "comment-13232670"
        },
        {
            "date": "2012-03-19T15:41:12+0000",
            "content": "Maven Ant Tasks generates the hashes, so we would have to delete them after they are created. ",
            "author": "Steve Rowe",
            "id": "comment-13232685"
        }
    ]
}