{
    "id": "LUCENE-4532",
    "title": "TestDirectoryTaxonomyReader.testRefreshReadRecreatedTaxonomy failure",
    "details": {
        "components": [
            "modules/facet"
        ],
        "fix_versions": [
            "4.1",
            "6.0"
        ],
        "affect_versions": "None",
        "priority": "Major",
        "labels": "",
        "type": "Bug",
        "resolution": "Fixed",
        "status": "Closed"
    },
    "description": "The following failure on Jenkins:\n\n\n> Build: http://jenkins.sd-datasolutions.de/job/Lucene-Solr-4.x-Windows/1404/\n> Java: 32bit/jdk1.6.0_37 -client -XX:+UseConcMarkSweepGC\n>\n> 1 tests failed.\n> REGRESSION:  org.apache.lucene.facet.taxonomy.directory.TestDirectoryTaxonomyReader.testRefreshReadRecreatedTaxonomy\n>\n> Error Message:\n>\n>\n> Stack Trace:\n> java.lang.ArrayIndexOutOfBoundsException\n>         at __randomizedtesting.SeedInfo.seed([6AB10D3E4E956CFA:BFB2863DB7E077E0]:0)\n>         at java.lang.System.arraycopy(Native Method)\n>         at org.apache.lucene.facet.taxonomy.directory.ParentArray.refresh(ParentArray.java:99)\n>         at org.apache.lucene.facet.taxonomy.directory.DirectoryTaxonomyReader.refresh(DirectoryTaxonomyReader.java:407)\n>         at org.apache.lucene.facet.taxonomy.directory.TestDirectoryTaxonomyReader.doTestReadRecreatedTaxono(TestDirectoryTaxonomyReader.java:167)\n>         at org.apache.lucene.facet.taxonomy.directory.TestDirectoryTaxonomyReader.testRefreshReadRecreatedTaxonomy(TestDirectoryTaxonomyReader.java:130)\n>         at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n>         at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n>         at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n>         at java.lang.reflect.Method.invoke(Method.java:597)\n>         at com.carrotsearch.randomizedtesting.RandomizedRunner.invoke(RandomizedRunner.java:1559)\n>         at com.carrotsearch.randomizedtesting.RandomizedRunner.access$600(RandomizedRunner.java:79)\n>         at com.carrotsearch.randomizedtesting.RandomizedRunner$6.evaluate(RandomizedRunner.java:737)\n>         at com.carrotsearch.randomizedtesting.RandomizedRunner$7.evaluate(RandomizedRunner.java:773)\n>         at com.carrotsearch.randomizedtesting.RandomizedRunner$8.evaluate(RandomizedRunner.java:787)\n>         at org.apache.lucene.util.TestRuleSetupTeardownChained$1.evaluate(TestRuleSetupTeardownChained.java:50)\n>         at org.apache.lucene.util.TestRuleFieldCacheSanity$1.evaluate(TestRuleFieldCacheSanity.java:51)\n>         at org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:45)\n>         at com.carrotsearch.randomizedtesting.rules.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:55)\n>         at org.apache.lucene.util.TestRuleThreadAndTestName$1.evaluate(TestRuleThreadAndTestName.java:48)\n>         at org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:70)\n>         at org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:48)\n>         at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\n>         at com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:358)\n>         at com.carrotsearch.randomizedtesting.ThreadLeakControl.forkTimeoutingTask(ThreadLeakControl.java:782)\n>         at com.carrotsearch.randomizedtesting.ThreadLeakControl$3.evaluate(ThreadLeakControl.java:442)\n>         at com.carrotsearch.randomizedtesting.RandomizedRunner.runSingleTest(RandomizedRunner.java:746)\n>         at com.carrotsearch.randomizedtesting.RandomizedRunner$3.evaluate(RandomizedRunner.java:648)\n>         at com.carrotsearch.randomizedtesting.RandomizedRunner$4.evaluate(RandomizedRunner.java:682)\n>         at com.carrotsearch.randomizedtesting.RandomizedRunner$5.evaluate(RandomizedRunner.java:693)\n>         at org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:45)\n>         at org.apache.lucene.util.TestRuleStoreClassName$1.evaluate(TestRuleStoreClassName.java:42)\n>         at com.carrotsearch.randomizedtesting.rules.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:55)\n>         at com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:39)\n>         at com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:39)\n>         at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\n>         at org.apache.lucene.util.TestRuleAssertionsRequired$1.evaluate(TestRuleAssertionsRequired.java:43)\n>         at org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:48)\n>         at org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:70)\n>         at org.apache.lucene.util.TestRuleIgnoreTestSuites$1.evaluate(TestRuleIgnoreTestSuites.java:55)\n>         at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\n>         at com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:358)\n>         at java.lang.Thread.run(Thread.java:662)\n>\n>\n>\n>\n> Build Log:\n> [...truncated 5664 lines...]\n> [junit4:junit4] Suite: org.apache.lucene.facet.taxonomy.directory.TestDirectoryTaxonomyReader\n> [junit4:junit4]   2> NOTE: reproduce with: ant test  -Dtestcase=TestDirectoryTaxonomyReader -Dtests.method=testRefreshReadRecreatedTaxonomy -Dtests.seed=6AB10D3E4E956CFA -Dtests.slow=true -Dtests.locale=fr_CA -Dtests.timezone=Atlantic/Jan_Mayen -Dtests.file.encoding=US-ASCII\n> [junit4:junit4] ERROR   0.06s | TestDirectoryTaxonomyReader.testRefreshReadRecreatedTaxonomy <<<\n> [junit4:junit4]    > Throwable #1: java.lang.ArrayIndexOutOfBoundsException\n> [junit4:junit4]    >    at __randomizedtesting.SeedInfo.seed([6AB10D3E4E956CFA:BFB2863DB7E077E0]:0)\n> [junit4:junit4]    >    at java.lang.System.arraycopy(Native Method)\n> [junit4:junit4]    >    at org.apache.lucene.facet.taxonomy.directory.ParentArray.refresh(ParentArray.java:99)\n> [junit4:junit4]    >    at org.apache.lucene.facet.taxonomy.directory.DirectoryTaxonomyReader.refresh(DirectoryTaxonomyReader.java:407)\n> [junit4:junit4]    >    at org.apache.lucene.facet.taxonomy.directory.TestDirectoryTaxonomyReader.doTestReadRecreatedTaxono(TestDirectoryTaxonomyReader.java:167)\n> [junit4:junit4]    >    at org.apache.lucene.facet.taxonomy.directory.TestDirectoryTaxonomyReader.testRefreshReadRecreatedTaxonomy(TestDirectoryTaxonomyReader.java:130)\n> [junit4:junit4]    >    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n> [junit4:junit4]    >    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n> [junit4:junit4]    >    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n> [junit4:junit4]    >    at java.lang.reflect.Method.invoke(Method.java:597)\n> [junit4:junit4]    >    at com.carrotsearch.randomizedtesting.RandomizedRunner.invoke(RandomizedRunner.java:1559)\n> [junit4:junit4]    >    at com.carrotsearch.randomizedtesting.RandomizedRunner.access$600(RandomizedRunner.java:79)\n> [junit4:junit4]    >    at com.carrotsearch.randomizedtesting.RandomizedRunner$6.evaluate(RandomizedRunner.java:737)\n> [junit4:junit4]    >    at com.carrotsearch.randomizedtesting.RandomizedRunner$7.evaluate(RandomizedRunner.java:773)\n> [junit4:junit4]    >    at com.carrotsearch.randomizedtesting.RandomizedRunner$8.evaluate(RandomizedRunner.java:787)\n> [junit4:junit4]    >    at org.apache.lucene.util.TestRuleSetupTeardownChained$1.evaluate(TestRuleSetupTeardownChained.java:50)\n> [junit4:junit4]    >    at org.apache.lucene.util.TestRuleFieldCacheSanity$1.evaluate(TestRuleFieldCacheSanity.java:51)\n> [junit4:junit4]    >    at org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:45)\n> [junit4:junit4]    >    at com.carrotsearch.randomizedtesting.rules.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:55)\n> [junit4:junit4]    >    at org.apache.lucene.util.TestRuleThreadAndTestName$1.evaluate(TestRuleThreadAndTestName.java:48)\n> [junit4:junit4]    >    at org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:70)\n> [junit4:junit4]    >    at org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:48)\n> [junit4:junit4]    >    at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\n> [junit4:junit4]    >    at com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:358)\n> [junit4:junit4]    >    at com.carrotsearch.randomizedtesting.ThreadLeakControl.forkTimeoutingTask(ThreadLeakControl.java:782)\n> [junit4:junit4]    >    at com.carrotsearch.randomizedtesting.ThreadLeakControl$3.evaluate(ThreadLeakControl.java:442)\n> [junit4:junit4]    >    at com.carrotsearch.randomizedtesting.RandomizedRunner.runSingleTest(RandomizedRunner.java:746)\n> [junit4:junit4]    >    at com.carrotsearch.randomizedtesting.RandomizedRunner$3.evaluate(RandomizedRunner.java:648)\n> [junit4:junit4]    >    at com.carrotsearch.randomizedtesting.RandomizedRunner$4.evaluate(RandomizedRunner.java:682)\n> [junit4:junit4]    >    at com.carrotsearch.randomizedtesting.RandomizedRunner$5.evaluate(RandomizedRunner.java:693)\n> [junit4:junit4]    >    at org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:45)\n> [junit4:junit4]    >    at org.apache.lucene.util.TestRuleStoreClassName$1.evaluate(TestRuleStoreClassName.java:42)\n> [junit4:junit4]    >    at com.carrotsearch.randomizedtesting.rules.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:55)\n> [junit4:junit4]    >    at com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:39)\n> [junit4:junit4]    >    at com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:39)\n> [junit4:junit4]    >    at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\n> [junit4:junit4]    >    at org.apache.lucene.util.TestRuleAssertionsRequired$1.evaluate(TestRuleAssertionsRequired.java:43)\n> [junit4:junit4]    >    at org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:48)\n> [junit4:junit4]    >    at org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:70)\n> [junit4:junit4]    >    at org.apache.lucene.util.TestRuleIgnoreTestSuites$1.evaluate(TestRuleIgnoreTestSuites.java:55)\n> [junit4:junit4]    >    at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\n> [junit4:junit4]    >    at com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:358)\n> [junit4:junit4]    >    at java.lang.Thread.run(Thread.java:662)\n> [junit4:junit4]   2> NOTE: test params are: codec=SimpleText, sim=RandomSimilarityProvider(queryNorm=true,coord=crazy): {}, locale=fr_CA, timezone=Atlantic/Jan_Mayen\n> [junit4:junit4]   2> NOTE: Windows 7 6.1 x86/Sun Microsystems Inc. 1.6.0_37 (32-bit)/cpus=2,threads=1,free=59103720,total=93417472\n> [junit4:junit4]   2> NOTE: All tests run in this JVM: [ObjectToIntMapTest, UnsafeByteArrayInputStreamTest, IntArrayTest, EncodingTest, CustomAssociationPropertyTest, TestDirectoryTaxonomyWriter, FacetSearchParamsTest, DefaultEnhancementsIndexingParamsTest, TestCategoryListCache, TestTopKInEachNodeResultHandler, AdaptiveAccumulatorTest, Vint8Test, TestScoredDocIdCollector, IntToIntMapTest, AssociationPropertyTest, TestMultiCLExample, ArrayHashMapTest, CategoryListIteratorTest, TestTopKResultsHandlerRandom, TestTotalFacetCounts, SamplingWrapperTest, TestCharBlockArray, IntToDoubleMapTest, TestFacetsCollector, TestFacetsAccumulatorWithComplement, SamplingAccumulatorTest, TestTopKResultsHandler, CategoryAttributesIterableTest, CategoryAttributesStreamTest, TestFacetArrays, TestCompactLabelToOrdinal, CategoryListPayloadStreamTest, CategoryTokenizerTest, TestAddTaxonomy, TestTotalFacetCountsCache, TestTaxonomyCombined, FacetsPayloadProcessorProviderTest, OrdinalPolicyTest, PathPolicyTest, TestScoredDocIDsUtils, TestDirectoryTaxonomyReader]\n> [junit4:junit4] Completed in 0.11s, 7 tests, 1 error <<< FAILURES!\n>\n> [...truncated 81 lines...]\n> BUILD FAILED\n> C:\\Users\\JenkinsSlave\\workspace\\Lucene-Solr-4.x-Windows\\build.xml:335: The following error occurred while executing this line:\n> C:\\Users\\JenkinsSlave\\workspace\\Lucene-Solr-4.x-Windows\\build.xml:39: The following error occurred while executing this line:\n> C:\\Users\\JenkinsSlave\\workspace\\Lucene-Solr-4.x-Windows\\lucene\\build.xml:519: The following error occurred while executing this line:\n> C:\\Users\\JenkinsSlave\\workspace\\Lucene-Solr-4.x-Windows\\lucene\\common-build.xml:1691: The following error occurred while executing this line:\n> C:\\Users\\JenkinsSlave\\workspace\\Lucene-Solr-4.x-Windows\\lucene\\module-build.xml:61: The following error occurred while executing this line:\n> C:\\Users\\JenkinsSlave\\workspace\\Lucene-Solr-4.x-Windows\\lucene\\common-build.xml:1163: The following error occurred while executing this line:\n> C:\\Users\\JenkinsSlave\\workspace\\Lucene-Solr-4.x-Windows\\lucene\\common-build.xml:827: There were test failures: 65 suites, 264 tests, 1 error, 2 ignored (1 assumption)\n>\n> Total time: 18 minutes 43 seconds\n> Build step 'Invoke Ant' marked build as failure\n> Archiving artifacts\n> Recording test results\n> Description set: Java: 32bit/jdk1.6.0_37 -client -XX:+UseConcMarkSweepGC\n> Email was triggered for: Failure\n> Sending email for trigger: Failure",
    "attachments": {
        "LUCENE-4532.patch": "https://issues.apache.org/jira/secure/attachment/12552110/LUCENE-4532.patch"
    },
    "issue_links": {},
    "comments": [
        {
            "date": "2012-11-04T09:03:17+0000",
            "content": "Doesn't reproduce on my machine. I tried with -Dtests.iters=100 and still not reproducing. Will dig in the code ... ",
            "author": "Shai Erera",
            "id": "comment-13490147"
        },
        {
            "date": "2012-11-04T09:11:34+0000",
            "content": "The test isn't even concurrent , so why can't I reproduce !? Anyway, continue digging ... ",
            "author": "Shai Erera",
            "id": "comment-13490148"
        },
        {
            "date": "2012-11-04T09:36:22+0000",
            "content": "This looks like some sort of race condition \u2013 I can't reproduce either but I can't get the code to even enter the block which caused this failure; in ParentArray:\n\n    int num = indexReader.maxDoc();\n    if (prefetchParentOrdinal==null) {\n        ...\n    } else {\n        HERE?!\n    }\n\n\n\nPerhaps if you try to make it enter that block it'll be more repeatable. ",
            "author": "Dawid Weiss",
            "id": "comment-13490151"
        },
        {
            "date": "2012-11-04T09:50:59+0000",
            "content": "Hmmm ... perhaps this explains the bug and why I cannot reproduce it. Here's a code snippet from DirTaxoReader.refresh():\n\n\n    String t1 = indexReader.getIndexCommit().getUserData().get(DirectoryTaxonomyWriter.INDEX_CREATE_TIME);\n    String t2 = r2.getIndexCommit().getUserData().get(DirectoryTaxonomyWriter.INDEX_CREATE_TIME);\n    if (t1==null) {\n      if (t2!=null) {\n        r2.close();\n        throw new InconsistentTaxonomyException(\"Taxonomy was recreated at: \"+t2);\n      }\n    } else if (!t1.equals(t2)) {\n      r2.close();\n      throw new InconsistentTaxonomyException(\"Taxonomy was recreated at: \"+t2+\"  !=  \"+t1);\n    }\n\n\n\nThe code compares the commit data that is known to the indexReader instance at hand, and the reopened one. If they do not match, it throws an exception, as this TaxoReader cannot be refreshed.\n\nThe commit data relies on timestamp, which is a bad thing in general, even if the timestamp is in nano-second granularity. So what happens if a machine is able to add a category and commit DirTW in the same nano-second? Or maybe just open DirTW with OpenMode.CREATE and close it? Or the clocks somehow get messed up? The two timestamps in the commit data may accidentally be the same, leading to the exception exposed by the stacktrace above.\n\nI tried to modify the test to always use RAMDirectory() and not add any categories, just recreate+close, but I couldn't reproduce it either. However, I tried that on my laptop, and the timestamp is nano-second, so it may not be fast enough.\n\nStill, I think that that is a potential bug and may explain the errors that we see. The test is single threaded, the seed ensures we reproduce everything right, so all is left to blame is the machine's clock .\n\nI'll try to verify that a bit more, and on other machines, but I think that we should move to store an increment version number instead of timestamp. ",
            "author": "Shai Erera",
            "id": "comment-13490156"
        },
        {
            "date": "2012-11-05T09:40:58+0000",
            "content": "This looks like some sort of race condition\n\nAs I wrote, the test is single-threaded and very simple, so there's no race condition here. Also, the method (DTR.refresh()) is synchronized.\n\nI can't get the code to even enter the block which caused this failure\n\nThat's why you and I cannot reproduce it. If the problem is indeed as I described (related to the time measurement), then we won't be able to reproduce it (most likely) b/c the code will always (that's what the test counts on) fail fast by throwing the exception. ",
            "author": "Shai Erera",
            "id": "comment-13490535"
        },
        {
            "date": "2012-11-05T14:53:06+0000",
            "content": "Patch contains the following fixes:\n\n\n\tAddresses the current presumed test failure by moving to track taxonomy 'epoch' rather than creation time. The epoch is very similar to an index generation, only it is incremented whenever the taxonomy is re-created or replaced with another.\n\n\n\n\n\tAddresses a possible race-condition in the constructor \u2013 now the code first opens the IndexWriter to obtain the lock on the index directory, and only then reads the commitData.\n\n\n\nFacet tests pass. Patch is against 4x. ",
            "author": "Shai Erera",
            "id": "comment-13490669"
        },
        {
            "date": "2012-11-05T15:02:10+0000",
            "content": "+1\n\nVery nice to remove relying on timestamps ... ",
            "author": "Michael McCandless",
            "id": "comment-13490674"
        },
        {
            "date": "2012-11-05T15:05:54+0000",
            "content": "Patch applies against trunk as-is. Only CHANGES entry need to be moved to the 4.1.0 section, which I'll do before I commit. If there are no objections, I'd like to commit it tomorrow. ",
            "author": "Shai Erera",
            "id": "comment-13490676"
        },
        {
            "date": "2012-11-06T14:04:57+0000",
            "content": "Reviewed the patch - and it looks very good.\n\nA few comments:\n1. in TestDirectoryTaxonomyWriter.java, the error string \"index.create.time not found in commitData\" should be updated.\n2. if the index creation time is in the commit data, it will not be removed - as the epoch is added to whatever commit data was read from the index. I think perhaps it should be removed?\n3. since the members related to the old 'timestamp' method are removed - no test could check the migration from old to new methods. Might be a good idea to add one with a comment to remove it when backward compatibility is no longer required (Lucene 6?).\n4. 'Epoch' is usually in the context of time, or in relation of a period. Perhaps the name 'version' is more closely related to the implementation?\n ",
            "author": "Gilad Barkai",
            "id": "comment-13491466"
        },
        {
            "date": "2012-11-06T15:11:43+0000",
            "content": "Thanks for the review.\n\nin TestDirectoryTaxonomyWriter.java, the error string \"index.create.time not found in commitData\" should be updated.\n\ndone (will upload an updated patch soon)\n\nif the index creation time is in the commit data, it will not be removed - as the epoch is added to whatever commit data was read from the index. I think perhaps it should be removed?\n\nNo quite. Every commit, DirTaxoWriter writes a new commitData, combining whatever commitData that is passed from the caller. But it does not merge it with the existing commitData. That's how IndexWriter works too, and it's the responsible of the caller to pass the commitData in every commit(), if he'd like to persist it.\nBut, DirTaxoReader does let you read the commitData and so it is possible that someone will obtain the commitData from DirTaxoReader (with the old property), add his stuff to it and pass that to DirTaxoWriter. I don't think that it's critical though, and I doubt if anyone does that.\n\n...no test could check the migration from old to new methods...\n\nRight, I'll add a test case.\n\n'Epoch' is usually in the context of time\n\nI don't think that it's critical. Version is problematic since Lucene already uses 'version' and 'generation'. I think that 'epoch' is fine, but if anyone has a better suggestion, I don't mind changing it. ",
            "author": "Shai Erera",
            "id": "comment-13491511"
        },
        {
            "date": "2012-11-06T15:15:50+0000",
            "content": "...no test could check the migration from old to new methods...\n\nActually there was such test !. TestDirTaxoWriter.testUndefinedCreateTime. I'll rename it to testBackwardsComptability though. ",
            "author": "Shai Erera",
            "id": "comment-13491517"
        },
        {
            "date": "2012-11-06T15:56:05+0000",
            "content": "Patch addresses the comments. For now, I kept the 'epoch' wording, unless there's another suggestion. ",
            "author": "Shai Erera",
            "id": "comment-13491560"
        },
        {
            "date": "2012-11-07T11:33:25+0000",
            "content": "Committed to trunk and 4.x. I didn't commit to 4.0.x because it seems we're not going to have a 4.0.1, but rather focus on 4.1. ",
            "author": "Shai Erera",
            "id": "comment-13492281"
        },
        {
            "date": "2013-03-22T16:19:28+0000",
            "content": "[branch_4x commit] Shai Erera\nhttp://svn.apache.org/viewvc?view=revision&revision=1406565\n\nLUCENE-4532: port from trunk ",
            "author": "Commit Tag Bot",
            "id": "comment-13610586"
        }
    ]
}