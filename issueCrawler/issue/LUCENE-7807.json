{
    "id": "LUCENE-7807",
    "title": "Test*RangeFieldQueries.testRandomBig() and .testRandomTiny() failures",
    "details": {
        "labels": "",
        "priority": "Major",
        "resolution": "Fixed",
        "affect_versions": "None",
        "status": "Closed",
        "type": "Bug",
        "components": [],
        "fix_versions": [
            "6.6",
            "7.0"
        ]
    },
    "description": "My Jenkins found a failing master seed for testRandomBig() in all the Test*RangeFieldQueries suites:\n\n\nChecking out Revision 2f6101b2ab9e93173a9764450b5f71935495802e (refs/remotes/origin/master)\n[...]\n   [junit4]   2> NOTE: reproduce with: ant test  -Dtestcase=TestIntRangeFieldQueries -Dtests.method=testRandomBig -Dtests.seed=90CE64A8F1BFDF78 -Dtests.multiplier=2 -Dtests.nightly=true -Dtests.slow=true -Dtests.linedocsfile=/home/jenkins/lucene-data/enwiki.random.lines.txt -Dtests.locale=es-VE -Dtests.timezone=US/Hawaii -Dtests.asserts=true -Dtests.file.encoding=UTF-8\n   [junit4] FAILURE  116s J2  | TestIntRangeFieldQueries.testRandomBig <<<\n   [junit4]    > Throwable #1: java.lang.AssertionError: wrong hit (first of possibly more):\n   [junit4]    > FAIL (iter 28): id=973300 should not match but did\n   [junit4]    >  queryRange=Box(-2147483648 TO 2147483647)\n   [junit4]    >  box=Box(-1240758905 TO 1326270659)\n   [junit4]    >  queryType=CONTAINS\n   [junit4]    >  deleted?=false\n   [junit4]    > \tat __randomizedtesting.SeedInfo.seed([90CE64A8F1BFDF78:1799192760E6A3F8]:0)\n   [junit4]    > \tat org.apache.lucene.search.BaseRangeFieldQueryTestCase.verify(BaseRangeFieldQueryTestCase.java:287)\n   [junit4]    > \tat org.apache.lucene.search.BaseRangeFieldQueryTestCase.doTestRandom(BaseRangeFieldQueryTestCase.java:158)\n   [junit4]    > \tat org.apache.lucene.search.BaseRangeFieldQueryTestCase.testRandomBig(BaseRangeFieldQueryTestCase.java:73)\n[...]\n   [junit4]   2> NOTE: test params are: codec=Asserting(Lucene70): {id=Lucene50(blocksize=128)}, docValues:{id=DocValuesFormat(name=Memory), intRangeField=DocValuesFormat(name=Lucene70)}, maxPointsInLeafNode=805, maxMBSortInHeap=6.031593684373835, sim=RandomSimilarity(queryNorm=true): {}, locale=es-VE, timezone=US/Hawaii\n   [junit4]   2> NOTE: Linux 4.1.0-custom2-amd64 amd64/Oracle Corporation 1.8.0_77 (64-bit)/cpus=16,threads=1,free=238346048,total=532152320\n\n\n\n\n   [junit4]   2> NOTE: reproduce with: ant test  -Dtestcase=TestFloatRangeFieldQueries -Dtests.method=testRandomBig -Dtests.seed=90CE64A8F1BFDF78 -Dtests.multiplier=2 -Dtests.nightly=true -Dtests.slow=true -Dtests.linedocsfile=/home/jenkins/lucene-data/enwiki.random.lines.txt -Dtests.locale=no-NO -Dtests.timezone=America/Lima -Dtests.asserts=true -Dtests.file.encoding=UTF-8\n   [junit4] FAILURE  117s J9  | TestFloatRangeFieldQueries.testRandomBig <<<\n   [junit4]    > Throwable #1: java.lang.AssertionError: wrong hit (first of possibly more):\n   [junit4]    > FAIL (iter 28): id=973300 should not match but did\n   [junit4]    >  queryRange=Box(-Infinity TO Infinity)\n   [junit4]    >  box=Box(-7.845437E37 TO 1.6013746E38)\n   [junit4]    >  queryType=CONTAINS\n   [junit4]    >  deleted?=false\n   [junit4]    > \tat __randomizedtesting.SeedInfo.seed([90CE64A8F1BFDF78:1799192760E6A3F8]:0)\n   [junit4]    > \tat org.apache.lucene.search.BaseRangeFieldQueryTestCase.verify(BaseRangeFieldQueryTestCase.java:287)\n   [junit4]    > \tat org.apache.lucene.search.BaseRangeFieldQueryTestCase.doTestRandom(BaseRangeFieldQueryTestCase.java:158)\n   [junit4]    > \tat org.apache.lucene.search.BaseRangeFieldQueryTestCase.testRandomBig(BaseRangeFieldQueryTestCase.java:73)\n[...]\n   [junit4]   2> NOTE: test params are: codec=Asserting(Lucene70): {id=PostingsFormat(name=Asserting)}, docValues:{floatRangeField=DocValuesFormat(name=Memory), id=DocValuesFormat(name=Lucene70)}, maxPointsInLeafNode=69, maxMBSortInHeap=7.5037451812250175, sim=RandomSimilarity(queryNorm=true): {}, locale=no-NO, timezone=America/Lima\n\n\n\n\n   [junit4]   2> NOTE: reproduce with: ant test  -Dtestcase=TestDoubleRangeFieldQueries -Dtests.method=testRandomBig -Dtests.seed=90CE64A8F1BFDF78 -Dtests.multiplier=2 -Dtests.nightly=true -Dtests.slow=true -Dtests.linedocsfile=/home/jenkins/lucene-data/enwiki.random.lines.txt -Dtests.locale=th-TH -Dtests.timezone=America/Argentina/Tucuman -Dtests.asserts=true -Dtests.file.encoding=UTF-8\n   [junit4] FAILURE 99.0s J3  | TestDoubleRangeFieldQueries.testRandomBig <<<\n   [junit4]    > Throwable #1: java.lang.AssertionError: wrong hit (first of possibly more):\n   [junit4]    > FAIL (iter 28): id=973300 should not match but did\n   [junit4]    >  queryRange=Box(-Infinity TO Infinity)\n   [junit4]    >  box=Box(-7.36085005913449E307 TO 8.523870504147885E307)\n   [junit4]    >  queryType=CONTAINS\n   [junit4]    >  deleted?=false\n   [junit4]    > \tat __randomizedtesting.SeedInfo.seed([90CE64A8F1BFDF78:1799192760E6A3F8]:0)\n   [junit4]    > \tat org.apache.lucene.search.BaseRangeFieldQueryTestCase.verify(BaseRangeFieldQueryTestCase.java:287)\n   [junit4]    > \tat org.apache.lucene.search.BaseRangeFieldQueryTestCase.doTestRandom(BaseRangeFieldQueryTestCase.java:158)\n   [junit4]    > \tat org.apache.lucene.search.BaseRangeFieldQueryTestCase.testRandomBig(BaseRangeFieldQueryTestCase.java:73)\n[...]\n   [junit4]   2> NOTE: test params are: codec=Asserting(Lucene70): {id=FST50}, docValues:{doubleRangeField=DocValuesFormat(name=Direct), id=DocValuesFormat(name=Lucene70)}, maxPointsInLeafNode=1417, maxMBSortInHeap=5.119629868463383, sim=RandomSimilarity(queryNorm=true): {}, locale=th-TH, timezone=America/Argentina/Tucuman\n\n\n\n\n   [junit4]   2> NOTE: reproduce with: ant test  -Dtestcase=TestLongRangeFieldQueries -Dtests.method=testRandomBig -Dtests.seed=90CE64A8F1BFDF78 -Dtests.multiplier=2 -Dtests.nightly=true -Dtests.slow=true -Dtests.linedocsfile=/home/jenkins/lucene-data/enwiki.random.lines.txt -Dtests.locale=es-PA -Dtests.timezone=Japan -Dtests.asserts=true -Dtests.file.encoding=UTF-8\n   [junit4] FAILURE 20.9s J0  | TestLongRangeFieldQueries.testRandomBig <<<\n   [junit4]    > Throwable #1: java.lang.AssertionError: wrong hit (first of possibly more):\n   [junit4]    > FAIL (iter 28): id=973300 should not match but did\n   [junit4]    >  queryRange=Box(-9223372036854775808 TO 9223372036854775807)\n   [junit4]    >  box=Box(1271381922996258183 TO 5565160005248567491)\n   [junit4]    >  queryType=CONTAINS\n   [junit4]    >  deleted?=false\n   [junit4]    > \tat __randomizedtesting.SeedInfo.seed([90CE64A8F1BFDF78:1799192760E6A3F8]:0)\n   [junit4]    > \tat org.apache.lucene.search.BaseRangeFieldQueryTestCase.verify(BaseRangeFieldQueryTestCase.java:287)\n   [junit4]    > \tat org.apache.lucene.search.BaseRangeFieldQueryTestCase.doTestRandom(BaseRangeFieldQueryTestCase.java:158)\n   [junit4]    > \tat org.apache.lucene.search.BaseRangeFieldQueryTestCase.testRandomBig(BaseRangeFieldQueryTestCase.java:73)\n[...]\n   [junit4]   2> NOTE: test params are: codec=Asserting(Lucene70): {id=PostingsFormat(name=Memory)}, docValues:{id=DocValuesFormat(name=Lucene70), longRangeField=DocValuesFormat(name=Lucene70)}, maxPointsInLeafNode=1662, maxMBSortInHeap=7.229886137397981, sim=RandomSimilarity(queryNorm=false): {}, locale=es-PA, timezone=Japan",
    "attachments": {},
    "issue_links": {},
    "comments": [
        {
            "id": "comment-15984895",
            "date": "2017-04-26T14:25:31+0000",
            "content": "I used the TestIntRangeFieldQueries repro line with git bisect; the first failing commit is 907c43ce7af389c42ef200e5c2ecefbc5eee8a7a, which was committed under LUCENE-7449. ",
            "author": "Steve Rowe"
        },
        {
            "id": "comment-15989670",
            "date": "2017-04-29T01:01:35+0000",
            "content": "My Jenkins found a reproducing seed for testRandomTiny() for all 4 Test*RangeFieldQueries suites (I did not run git bisect to find the first failing commit for these):\n\n\n   [junit4]   2> NOTE: reproduce with: ant test  -Dtestcase=TestLongRangeFieldQueries -Dtests.method=testRandomTiny -Dtests.seed=CA203E745CDBBB7B -Dtests.multiplier=2 -Dtests.nightly=true -Dtests.slow=true -Dtests.linedocsfile=/home/jenkins/lucene-data/enwiki.random.lines.txt -Dtests.locale=ar-JO -Dtests.timezone=Pacific/Pago_Pago -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1\n   [junit4] FAILURE 0.02s J4  | TestLongRangeFieldQueries.testRandomTiny <<<\n   [junit4]    > Throwable #1: java.lang.AssertionError: wrong hit (first of possibly more):\n   [junit4]    > FAIL (iter 12): id=0 should not match but did\n   [junit4]    >  queryRange=Box(-9223372036854775808 TO 9223372036854775807)\n   [junit4]    >  box=Box(-7801183850520246677 TO -4964726929345376585)\n   [junit4]    >  queryType=CONTAINS\n   [junit4]    >  deleted?=false\n   [junit4]    > \tat __randomizedtesting.SeedInfo.seed([CA203E745CDBBB7B:8367E03202FA83D7]:0)\n   [junit4]    > \tat org.apache.lucene.search.BaseRangeFieldQueryTestCase.verify(BaseRangeFieldQueryTestCase.java:287)\n   [junit4]    > \tat org.apache.lucene.search.BaseRangeFieldQueryTestCase.doTestRandom(BaseRangeFieldQueryTestCase.java:158)\n   [junit4]    > \tat org.apache.lucene.search.BaseRangeFieldQueryTestCase.testRandomTiny(BaseRangeFieldQueryTestCase.java:64)\n[...]\n   [junit4]   2> NOTE: test params are: codec=Lucene70, sim=RandomSimilarity(queryNorm=true): {}, locale=ar-JO, timezone=Pacific/Pago_Pago\n   [junit4]   2> NOTE: Linux 4.1.0-custom2-amd64 amd64/Oracle Corporation 1.8.0_77 (64-bit)/cpus=16,threads=1,free=287973992,total=455081984\n\n\n\n\n   [junit4]   2> NOTE: reproduce with: ant test  -Dtestcase=TestDoubleRangeFieldQueries -Dtests.method=testRandomTiny -Dtests.seed=CA203E745CDBBB7B -Dtests.multiplier=2 -Dtests.nightly=true -Dtests.slow=true -Dtests.linedocsfile=/home/jenkins/lucene-data/enwiki.random.lines.txt -Dtests.locale=ko -Dtests.timezone=Europe/Samara -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1\n   [junit4] FAILURE 0.01s J8  | TestDoubleRangeFieldQueries.testRandomTiny <<<\n   [junit4]    > Throwable #1: java.lang.AssertionError: wrong hit (first of possibly more):\n   [junit4]    > FAIL (iter 12): id=0 should not match but did\n   [junit4]    >  queryRange=Box(-Infinity TO Infinity)\n   [junit4]    >  box=Box(-4.322208110367465E307 TO -2.940099941534568E307)\n   [junit4]    >  queryType=CONTAINS\n   [junit4]    >  deleted?=false\n   [junit4]    > \tat __randomizedtesting.SeedInfo.seed([CA203E745CDBBB7B:8367E03202FA83D7]:0)\n   [junit4]    > \tat org.apache.lucene.search.BaseRangeFieldQueryTestCase.verify(BaseRangeFieldQueryTestCase.java:287)\n   [junit4]    > \tat org.apache.lucene.search.BaseRangeFieldQueryTestCase.doTestRandom(BaseRangeFieldQueryTestCase.java:158)\n   [junit4]    > \tat org.apache.lucene.search.BaseRangeFieldQueryTestCase.testRandomTiny(BaseRangeFieldQueryTestCase.java:64)\n[...]\n   [junit4]   2> NOTE: test params are: codec=Asserting(Lucene70): {id=PostingsFormat(name=LuceneVarGapDocFreqInterval)}, docValues:{doubleRangeField=DocValuesFormat(name=Direct), id=DocValuesFormat(name=Lucene70)}, maxPointsInLeafNode=857, maxMBSortInHeap=5.262063554817104, sim=RandomSimilarity(queryNorm=true): {}, locale=ko, timezone=Europe/Samara\n   [junit4]   2> NOTE: Linux 4.1.0-custom2-amd64 amd64/Oracle Corporation 1.8.0_77 (64-bit)/cpus=16,threads=1,free=213636832,total=418906112\n\n\n\n\n   [junit4]   2> NOTE: reproduce with: ant test  -Dtestcase=TestFloatRangeFieldQueries -Dtests.method=testRandomTiny -Dtests.seed=CA203E745CDBBB7B -Dtests.multiplier=2 -Dtests.nightly=true -Dtests.slow=true -Dtests.linedocsfile=/home/jenkins/lucene-data/enwiki.random.lines.txt -Dtests.locale=es-MX -Dtests.timezone=America/Manaus -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1\n   [junit4] FAILURE 0.01s J6  | TestFloatRangeFieldQueries.testRandomTiny <<<\n   [junit4]    > Throwable #1: java.lang.AssertionError: wrong hit (first of possibly more):\n   [junit4]    > FAIL (iter 12): id=0 should not match but did\n   [junit4]    >  queryRange=Box(-Infinity TO Infinity)\n   [junit4]    >  box=Box(-8.078581E37 TO 3.0421576E37)\n   [junit4]    >  queryType=CONTAINS\n   [junit4]    >  deleted?=false\n   [junit4]    > \tat __randomizedtesting.SeedInfo.seed([CA203E745CDBBB7B:8367E03202FA83D7]:0)\n   [junit4]    > \tat org.apache.lucene.search.BaseRangeFieldQueryTestCase.verify(BaseRangeFieldQueryTestCase.java:287)\n   [junit4]    > \tat org.apache.lucene.search.BaseRangeFieldQueryTestCase.doTestRandom(BaseRangeFieldQueryTestCase.java:158)\n   [junit4]    > \tat org.apache.lucene.search.BaseRangeFieldQueryTestCase.testRandomTiny(BaseRangeFieldQueryTestCase.java:64)\n[...]\n   [junit4]   2> NOTE: test params are: codec=Asserting(Lucene70): {id=FSTOrd50}, docValues:{floatRangeField=DocValuesFormat(name=Direct), id=DocValuesFormat(name=Direct)}, maxPointsInLeafNode=956, maxMBSortInHeap=7.104765246389017, sim=RandomSimilarity(queryNorm=true): {}, locale=es-MX, timezone=America/Manaus\n   [junit4]   2> NOTE: Linux 4.1.0-custom2-amd64 amd64/Oracle Corporation 1.8.0_77 (64-bit)/cpus=16,threads=1,free=278765944,total=403177472\n\n\n\n\n   [junit4]   2> NOTE: reproduce with: ant test  -Dtestcase=TestIntRangeFieldQueries -Dtests.method=testRandomTiny -Dtests.seed=CA203E745CDBBB7B -Dtests.multiplier=2 -Dtests.nightly=true -Dtests.slow=true -Dtests.linedocsfile=/home/jenkins/lucene-data/enwiki.random.lines.txt -Dtests.locale=hu-HU -Dtests.timezone=Kwajalein -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1\n   [junit4] FAILURE 0.06s J9  | TestIntRangeFieldQueries.testRandomTiny <<<\n   [junit4]    > Throwable #1: java.lang.AssertionError: wrong hit (first of possibly more):\n   [junit4]    > FAIL (iter 12): id=0 should not match but did\n   [junit4]    >  queryRange=Box(-2147483648 TO 2147483647)\n   [junit4]    >  box=Box(-1181905225 TO 305792619)\n   [junit4]    >  queryType=CONTAINS\n   [junit4]    >  deleted?=false\n   [junit4]    > \tat __randomizedtesting.SeedInfo.seed([CA203E745CDBBB7B:8367E03202FA83D7]:0)\n   [junit4]    > \tat org.apache.lucene.search.BaseRangeFieldQueryTestCase.verify(BaseRangeFieldQueryTestCase.java:287)\n   [junit4]    > \tat org.apache.lucene.search.BaseRangeFieldQueryTestCase.doTestRandom(BaseRangeFieldQueryTestCase.java:158)\n   [junit4]    > \tat org.apache.lucene.search.BaseRangeFieldQueryTestCase.testRandomTiny(BaseRangeFieldQueryTestCase.java:64)\n[...]\n   [junit4]   2> NOTE: test params are: codec=Asserting(Lucene70): {id=PostingsFormat(name=MockRandom)}, docValues:{id=DocValuesFormat(name=Memory), intRangeField=DocValuesFormat(name=Direct)}, maxPointsInLeafNode=981, maxMBSortInHeap=6.92326027505176, sim=RandomSimilarity(queryNorm=false): {}, locale=hu-HU, timezone=Kwajalein\n   [junit4]   2> NOTE: Linux 4.1.0-custom2-amd64 amd64/Oracle Corporation 1.8.0_77 (64-bit)/cpus=16,threads=1,free=225819304,total=507510784\n\n ",
            "author": "Steve Rowe"
        },
        {
            "id": "comment-15989878",
            "date": "2017-04-29T13:28:18+0000",
            "content": "ASF Jenkins found another reproducing seed for testRandomTiny() failures https://builds.apache.org/job/Lucene-Solr-NightlyTests-master/1288:\n\n\n   [junit4]   2> NOTE: reproduce with: ant test  -Dtestcase=TestLongRangeFieldQueries -Dtests.method=testRandomTiny -Dtests.seed=69A0759E7B6AFB0B -Dtests.multiplier=2 -Dtests.nightly=true -Dtests.slow=true -Dtests.linedocsfile=/home/jenkins/jenkins-slave/workspace/Lucene-Solr-NightlyTests-master/test-data/enwiki.random.lines.txt -Dtests.locale=th-TH-u-nu-thai-x-lvariant-TH -Dtests.timezone=Asia/Jerusalem -Dtests.asserts=true -Dtests.file.encoding=UTF-8\n   [junit4] FAILURE 0.10s J2 | TestLongRangeFieldQueries.testRandomTiny <<<\n   [junit4]    > Throwable #1: java.lang.AssertionError: wrong hit (first of possibly more):\n   [junit4]    > FAIL (iter 87): id=0 should not match but did\n   [junit4]    >  queryRange=Box(-9223372036854775808 TO 9223372036854775807)\n   [junit4]    >  box=Box(-5634937821465863869 TO 6781131293060666383)\n   [junit4]    >  queryType=CONTAINS\n   [junit4]    >  deleted?=false\n   [junit4]    > \tat __randomizedtesting.SeedInfo.seed([69A0759E7B6AFB0B:20E7ABD8254BC3A7]:0)\n   [junit4]    > \tat org.apache.lucene.search.BaseRangeFieldQueryTestCase.verify(BaseRangeFieldQueryTestCase.java:287)\n   [junit4]    > \tat org.apache.lucene.search.BaseRangeFieldQueryTestCase.doTestRandom(BaseRangeFieldQueryTestCase.java:158)\n   [junit4]    > \tat org.apache.lucene.search.BaseRangeFieldQueryTestCase.testRandomTiny(BaseRangeFieldQueryTestCase.java:64)\n[...]\n   [junit4]   2> NOTE: test params are: codec=Asserting(Lucene70): {id=TestBloomFilteredLucenePostings(BloomFilteringPostingsFormat(Lucene50(blocksize=128)))}, docValues:{id=DocValuesFormat(name=Lucene70), longRangeField=DocValuesFormat(name=Lucene70)}, maxPointsInLeafNode=1325, maxMBSortInHeap=5.728447065351258, sim=RandomSimilarity(queryNorm=false): {}, locale=th-TH-u-nu-thai-x-lvariant-TH, timezone=Asia/Jerusalem\n   [junit4]   2> NOTE: Linux 3.13.0-88-generic amd64/Oracle Corporation 1.8.0_121 (64-bit)/cpus=4,threads=1,free=104683560,total=353370112\n\n\n\n\n   [junit4]   2> NOTE: reproduce with: ant test  -Dtestcase=TestDoubleRangeFieldQueries -Dtests.method=testRandomTiny -Dtests.seed=69A0759E7B6AFB0B -Dtests.multiplier=2 -Dtests.nightly=true -Dtests.slow=true -Dtests.linedocsfile=/home/jenkins/jenkins-slave/workspace/Lucene-Solr-NightlyTests-master/test-data/enwiki.random.lines.txt -Dtests.locale=hu-HU -Dtests.timezone=Asia/Kuala_Lumpur -Dtests.asserts=true -Dtests.file.encoding=UTF-8\n   [junit4] FAILURE 0.04s J0 | TestDoubleRangeFieldQueries.testRandomTiny <<<\n   [junit4]    > Throwable #1: java.lang.AssertionError: wrong hit (first of possibly more):\n   [junit4]    > FAIL (iter 87): id=0 should not match but did\n   [junit4]    >  queryRange=Box(-Infinity TO Infinity)\n   [junit4]    >  box=Box(4.992828343822847E307 TO 7.931369402719117E307)\n   [junit4]    >  queryType=CONTAINS\n   [junit4]    >  deleted?=false\n   [junit4]    > \tat __randomizedtesting.SeedInfo.seed([69A0759E7B6AFB0B:20E7ABD8254BC3A7]:0)\n   [junit4]    > \tat org.apache.lucene.search.BaseRangeFieldQueryTestCase.verify(BaseRangeFieldQueryTestCase.java:287)\n   [junit4]    > \tat org.apache.lucene.search.BaseRangeFieldQueryTestCase.doTestRandom(BaseRangeFieldQueryTestCase.java:158)\n   [junit4]    > \tat org.apache.lucene.search.BaseRangeFieldQueryTestCase.testRandomTiny(BaseRangeFieldQueryTestCase.java:64)\n[...]\n   [junit4]   2> NOTE: test params are: codec=CheapBastard, sim=RandomSimilarity(queryNorm=false): {}, locale=hu-HU, timezone=Asia/Kuala_Lumpur\n   [junit4]   2> NOTE: Linux 3.13.0-88-generic amd64/Oracle Corporation 1.8.0_121 (64-bit)/cpus=4,threads=1,free=288978264,total=373817344\n\n\n\n\n   [junit4]   2> NOTE: reproduce with: ant test  -Dtestcase=TestFloatRangeFieldQueries -Dtests.method=testRandomTiny -Dtests.seed=69A0759E7B6AFB0B -Dtests.multiplier=2 -Dtests.nightly=true -Dtests.slow=true -Dtests.linedocsfile=/home/jenkins/jenkins-slave/workspace/Lucene-Solr-NightlyTests-master/test-data/enwiki.random.lines.txt -Dtests.locale=ar-AE -Dtests.timezone=US/Eastern -Dtests.asserts=true -Dtests.file.encoding=UTF-8\n   [junit4] FAILURE 0.01s J2 | TestFloatRangeFieldQueries.testRandomTiny <<<\n   [junit4]    > Throwable #1: java.lang.AssertionError: wrong hit (first of possibly more):\n   [junit4]    > FAIL (iter 87): id=0 should not match but did\n   [junit4]    >  queryRange=Box(-Infinity TO Infinity)\n   [junit4]    >  box=Box(-1.1309494E38 TO 1.5677334E38)\n   [junit4]    >  queryType=CONTAINS\n   [junit4]    >  deleted?=false\n   [junit4]    > \tat __randomizedtesting.SeedInfo.seed([69A0759E7B6AFB0B:20E7ABD8254BC3A7]:0)\n   [junit4]    > \tat org.apache.lucene.search.BaseRangeFieldQueryTestCase.verify(BaseRangeFieldQueryTestCase.java:287)\n   [junit4]    > \tat org.apache.lucene.search.BaseRangeFieldQueryTestCase.doTestRandom(BaseRangeFieldQueryTestCase.java:158)\n   [junit4]    > \tat org.apache.lucene.search.BaseRangeFieldQueryTestCase.testRandomTiny(BaseRangeFieldQueryTestCase.java:64)\n[...]\n   [junit4]   2> NOTE: test params are: codec=Asserting(Lucene70): {id=PostingsFormat(name=LuceneVarGapFixedInterval)}, docValues:{floatRangeField=DocValuesFormat(name=Asserting), id=DocValuesFormat(name=Memory)}, maxPointsInLeafNode=201, maxMBSortInHeap=5.395318562767361, sim=RandomSimilarity(queryNorm=true): {}, locale=ar-AE, timezone=US/Eastern\n   [junit4]   2> NOTE: Linux 3.13.0-88-generic amd64/Oracle Corporation 1.8.0_121 (64-bit)/cpus=4,threads=1,free=434881432,total=498073600\n\n\n\n\n   [junit4]   2> NOTE: reproduce with: ant test  -Dtestcase=TestIntRangeFieldQueries -Dtests.method=testRandomTiny -Dtests.seed=69A0759E7B6AFB0B -Dtests.multiplier=2 -Dtests.nightly=true -Dtests.slow=true -Dtests.linedocsfile=/home/jenkins/jenkins-slave/workspace/Lucene-Solr-NightlyTests-master/test-data/enwiki.random.lines.txt -Dtests.locale=de-GR -Dtests.timezone=Asia/Thimbu -Dtests.asserts=true -Dtests.file.encoding=UTF-8\n   [junit4] FAILURE 0.01s J2 | TestIntRangeFieldQueries.testRandomTiny <<<\n   [junit4]    > Throwable #1: java.lang.AssertionError: wrong hit (first of possibly more):\n   [junit4]    > FAIL (iter 87): id=0 should not match but did\n   [junit4]    >  queryRange=Box(-2147483648 TO 2147483647)\n   [junit4]    >  box=Box(-366308337 TO 1411193155)\n   [junit4]    >  queryType=CONTAINS\n   [junit4]    >  deleted?=false\n   [junit4]    > \tat __randomizedtesting.SeedInfo.seed([69A0759E7B6AFB0B:20E7ABD8254BC3A7]:0)\n   [junit4]    > \tat org.apache.lucene.search.BaseRangeFieldQueryTestCase.verify(BaseRangeFieldQueryTestCase.java:287)\n   [junit4]    > \tat org.apache.lucene.search.BaseRangeFieldQueryTestCase.doTestRandom(BaseRangeFieldQueryTestCase.java:158)\n   [junit4]    > \tat org.apache.lucene.search.BaseRangeFieldQueryTestCase.testRandomTiny(BaseRangeFieldQueryTestCase.java:64)\n[...]\n   [junit4]   2> NOTE: test params are: codec=Asserting(Lucene70): {id=PostingsFormat(name=Direct)}, docValues:{id=DocValuesFormat(name=Lucene70), intRangeField=DocValuesFormat(name=Memory)}, maxPointsInLeafNode=528, maxMBSortInHeap=7.090080949615185, sim=RandomSimilarity(queryNorm=false): {}, locale=de-GR, timezone=Asia/Thimbu\n   [junit4]   2> NOTE: Linux 3.13.0-88-generic amd64/Oracle Corporation 1.8.0_121 (64-bit)/cpus=4,threads=1,free=109562936,total=488636416\n\n ",
            "author": "Steve Rowe"
        },
        {
            "id": "comment-16013495",
            "date": "2017-05-17T04:24:39+0000",
            "content": "Another reproducing master seed from ASF Jenkins for all 4 tests' .testRandomTiny() - here's the Int one:\n\n\nant test  -Dtestcase=TestIntRangeFieldQueries -Dtests.method=testRandomTiny -Dtests.seed=7FAAAB755DD26282 -Dtests.multiplier=2 -Dtests.nightly=true -Dtests.slow=true -Dtests.linedocsfile=/home/jenkins/jenkins-slave/workspace/Lucene-Solr-NightlyTests-master/test-data/enwiki.random.lines.txt -Dtests.locale=fr-LU -Dtests.timezone=America/Creston -Dtests.asserts=true -Dtests.file.encoding=US-ASCII\n\n ",
            "author": "Steve Rowe"
        },
        {
            "id": "comment-16021373",
            "date": "2017-05-23T15:51:54+0000",
            "content": "I opened LUCENE-7847 which is the cause of the last failure, but all reported seeds seem to be the same issue. It only fails with tiny ranges because this bug only occurs when the query seems to match all documents, which gets more and more unlikely as we add more documents given that values are computed randomly. ",
            "author": "Adrien Grand"
        },
        {
            "id": "comment-16022395",
            "date": "2017-05-24T06:50:57+0000",
            "content": "Closing now that LUCENE-7847 has been addressed. Thanks Steve Rowe for having logged those failures, we should have dug earlier. ",
            "author": "Adrien Grand"
        }
    ]
}