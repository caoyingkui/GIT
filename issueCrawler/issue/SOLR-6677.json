{
    "id": "SOLR-6677",
    "title": "Reduce logging during startup and shutdown",
    "details": {
        "components": [
            "logging"
        ],
        "type": "Bug",
        "labels": "",
        "fix_versions": [
            "6.3",
            "7.0"
        ],
        "affect_versions": "None",
        "status": "Closed",
        "resolution": "Fixed",
        "priority": "Major"
    },
    "description": "most of what is printed is neither helpful nor useful. It's just noise",
    "attachments": {
        "SOLR-6677-part-2.patch": "https://issues.apache.org/jira/secure/attachment/12830051/SOLR-6677-part-2.patch",
        "SOLR-6677-part3.patch": "https://issues.apache.org/jira/secure/attachment/12830327/SOLR-6677-part3.patch",
        "SOLR-6677.patch": "https://issues.apache.org/jira/secure/attachment/12829390/SOLR-6677.patch",
        "SOLR-6677-part-4.patch": "https://issues.apache.org/jira/secure/attachment/12830479/SOLR-6677-part-4.patch"
    },
    "issue_links": {},
    "comments": [
        {
            "date": "2016-09-15T13:16:33+0000",
            "author": "Jan H\u00f8ydahl",
            "content": "So let's be more specific here, shall we?\n\nHere are some examples:\n\nStandalone mode\n\n> bin/solr start\nStarting Solr on port 8983 from /Users/janhoy/git/lucene-solr/solr/server\n\n0    INFO  (main) [   ] o.e.j.u.log Logging initialized @390ms\n190  INFO  (main) [   ] o.e.j.s.Server jetty-9.3.8.v20160314\n209  INFO  (main) [   ] o.e.j.d.p.ScanningAppProvider Deployment monitor [file:///Users/janhoy/git/lucene-solr/solr/server/contexts/] at interval 0\n409  INFO  (main) [   ] o.e.j.w.StandardDescriptorProcessor NO JSP Support for /solr, did not find org.apache.jasper.servlet.JspServlet\n421  WARN  (main) [   ] o.e.j.s.SecurityHandler ServletContext@o.e.j.w.WebAppContext@6536e911{/solr,file:///Users/janhoy/git/lucene-solr/solr/server/solr-webapp/webapp/,STARTING}{/Users/janhoy/git/lucene-solr/solr/server/solr-webapp/webapp} has uncovered http methods for path: /\n429  INFO  (main) [   ] o.a.s.s.SolrDispatchFilter SolrDispatchFilter.init(): WebAppClassLoader=143110009@887af79\n446  INFO  (main) [   ] o.a.s.c.SolrResourceLoader JNDI not configured for solr (NoInitialContextEx)\n446  INFO  (main) [   ] o.a.s.c.SolrResourceLoader using system property solr.solr.home: /Users/janhoy/git/lucene-solr/solr/server/solr\n447  INFO  (main) [   ] o.a.s.c.SolrResourceLoader new SolrResourceLoader for directory: '/Users/janhoy/git/lucene-solr/solr/server/solr'\n448  INFO  (main) [   ] o.a.s.c.SolrResourceLoader JNDI not configured for solr (NoInitialContextEx)\n448  INFO  (main) [   ] o.a.s.c.SolrResourceLoader using system property solr.solr.home: /Users/janhoy/git/lucene-solr/solr/server/solr\n453  INFO  (main) [   ] o.a.s.c.SolrXmlConfig Loading container configuration from /Users/janhoy/git/lucene-solr/solr/server/solr/solr.xml\n574  INFO  (main) [   ] o.a.s.c.CorePropertiesLocator Config-defined core root directory: /Users/janhoy/git/lucene-solr/solr/server/solr\n595  INFO  (main) [   ] o.a.s.c.CoreContainer New CoreContainer 1256440269\n596  INFO  (main) [   ] o.a.s.c.CoreContainer Loading cores into CoreContainer [instanceDir=/Users/janhoy/git/lucene-solr/solr/server/solr]\n596  WARN  (main) [   ] o.a.s.c.CoreContainer Couldn't add files from /Users/janhoy/git/lucene-solr/solr/server/solr/lib to classpath: /Users/janhoy/git/lucene-solr/solr/server/solr/lib\n604  INFO  (main) [   ] o.a.s.h.c.HttpShardHandlerFactory created with socketTimeout : 600000,connTimeout : 60000,maxConnectionsPerHost : 20,maxConnections : 10000,corePoolSize : 0,maximumPoolSize : 2147483647,maxThreadIdleTime : 5,sizeOfQueue : -1,fairnessPolicy : false,\n851  INFO  (main) [   ] o.a.s.u.UpdateShardHandler Created UpdateShardHandler HTTP client with params: socketTimeout=600000&connTimeout=60000&maxConnections=100000&maxConnectionsPerHost=100000\n852  INFO  (main) [   ] o.a.s.l.LogWatcher SLF4J impl is org.slf4j.impl.Log4jLoggerFactory\n853  INFO  (main) [   ] o.a.s.l.LogWatcher Registering Log Listener [Log4j (org.slf4j.impl.Log4jLoggerFactory)]\n855  INFO  (main) [   ] o.a.s.c.CoreContainer Security conf doesn't exist. Skipping setup for authorization module.\n855  INFO  (main) [   ] o.a.s.c.CoreContainer No authentication plugin used.\n901  INFO  (main) [   ] o.a.s.c.CorePropertiesLocator Looking for core definitions underneath /Users/janhoy/git/lucene-solr/solr/server/solr\n909  INFO  (main) [   ] o.a.s.c.CorePropertiesLocator Found 0 core definitions\n912  INFO  (main) [   ] o.a.s.s.SolrDispatchFilter user.dir=/Users/janhoy/git/lucene-solr/solr/server\n912  INFO  (main) [   ] o.a.s.s.SolrDispatchFilter SolrDispatchFilter.init() done\n924  INFO  (main) [   ] o.e.j.s.h.ContextHandler Started o.e.j.w.WebAppContext@6536e911{/solr,file:///Users/janhoy/git/lucene-solr/solr/server/solr-webapp/webapp/,AVAILABLE}{/Users/janhoy/git/lucene-solr/solr/server/solr-webapp/webapp}\n946  INFO  (main) [   ] o.e.j.s.ServerConnector Started ServerConnector@683dbc2c{HTTP/1.1,[http/1.1]}{0.0.0.0:8983}\n946  INFO  (main) [   ] o.e.j.s.Server Started @1338ms\n\n\n\nCloud mode\n\n> bin/solr start -c\nStarting Solr in SolrCloud mode on port 8983 from /Users/janhoy/git/lucene-solr/solr/server\n\n0    INFO  (main) [   ] o.e.j.u.log Logging initialized @298ms\n135  INFO  (main) [   ] o.e.j.s.Server jetty-9.3.8.v20160314\n149  INFO  (main) [   ] o.e.j.d.p.ScanningAppProvider Deployment monitor [file:///Users/janhoy/git/lucene-solr/solr/server/contexts/] at interval 0\n336  INFO  (main) [   ] o.e.j.w.StandardDescriptorProcessor NO JSP Support for /solr, did not find org.apache.jasper.servlet.JspServlet\n345  WARN  (main) [   ] o.e.j.s.SecurityHandler ServletContext@o.e.j.w.WebAppContext@6536e911{/solr,file:///Users/janhoy/git/lucene-solr/solr/server/solr-webapp/webapp/,STARTING}{/Users/janhoy/git/lucene-solr/solr/server/solr-webapp/webapp} has uncovered http methods for path: /\n355  INFO  (main) [   ] o.a.s.s.SolrDispatchFilter SolrDispatchFilter.init(): WebAppClassLoader=143110009@887af79\n373  INFO  (main) [   ] o.a.s.c.SolrResourceLoader JNDI not configured for solr (NoInitialContextEx)\n373  INFO  (main) [   ] o.a.s.c.SolrResourceLoader using system property solr.solr.home: /Users/janhoy/git/lucene-solr/solr/server/solr\n374  INFO  (main) [   ] o.a.s.c.SolrResourceLoader new SolrResourceLoader for directory: '/Users/janhoy/git/lucene-solr/solr/server/solr'\n374  INFO  (main) [   ] o.a.s.c.SolrResourceLoader JNDI not configured for solr (NoInitialContextEx)\n374  INFO  (main) [   ] o.a.s.c.SolrResourceLoader using system property solr.solr.home: /Users/janhoy/git/lucene-solr/solr/server/solr\n387  INFO  (main) [   ] o.a.s.c.SolrXmlConfig Loading container configuration from /Users/janhoy/git/lucene-solr/solr/server/solr/solr.xml\n451  INFO  (main) [   ] o.a.s.c.CorePropertiesLocator Config-defined core root directory: /Users/janhoy/git/lucene-solr/solr/server/solr\n478  INFO  (main) [   ] o.a.s.c.CoreContainer New CoreContainer 1256440269\n478  INFO  (main) [   ] o.a.s.c.CoreContainer Loading cores into CoreContainer [instanceDir=/Users/janhoy/git/lucene-solr/solr/server/solr]\n479  WARN  (main) [   ] o.a.s.c.CoreContainer Couldn't add files from /Users/janhoy/git/lucene-solr/solr/server/solr/lib to classpath: /Users/janhoy/git/lucene-solr/solr/server/solr/lib\n489  INFO  (main) [   ] o.a.s.h.c.HttpShardHandlerFactory created with socketTimeout : 600000,connTimeout : 60000,maxConnectionsPerHost : 20,maxConnections : 10000,corePoolSize : 0,maximumPoolSize : 2147483647,maxThreadIdleTime : 5,sizeOfQueue : -1,fairnessPolicy : false,\n710  INFO  (main) [   ] o.a.s.u.UpdateShardHandler Created UpdateShardHandler HTTP client with params: socketTimeout=600000&connTimeout=60000&maxConnections=100000&maxConnectionsPerHost=100000\n712  INFO  (main) [   ] o.a.s.l.LogWatcher SLF4J impl is org.slf4j.impl.Log4jLoggerFactory\n713  INFO  (main) [   ] o.a.s.l.LogWatcher Registering Log Listener [Log4j (org.slf4j.impl.Log4jLoggerFactory)]\n719  INFO  (main) [   ] o.a.s.c.SolrZkServerProps Reading configuration from: /Users/janhoy/git/lucene-solr/solr/server/solr/zoo.cfg\n721  INFO  (main) [   ] o.a.s.c.SolrZkServer STARTING EMBEDDED STANDALONE ZOOKEEPER SERVER at port 9983\n1222 INFO  (main) [   ] o.a.s.c.ZkContainer Zookeeper client=localhost:9983\n1244 INFO  (main) [   ] o.a.s.c.ZkController Added new OnReconnect listener org.apache.solr.cloud.ZkController$$Lambda$2/2110756088@229f66ed\n1260 INFO  (main) [   ] o.a.s.c.c.ConnectionManager Waiting for client to connect to ZooKeeper\n1973 INFO  (zkCallback-3-thread-1-processing-n:192.168.127.63:8983_solr) [   ] o.a.s.c.c.ConnectionManager Watcher org.apache.solr.common.cloud.ConnectionManager@400a21 name:ZooKeeperConnection Watcher:localhost:9983 got event WatchedEvent state:SyncConnected type:None path:null path:null type:None\n1974 INFO  (main) [   ] o.a.s.c.c.ConnectionManager Client is connected to ZooKeeper\n1986 INFO  (main) [   ] o.a.s.c.c.SolrZkClient makePath: /overseer/queue\n1992 INFO  (main) [   ] o.a.s.c.c.SolrZkClient makePath: /overseer/collection-queue-work\n1999 INFO  (main) [   ] o.a.s.c.c.SolrZkClient makePath: /overseer/collection-map-running\n2004 INFO  (main) [   ] o.a.s.c.c.SolrZkClient makePath: /overseer/collection-map-completed\n2009 INFO  (main) [   ] o.a.s.c.c.SolrZkClient makePath: /overseer/collection-map-failure\n2018 INFO  (main) [   ] o.a.s.c.c.SolrZkClient makePath: /live_nodes\n2020 INFO  (main) [   ] o.a.s.c.c.SolrZkClient makePath: /collections\n2022 INFO  (main) [   ] o.a.s.c.c.SolrZkClient makePath: /aliases.json\n2026 INFO  (main) [   ] o.a.s.c.c.SolrZkClient makePath: /clusterstate.json\n2029 INFO  (main) [   ] o.a.s.c.c.SolrZkClient makePath: /security.json\n2031 INFO  (main) [   ] o.a.s.c.c.ZkStateReader Updating cluster state from ZooKeeper... \n2033 INFO  (main) [   ] o.a.s.c.c.ZkStateReader Loaded empty cluster properties\n2036 INFO  (main) [   ] o.a.s.c.c.ZkStateReader Updated live nodes from ZooKeeper... (0) -> (0)\n2053 INFO  (main) [   ] o.a.s.c.c.SolrZkClient makePath: /overseer_elect\n2055 INFO  (main) [   ] o.a.s.c.c.SolrZkClient makePath: /overseer_elect/election\n2057 INFO  (main) [   ] o.a.s.c.Overseer Overseer (id=null) closing\n2059 INFO  (main) [   ] o.a.s.c.LeaderElector Joined leadership election with path: /overseer_elect/election/96596475124711424-192.168.127.63:8983_solr-n_0000000000\n2061 INFO  (main) [   ] o.a.s.c.OverseerElectionContext I am going to be the leader 192.168.127.63:8983_solr\n2063 INFO  (main) [   ] o.a.s.c.c.SolrZkClient makePath: /overseer_elect/leader\n2065 INFO  (main) [   ] o.a.s.c.Overseer Overseer (id=96596475124711424-192.168.127.63:8983_solr-n_0000000000) starting\n2071 INFO  (main) [   ] o.a.s.c.c.SolrZkClient makePath: /overseer/queue-work\n2133 INFO  (main) [   ] o.a.s.c.OverseerAutoReplicaFailoverThread Starting OverseerAutoReplicaFailoverThread autoReplicaFailoverWorkLoopDelay=10000 autoReplicaFailoverWaitAfterExpiration=30000 autoReplicaFailoverBadNodeExpiration=60000\n2147 INFO  (OverseerCollectionConfigSetProcessor-96596475124711424-192.168.127.63:8983_solr-n_0000000000) [   ] o.a.s.c.OverseerTaskProcessor Process current queue of overseer operations\n2148 INFO  (main) [   ] o.a.s.c.ZkController Register node as live in ZooKeeper:/live_nodes/192.168.127.63:8983_solr\n2148 INFO  (main) [   ] o.a.s.c.c.SolrZkClient makePath: /live_nodes/192.168.127.63:8983_solr\n2151 INFO  (zkCallback-3-thread-1-processing-n:192.168.127.63:8983_solr) [   ] o.a.s.c.c.ZkStateReader A live node change: [WatchedEvent state:SyncConnected type:NodeChildrenChanged path:/live_nodes], has occurred - updating... (live nodes size: [0])\n2152 INFO  (zkCallback-3-thread-1-processing-n:192.168.127.63:8983_solr) [   ] o.a.s.c.c.ZkStateReader Updated live nodes from ZooKeeper... (0) -> (1)\n2156 INFO  (OverseerStateUpdate-96596475124711424-192.168.127.63:8983_solr-n_0000000000) [   ] o.a.s.c.Overseer Starting to work on the main queue\n2158 INFO  (OverseerStateUpdate-96596475124711424-192.168.127.63:8983_solr-n_0000000000) [   ] o.a.s.c.c.ZkStateReader Updated live nodes from ZooKeeper... (1) -> (1)\n2215 INFO  (main) [   ] o.a.s.c.CoreContainer Security conf doesn't exist. Skipping setup for authorization module.\n2216 INFO  (main) [   ] o.a.s.c.CoreContainer No authentication plugin used.\n2247 INFO  (main) [   ] o.a.s.c.CorePropertiesLocator Looking for core definitions underneath /Users/janhoy/git/lucene-solr/solr/server/solr\n2267 INFO  (main) [   ] o.a.s.c.CorePropertiesLocator Found 0 core definitions\n2281 INFO  (main) [   ] o.a.s.s.SolrDispatchFilter user.dir=/Users/janhoy/git/lucene-solr/solr/server\n2281 INFO  (main) [   ] o.a.s.s.SolrDispatchFilter SolrDispatchFilter.init() done\n2291 INFO  (main) [   ] o.e.j.s.h.ContextHandler Started o.e.j.w.WebAppContext@6536e911{/solr,file:///Users/janhoy/git/lucene-solr/solr/server/solr-webapp/webapp/,AVAILABLE}{/Users/janhoy/git/lucene-solr/solr/server/solr-webapp/webapp}\n2295 INFO  (main) [   ] o.e.j.s.ServerConnector Started ServerConnector@738dc9b{HTTP/1.1,[http/1.1]}{0.0.0.0:8983}\n2295 INFO  (main) [   ] o.e.j.s.Server Started @2596ms\n\n\n\nThen we can also look at collection creation (standalone):\n\n> bin/solr create -c foo\n77493 INFO  (qtp225493257-19) [   ] o.a.s.s.HttpSolrCall [admin] webapp=null path=/admin/info/system params={wt=json} status=0 QTime=62\n77566 INFO  (qtp225493257-21) [   ] o.a.s.s.HttpSolrCall [admin] webapp=null path=/admin/info/system params={wt=json} status=0 QTime=15\n77574 INFO  (qtp225493257-19) [   ] o.a.s.s.HttpSolrCall [admin] webapp=null path=/admin/cores params={core=foo&action=STATUS&wt=json} status=0 QTime=0\n77623 INFO  (qtp225493257-18) [   ] o.a.s.h.a.CoreAdminOperation core create command name=foo&action=CREATE&instanceDir=foo&wt=json\n77625 INFO  (qtp225493257-18) [   ] o.a.s.c.CoreDescriptor Created CoreDescriptor: {name=foo, config=solrconfig.xml, loadOnStartup=true, schema=schema.xml, configSetProperties=configsetprops.json, transient=false, dataDir=data/}\n77626 INFO  (qtp225493257-18) [   ] o.a.s.c.SolrResourceLoader new SolrResourceLoader for directory: '/Users/janhoy/git/lucene-solr/solr/server/solr/foo'\n77626 INFO  (qtp225493257-18) [   ] o.a.s.c.SolrResourceLoader JNDI not configured for solr (NoInitialContextEx)\n77626 INFO  (qtp225493257-18) [   ] o.a.s.c.SolrResourceLoader using system property solr.solr.home: /Users/janhoy/git/lucene-solr/solr/server/solr\n77665 INFO  (qtp225493257-18) [   ] o.a.s.c.SolrConfig current version of requestparams : 0\n77668 INFO  (qtp225493257-18) [   ] o.a.s.c.SolrConfig Adding specified lib dirs to ClassLoader\n77706 INFO  (qtp225493257-18) [   ] o.a.s.c.SolrResourceLoader Adding 'file:/Users/janhoy/git/lucene-solr/solr/contrib/extraction/lib/apache-mime4j-core-0.7.2.jar' to classloader\n77706 INFO  (qtp225493257-18) [   ] o.a.s.c.SolrResourceLoader Adding 'file:/Users/janhoy/git/lucene-solr/solr/contrib/extraction/lib/apache-mime4j-dom-0.7.2.jar' to classloader\n77706 INFO  (qtp225493257-18) [   ] o.a.s.c.SolrResourceLoader Adding 'file:/Users/janhoy/git/lucene-solr/solr/contrib/extraction/lib/aspectjrt-1.8.0.jar' to classloader\n77706 INFO  (qtp225493257-18) [   ] o.a.s.c.SolrResourceLoader Adding 'file:/Users/janhoy/git/lucene-solr/solr/contrib/extraction/lib/bcmail-jdk15-1.45.jar' to classloader\n77706 INFO  (qtp225493257-18) [   ] o.a.s.c.SolrResourceLoader Adding 'file:/Users/janhoy/git/lucene-solr/solr/contrib/extraction/lib/bcprov-jdk15-1.45.jar' to classloader\n77706 INFO  (qtp225493257-18) [   ] o.a.s.c.SolrResourceLoader Adding 'file:/Users/janhoy/git/lucene-solr/solr/contrib/extraction/lib/boilerpipe-1.1.0.jar' to classloader\n77706 INFO  (qtp225493257-18) [   ] o.a.s.c.SolrResourceLoader Adding 'file:/Users/janhoy/git/lucene-solr/solr/contrib/extraction/lib/commons-compress-1.11.jar' to classloader\n77706 INFO  (qtp225493257-18) [   ] o.a.s.c.SolrResourceLoader Adding 'file:/Users/janhoy/git/lucene-solr/solr/contrib/extraction/lib/fontbox-2.0.1.jar' to classloader\n77706 INFO  (qtp225493257-18) [   ] o.a.s.c.SolrResourceLoader Adding 'file:/Users/janhoy/git/lucene-solr/solr/contrib/extraction/lib/icu4j-56.1.jar' to classloader\n77706 INFO  (qtp225493257-18) [   ] o.a.s.c.SolrResourceLoader Adding 'file:/Users/janhoy/git/lucene-solr/solr/contrib/extraction/lib/isoparser-1.1.18.jar' to classloader\n77707 INFO  (qtp225493257-18) [   ] o.a.s.c.SolrResourceLoader Adding 'file:/Users/janhoy/git/lucene-solr/solr/contrib/extraction/lib/jackcess-2.1.3.jar' to classloader\n77707 INFO  (qtp225493257-18) [   ] o.a.s.c.SolrResourceLoader Adding 'file:/Users/janhoy/git/lucene-solr/solr/contrib/extraction/lib/java-libpst-0.8.1.jar' to classloader\n77707 INFO  (qtp225493257-18) [   ] o.a.s.c.SolrResourceLoader Adding 'file:/Users/janhoy/git/lucene-solr/solr/contrib/extraction/lib/jdom-1.0.jar' to classloader\n77707 INFO  (qtp225493257-18) [   ] o.a.s.c.SolrResourceLoader Adding 'file:/Users/janhoy/git/lucene-solr/solr/contrib/extraction/lib/jempbox-1.8.12.jar' to classloader\n77707 INFO  (qtp225493257-18) [   ] o.a.s.c.SolrResourceLoader Adding 'file:/Users/janhoy/git/lucene-solr/solr/contrib/extraction/lib/jmatio-1.0.jar' to classloader\n77707 INFO  (qtp225493257-18) [   ] o.a.s.c.SolrResourceLoader Adding 'file:/Users/janhoy/git/lucene-solr/solr/contrib/extraction/lib/juniversalchardet-1.0.3.jar' to classloader\n77707 INFO  (qtp225493257-18) [   ] o.a.s.c.SolrResourceLoader Adding 'file:/Users/janhoy/git/lucene-solr/solr/contrib/extraction/lib/metadata-extractor-2.8.1.jar' to classloader\n77707 INFO  (qtp225493257-18) [   ] o.a.s.c.SolrResourceLoader Adding 'file:/Users/janhoy/git/lucene-solr/solr/contrib/extraction/lib/pdfbox-2.0.1.jar' to classloader\n77707 INFO  (qtp225493257-18) [   ] o.a.s.c.SolrResourceLoader Adding 'file:/Users/janhoy/git/lucene-solr/solr/contrib/extraction/lib/pdfbox-tools-2.0.1.jar' to classloader\n77707 INFO  (qtp225493257-18) [   ] o.a.s.c.SolrResourceLoader Adding 'file:/Users/janhoy/git/lucene-solr/solr/contrib/extraction/lib/poi-3.15-beta1.jar' to classloader\n77707 INFO  (qtp225493257-18) [   ] o.a.s.c.SolrResourceLoader Adding 'file:/Users/janhoy/git/lucene-solr/solr/contrib/extraction/lib/poi-ooxml-3.15-beta1.jar' to classloader\n77708 INFO  (qtp225493257-18) [   ] o.a.s.c.SolrResourceLoader Adding 'file:/Users/janhoy/git/lucene-solr/solr/contrib/extraction/lib/poi-ooxml-schemas-3.15-beta1.jar' to classloader\n77708 INFO  (qtp225493257-18) [   ] o.a.s.c.SolrResourceLoader Adding 'file:/Users/janhoy/git/lucene-solr/solr/contrib/extraction/lib/poi-scratchpad-3.15-beta1.jar' to classloader\n77708 INFO  (qtp225493257-18) [   ] o.a.s.c.SolrResourceLoader Adding 'file:/Users/janhoy/git/lucene-solr/solr/contrib/extraction/lib/rome-1.0.jar' to classloader\n77708 INFO  (qtp225493257-18) [   ] o.a.s.c.SolrResourceLoader Adding 'file:/Users/janhoy/git/lucene-solr/solr/contrib/extraction/lib/tagsoup-1.2.1.jar' to classloader\n77708 INFO  (qtp225493257-18) [   ] o.a.s.c.SolrResourceLoader Adding 'file:/Users/janhoy/git/lucene-solr/solr/contrib/extraction/lib/tika-core-1.13.jar' to classloader\n77708 INFO  (qtp225493257-18) [   ] o.a.s.c.SolrResourceLoader Adding 'file:/Users/janhoy/git/lucene-solr/solr/contrib/extraction/lib/tika-java7-1.13.jar' to classloader\n77708 INFO  (qtp225493257-18) [   ] o.a.s.c.SolrResourceLoader Adding 'file:/Users/janhoy/git/lucene-solr/solr/contrib/extraction/lib/tika-parsers-1.13.jar' to classloader\n77708 INFO  (qtp225493257-18) [   ] o.a.s.c.SolrResourceLoader Adding 'file:/Users/janhoy/git/lucene-solr/solr/contrib/extraction/lib/tika-xmp-1.13.jar' to classloader\n77708 INFO  (qtp225493257-18) [   ] o.a.s.c.SolrResourceLoader Adding 'file:/Users/janhoy/git/lucene-solr/solr/contrib/extraction/lib/vorbis-java-core-0.8.jar' to classloader\n77708 INFO  (qtp225493257-18) [   ] o.a.s.c.SolrResourceLoader Adding 'file:/Users/janhoy/git/lucene-solr/solr/contrib/extraction/lib/vorbis-java-tika-0.8.jar' to classloader\n77708 INFO  (qtp225493257-18) [   ] o.a.s.c.SolrResourceLoader Adding 'file:/Users/janhoy/git/lucene-solr/solr/contrib/extraction/lib/xercesImpl-2.9.1.jar' to classloader\n77709 INFO  (qtp225493257-18) [   ] o.a.s.c.SolrResourceLoader Adding 'file:/Users/janhoy/git/lucene-solr/solr/contrib/extraction/lib/xmlbeans-2.6.0.jar' to classloader\n77709 INFO  (qtp225493257-18) [   ] o.a.s.c.SolrResourceLoader Adding 'file:/Users/janhoy/git/lucene-solr/solr/contrib/extraction/lib/xmpcore-5.1.2.jar' to classloader\n77709 INFO  (qtp225493257-18) [   ] o.a.s.c.SolrResourceLoader Adding 'file:/Users/janhoy/git/lucene-solr/solr/contrib/extraction/lib/xz-1.5.jar' to classloader\n77709 INFO  (qtp225493257-18) [   ] o.a.s.c.SolrResourceLoader Adding 'file:/Users/janhoy/git/lucene-solr/solr/dist/solr-cell-7.0.0-SNAPSHOT.jar' to classloader\n77709 INFO  (qtp225493257-18) [   ] o.a.s.c.SolrResourceLoader Adding 'file:/Users/janhoy/git/lucene-solr/solr/contrib/clustering/lib/attributes-binder-1.3.1.jar' to classloader\n77709 INFO  (qtp225493257-18) [   ] o.a.s.c.SolrResourceLoader Adding 'file:/Users/janhoy/git/lucene-solr/solr/contrib/clustering/lib/carrot2-guava-18.0.jar' to classloader\n77709 INFO  (qtp225493257-18) [   ] o.a.s.c.SolrResourceLoader Adding 'file:/Users/janhoy/git/lucene-solr/solr/contrib/clustering/lib/carrot2-mini-3.12.0.jar' to classloader\n77709 INFO  (qtp225493257-18) [   ] o.a.s.c.SolrResourceLoader Adding 'file:/Users/janhoy/git/lucene-solr/solr/contrib/clustering/lib/jackson-annotations-2.5.4.jar' to classloader\n77709 INFO  (qtp225493257-18) [   ] o.a.s.c.SolrResourceLoader Adding 'file:/Users/janhoy/git/lucene-solr/solr/contrib/clustering/lib/jackson-databind-2.5.4.jar' to classloader\n77709 INFO  (qtp225493257-18) [   ] o.a.s.c.SolrResourceLoader Adding 'file:/Users/janhoy/git/lucene-solr/solr/contrib/clustering/lib/simple-xml-2.7.1.jar' to classloader\n77709 INFO  (qtp225493257-18) [   ] o.a.s.c.SolrResourceLoader Adding 'file:/Users/janhoy/git/lucene-solr/solr/dist/solr-clustering-7.0.0-SNAPSHOT.jar' to classloader\n77709 INFO  (qtp225493257-18) [   ] o.a.s.c.SolrResourceLoader Adding 'file:/Users/janhoy/git/lucene-solr/solr/contrib/langid/lib/jsonic-1.2.7.jar' to classloader\n77710 INFO  (qtp225493257-18) [   ] o.a.s.c.SolrResourceLoader Adding 'file:/Users/janhoy/git/lucene-solr/solr/contrib/langid/lib/langdetect-1.1-20120112.jar' to classloader\n77710 INFO  (qtp225493257-18) [   ] o.a.s.c.SolrResourceLoader Adding 'file:/Users/janhoy/git/lucene-solr/solr/dist/solr-langid-7.0.0-SNAPSHOT.jar' to classloader\n77710 INFO  (qtp225493257-18) [   ] o.a.s.c.SolrResourceLoader Adding 'file:/Users/janhoy/git/lucene-solr/solr/contrib/velocity/lib/commons-beanutils-1.8.3.jar' to classloader\n77710 INFO  (qtp225493257-18) [   ] o.a.s.c.SolrResourceLoader Adding 'file:/Users/janhoy/git/lucene-solr/solr/contrib/velocity/lib/commons-collections-3.2.2.jar' to classloader\n77710 INFO  (qtp225493257-18) [   ] o.a.s.c.SolrResourceLoader Adding 'file:/Users/janhoy/git/lucene-solr/solr/contrib/velocity/lib/velocity-1.7.jar' to classloader\n77710 INFO  (qtp225493257-18) [   ] o.a.s.c.SolrResourceLoader Adding 'file:/Users/janhoy/git/lucene-solr/solr/contrib/velocity/lib/velocity-tools-2.0.jar' to classloader\n77710 INFO  (qtp225493257-18) [   ] o.a.s.c.SolrResourceLoader Adding 'file:/Users/janhoy/git/lucene-solr/solr/dist/solr-velocity-7.0.0-SNAPSHOT.jar' to classloader\n77887 INFO  (qtp225493257-18) [   ] o.a.s.c.SolrConfig Using Lucene MatchVersion: 7.0.0\n77965 INFO  (qtp225493257-18) [   ] o.a.s.c.SolrConfig Loaded SolrConfig: solrconfig.xml\n78022 INFO  (qtp225493257-18) [   ] o.a.s.s.IndexSchema [foo] Schema name=example-data-driven-schema\n78317 INFO  (qtp225493257-18) [   ] o.a.s.s.IndexSchema unique key field: id\n78429 INFO  (qtp225493257-18) [   ] o.a.s.s.FileExchangeRateProvider Reloading exchange rates from file currency.xml\n78433 INFO  (qtp225493257-18) [   ] o.a.s.s.FileExchangeRateProvider Reloading exchange rates from file currency.xml\n78451 INFO  (qtp225493257-18) [   ] o.a.s.c.ConfigSetProperties Did not find ConfigSet properties, assuming default properties: Can't find resource 'configsetprops.json' in classpath or '/Users/janhoy/git/lucene-solr/solr/server/solr/foo'\n78451 INFO  (qtp225493257-18) [   ] o.a.s.c.CoreContainer Creating SolrCore 'foo' using configuration from instancedir /Users/janhoy/git/lucene-solr/solr/server/solr/foo\n78452 INFO  (qtp225493257-18) [   x:foo] o.a.s.c.SolrCore solr.NRTCachingDirectoryFactory\n78460 INFO  (qtp225493257-18) [   x:foo] o.a.s.c.SolrCore [[foo] ] Opening new SolrCore at [/Users/janhoy/git/lucene-solr/solr/server/solr/foo], dataDir=[/Users/janhoy/git/lucene-solr/solr/server/solr/foo/data/]\n78462 INFO  (qtp225493257-18) [   x:foo] o.a.s.c.JmxMonitoredMap No JMX servers found, not exposing Solr information with JMX.\n78466 INFO  (qtp225493257-18) [   x:foo] o.a.s.c.SolrCore [[foo] ] Added SolrEventListener for newSearcher: [org.apache.solr.core.QuerySenderListener{queries=[]}]\n78466 INFO  (qtp225493257-18) [   x:foo] o.a.s.c.SolrCore [[foo] ] Added SolrEventListener for firstSearcher: [org.apache.solr.core.QuerySenderListener{queries=[]}]\n78478 INFO  (qtp225493257-18) [   x:foo] o.a.s.c.CachingDirectoryFactory return new directory for /Users/janhoy/git/lucene-solr/solr/server/solr/foo/data/snapshot_metadata\n78479 INFO  (qtp225493257-18) [   x:foo] o.a.s.c.s.SolrSnapshotMetaDataManager Loading from snapshot metadata file...\n78482 INFO  (qtp225493257-18) [   x:foo] o.a.s.c.SchemaCodecFactory Using default compressionMode: BEST_SPEED\n78483 INFO  (qtp225493257-18) [   x:foo] o.a.s.c.CachingDirectoryFactory return new directory for /Users/janhoy/git/lucene-solr/solr/server/solr/foo/data\n78483 INFO  (qtp225493257-18) [   x:foo] o.a.s.c.SolrCore New index directory detected: old=null new=/Users/janhoy/git/lucene-solr/solr/server/solr/foo/data/index/\n78483 WARN  (qtp225493257-18) [   x:foo] o.a.s.c.SolrCore [foo] Solr index directory '/Users/janhoy/git/lucene-solr/solr/server/solr/foo/data/index' doesn't exist. Creating new index...\n78492 INFO  (qtp225493257-18) [   x:foo] o.a.s.c.CachingDirectoryFactory return new directory for /Users/janhoy/git/lucene-solr/solr/server/solr/foo/data/index\n78522 INFO  (qtp225493257-18) [   x:foo] o.a.s.c.SolrDeletionPolicy SolrDeletionPolicy.onCommit: commits: num=1\n\tcommit{dir=NRTCachingDirectory(MMapDirectory@/Users/janhoy/git/lucene-solr/solr/server/solr/foo/data/index lockFactory=org.apache.lucene.store.NativeFSLockFactory@217956c4; maxCacheMB=48.0 maxMergeSizeMB=4.0),segFN=segments_1,generation=1}\n78523 INFO  (qtp225493257-18) [   x:foo] o.a.s.c.SolrDeletionPolicy newest commit generation = 1\n78525 INFO  (OldIndexDirectoryCleanupThreadForCore-foo) [   x:foo] o.a.s.c.SolrCore Looking for old index directories to cleanup for core foo in /Users/janhoy/git/lucene-solr/solr/server/solr/foo/data/\n78527 INFO  (qtp225493257-18) [   x:foo] o.a.s.c.PluginBag queryResponseWriter : 'velocity' created with startup=lazy \n78529 INFO  (qtp225493257-18) [   x:foo] o.a.s.r.XSLTResponseWriter xsltCacheLifetimeSeconds=5\n78600 INFO  (qtp225493257-18) [   x:foo] o.a.s.u.p.UpdateRequestProcessorChain creating updateRequestProcessorChain \"add-unknown-fields-to-the-schema\"\n78645 INFO  (qtp225493257-18) [   x:foo] o.a.s.c.SolrCore no updateRequestProcessorChain defined as default, creating implicit default\n78662 INFO  (qtp225493257-18) [   x:foo] o.a.s.h.l.XMLLoader xsltCacheLifetimeSeconds=60\n78663 INFO  (qtp225493257-18) [   x:foo] o.a.s.h.l.XMLLoader xsltCacheLifetimeSeconds=60\n78664 INFO  (qtp225493257-18) [   x:foo] o.a.s.h.l.XMLLoader xsltCacheLifetimeSeconds=60\n78664 INFO  (qtp225493257-18) [   x:foo] o.a.s.h.l.XMLLoader xsltCacheLifetimeSeconds=60\n78718 INFO  (qtp225493257-18) [   x:foo] o.a.s.c.PluginBag requestHandler : '/terms' created with startup=lazy \n78718 INFO  (qtp225493257-18) [   x:foo] o.a.s.c.PluginBag requestHandler : '/update/extract' created with startup=lazy \n78718 INFO  (qtp225493257-18) [   x:foo] o.a.s.c.PluginBag requestHandler : '/analysis/field' created with startup=lazy \n78718 INFO  (qtp225493257-18) [   x:foo] o.a.s.c.PluginBag requestHandler : '/analysis/document' created with startup=lazy \n78720 INFO  (qtp225493257-18) [   x:foo] o.a.s.c.PluginBag requestHandler : '/spell' created with startup=lazy \n78720 INFO  (qtp225493257-18) [   x:foo] o.a.s.c.PluginBag requestHandler : '/tvrh' created with startup=lazy \n78720 INFO  (qtp225493257-18) [   x:foo] o.a.s.c.PluginBag requestHandler : '/elevate' created with startup=lazy \n78720 INFO  (qtp225493257-18) [   x:foo] o.a.s.c.RequestHandlers Registered paths: /admin/mbeans,/browse,/update/json/docs,/admin/luke,/export,/get,/admin/properties,/elevate,/update/json,/admin/threads,/query,/analysis/field,/analysis/document,/spell,/update/csv,/sql,/graph,/tvrh,/select,/admin/segments,/admin/system,/replication,/config,/stream,/schema,/admin/plugins,/admin/logging,/admin/ping,/update,/admin/file,/terms,/debug/dump,/update/extract\n78720 INFO  (qtp225493257-18) [   x:foo] o.a.s.c.SolrCore Using default statsCache cache: org.apache.solr.search.stats.LocalStatsCache\n78727 INFO  (qtp225493257-18) [   x:foo] o.a.s.u.UpdateHandler Using UpdateLog implementation: org.apache.solr.update.UpdateLog\n78727 INFO  (qtp225493257-18) [   x:foo] o.a.s.u.UpdateLog Initializing UpdateLog: dataDir= defaultSyncLevel=FLUSH numRecordsToKeep=100 maxNumLogsToKeep=10 numVersionBuckets=65536\n78733 INFO  (qtp225493257-18) [   x:foo] o.a.s.u.CommitTracker Hard AutoCommit: if uncommited for 15000ms; \n78733 INFO  (qtp225493257-18) [   x:foo] o.a.s.u.CommitTracker Soft AutoCommit: disabled\n78738 INFO  (qtp225493257-18) [   x:foo] o.a.s.c.SolrDeletionPolicy SolrDeletionPolicy.onInit: commits: num=1\n\tcommit{dir=NRTCachingDirectory(MMapDirectory@/Users/janhoy/git/lucene-solr/solr/server/solr/foo/data/index lockFactory=org.apache.lucene.store.NativeFSLockFactory@217956c4; maxCacheMB=48.0 maxMergeSizeMB=4.0),segFN=segments_1,generation=1}\n78738 INFO  (qtp225493257-18) [   x:foo] o.a.s.c.SolrDeletionPolicy newest commit generation = 1\n78747 INFO  (qtp225493257-18) [   x:foo] o.a.s.s.SolrIndexSearcher Opening [Searcher@77583d16[foo] main]\n78752 INFO  (qtp225493257-18) [   x:foo] o.a.s.r.ManagedResourceStorage File-based storage initialized to use dir: /Users/janhoy/git/lucene-solr/solr/server/solr/foo/conf\n78752 INFO  (qtp225493257-18) [   x:foo] o.a.s.r.RestManager Initializing RestManager with initArgs: {storageDir=/Users/janhoy/git/lucene-solr/solr/server/solr/foo/conf}\n78758 INFO  (qtp225493257-18) [   x:foo] o.a.s.r.ManagedResourceStorage Reading _rest_managed.json using file:dir=/Users/janhoy/git/lucene-solr/solr/server/solr/foo/conf\n78759 INFO  (qtp225493257-18) [   x:foo] o.a.s.r.RestManager Initializing 0 registered ManagedResources\n78763 INFO  (qtp225493257-18) [   x:foo] o.a.s.h.c.SpellCheckComponent Initializing spell checkers\n78768 INFO  (qtp225493257-18) [   x:foo] o.a.s.s.DirectSolrSpellChecker init: {name=default,field=_text_,classname=solr.DirectSolrSpellChecker,distanceMeasure=internal,accuracy=0.5,maxEdits=2,minPrefix=1,maxInspections=5,minQueryLength=4,maxQueryFrequency=0.01}\n78768 INFO  (qtp225493257-18) [   x:foo] o.a.s.h.c.SpellCheckComponent No queryConverter defined, using default converter\n78770 INFO  (qtp225493257-18) [   x:foo] o.a.s.h.c.QueryElevationComponent Loading QueryElevation from: /Users/janhoy/git/lucene-solr/solr/server/solr/foo/conf/elevate.xml\n78777 INFO  (qtp225493257-18) [   x:foo] o.a.s.h.ReplicationHandler Commits will be reserved for  10000\n78786 INFO  (searcherExecutor-7-thread-1-processing-x:foo) [   x:foo] o.a.s.c.QuerySenderListener QuerySenderListener sending requests to Searcher@77583d16[foo] main{ExitableDirectoryReader(UninvertingDirectoryReader())}\n78786 INFO  (searcherExecutor-7-thread-1-processing-x:foo) [   x:foo] o.a.s.c.QuerySenderListener QuerySenderListener done.\n78786 INFO  (searcherExecutor-7-thread-1-processing-x:foo) [   x:foo] o.a.s.h.c.SpellCheckComponent Loading spell index for spellchecker: default\n78787 INFO  (qtp225493257-18) [   x:foo] o.a.s.u.UpdateLog Looking up max value of version field to seed version buckets\n78787 INFO  (searcherExecutor-7-thread-1-processing-x:foo) [   x:foo] o.a.s.c.SolrCore [foo] Registered new searcher Searcher@77583d16[foo] main{ExitableDirectoryReader(UninvertingDirectoryReader())}\n78787 INFO  (qtp225493257-18) [   x:foo] o.a.s.u.VersionInfo Refreshing highest value of _version_ for 65536 version buckets from index\n78789 INFO  (qtp225493257-18) [   x:foo] o.a.s.u.UpdateLog Could not find max version in index or recent updates, using new clock 1545543503236300800\n78792 INFO  (qtp225493257-18) [   x:foo] o.a.s.u.UpdateLog Took 4.0ms to seed version buckets with highest version 1545543503236300800\n78792 INFO  (qtp225493257-18) [   x:foo] o.a.s.c.CoreContainer registering core: foo\n78793 INFO  (qtp225493257-18) [   x:foo] o.a.s.s.HttpSolrCall [admin] webapp=null path=/admin/cores params={name=foo&action=CREATE&instanceDir=foo&wt=json} status=0 QTime=1170\n\n\n\nThere is obviously a LOT of noise here, what should go to DEBUG level, and what should simply go away? ",
            "id": "comment-15493287"
        },
        {
            "date": "2016-09-15T14:53:34+0000",
            "author": "Shawn Heisey",
            "content": "Good idea.\n\nI think a lot of what gets logged during startup and shutdown is kinda worthless.  I would rather just see single-line messages about major milestones (jars A through Z loaded, core XXX initialized, etc) at the INFO level.  ERROR and WARN messages would be unchanged.\n\nSome examination would need to be performed to decide whether any of those messages are generally useful if the system is NOT starting up or shutting down.\n\nI can see two solutions, and can imagine both being used:\n\n\n\tMove the verbose stuff to DEBUG or TRACE, and ask users to increase their logging if we need to see those logs to figure out a problem.\n\tCreate a SolrCore level flag (maybe even two flags) to indicate startup/shutdown is in progress, and suppress certain logs when the flag is enabled.  Create a solr.xml config parameter to output the log messages anyway, regardless of the the flag.\n\n\n\nChanging the level of the logs is easier, and would help out with logging in more situations than just startup/shutdown.  That approach is probably sufficient, but I do wonder if any of those logs might be generally useful when a startup/shutdown is NOT in progress. ",
            "id": "comment-15493543"
        },
        {
            "date": "2016-09-15T15:05:15+0000",
            "author": "Shawn Heisey",
            "content": "Thinking generally ... Solr's INFO-level logging is much too verbose.  WARN-level logging shows very little unless there are serious problems \u2013 it's pretty much an all-or-nothing choice.\n\nSome of what currently happens at INFO should definitely be at DEBUG, and some if it should be moved to the next level up.  It's even possible that some of it should be moved down to WARN.\n\nI'm torn on what to do with the logging that shows all parameters of a request.  Those are useful, but a busy server would see better performance if they are not logged.  Perhaps the level of those particular messages is something that can be controlled by solrconfig.xml. ",
            "id": "comment-15493579"
        },
        {
            "date": "2016-09-18T21:32:46+0000",
            "author": "Jan H\u00f8ydahl",
            "content": "Tagging two related (and old) issues SOLR-4132 and SOLR-5563.  ",
            "id": "comment-15501679"
        },
        {
            "date": "2016-09-18T23:40:14+0000",
            "author": "Alexandre Rafalovitch",
            "content": "What if logging parameters of the request was an UpdateRequestProcessor? Because these days parameters come from all sorts of locations and things could get messy. Then the existing step-by-step logging could be at TRACE or removed all together.\n\nAnd the URP could be added/removed per request now as well as dynamically via VIA. It could also be configured to log at whatever level user wants in and/or for particular request type (e.g. log updates, not deletes). ",
            "id": "comment-15501834"
        },
        {
            "date": "2016-09-19T08:32:23+0000",
            "author": "Jan H\u00f8ydahl",
            "content": "What if logging parameters of the request was an UpdateRequestProcessor?\nI don't see how URP is related to reducing logging during startup?\n\nI think this issue should be about moving a ton of INFO level logs to DEBUG level so the normal case startup looks more like this\n\n\n> bin/solr start\nStarting Solr on port 8983 from /Users/janhoy/git/lucene-solr/solr/server\n\n190  INFO  (main) [   ] o.e.j.s.Server jetty-9.3.8.v20160314\n446  INFO  (main) [   ] o.a.s.c.SolrResourceLoader using system property solr.solr.home: /Users/janhoy/git/lucene-solr/solr/server/solr\n453  INFO  (main) [   ] o.a.s.c.SolrXmlConfig Loading container configuration from /Users/janhoy/git/lucene-solr/solr/server/solr/solr.xml\n596  INFO  (main) [   ] o.a.s.c.CoreContainer Loaded 3 cores: [foo, bar, baz], [instanceDir=/Users/janhoy/git/lucene-solr/solr/server/solr]\n924  INFO  (main) [   ] o.e.j.s.h.ContextHandler Started o.e.j.w.WebAppContext@6536e911{/solr,file:///Users/janhoy/git/lucene-solr/solr/server/solr-webapp/webapp/,AVAILABLE}{/Users/janhoy/git/lucene-solr/solr/server/solr-webapp/webapp}\n946  INFO  (main) [   ] o.e.j.s.ServerConnector Started ServerConnector@683dbc2c{HTTP/1.1,[http/1.1]}{0.0.0.0:8983}\n946  INFO  (main) [   ] o.e.j.s.Server Started @1338ms\n\n\n\nEVERYTHING that does not add value to the normal-path should not be logged. If someone needs to debug they can turn on debugging. And we should probably make it easier to enable debugging as well, i.e. through a bin/solr start -v argument which somehow changes the loglevel to DEBUG. In the same fashion we could add a -q argument which changes loglevel to WARN. Perhaps there could be a REST admin API to do the same without fiddling with log4j.properties, coupled with a new bin/solr loglevel <level> convenience CLI to change the loglevel of the running instance? ",
            "id": "comment-15502713"
        },
        {
            "date": "2016-09-19T12:35:24+0000",
            "author": "Noble Paul",
            "content": "If someone needs to debug they can turn on debugging. And we should probably make it easier to enable debugging as well, i.e. through a bin/solr start -v argument which somehow changes the loglevel to DEBUG\n\n+1 ",
            "id": "comment-15503284"
        },
        {
            "date": "2016-09-19T14:12:06+0000",
            "author": "Jan H\u00f8ydahl",
            "content": "I spun off the -V and -q ideas into SOLR-9534 ",
            "id": "comment-15503604"
        },
        {
            "date": "2016-09-20T13:19:13+0000",
            "author": "Jan H\u00f8ydahl",
            "content": "First patch, moving many unhelpful INFO logs to DEBUG level as well as reducing Jetty logging.\n\nWith this patch, the bin/solr start -f shrinks from 31 to 13 lines (11 if applied on top of SOLR-8186 and SOLR-9534):\n\nStarting Solr on port 8983 from /Users/janhoy/git/lucene-solr/solr/server\n\n0    INFO  (main) [   ] o.e.j.s.Server jetty-9.3.8.v20160314\n311  INFO  (main) [   ] o.a.s.c.SolrResourceLoader Using system property solr.solr.home: /Users/janhoy/git/lucene-solr/solr/server/solr\n311  INFO  (main) [   ] o.a.s.c.SolrResourceLoader new SolrResourceLoader for directory: '/Users/janhoy/git/lucene-solr/solr/server/solr'\n316  INFO  (main) [   ] o.a.s.c.SolrXmlConfig Loading container configuration from /Users/janhoy/git/lucene-solr/solr/server/solr/solr.xml\n424  WARN  (main) [   ] o.a.s.c.CoreContainer Couldn't add files from /Users/janhoy/git/lucene-solr/solr/server/solr/lib to classpath: /Users/janhoy/git/lucene-solr/solr/server/solr/lib\n744  INFO  (main) [   ] o.a.s.c.CorePropertiesLocator Found 0 core definitions underneath /Users/janhoy/git/lucene-solr/solr/server/solr\n749  INFO  (main) [   ] o.a.s.s.SolrDispatchFilter SolrDispatchFilter.init() done\n761  INFO  (main) [   ] o.e.j.s.h.ContextHandler Started o.e.j.w.WebAppContext@6536e911{/solr,file:///Users/janhoy/git/lucene-solr/solr/server/solr-webapp/webapp/,AVAILABLE}{/Users/janhoy/git/lucene-solr/solr/server/solr-webapp/webapp}\n774  INFO  (main) [   ] o.e.j.s.ServerConnector Started ServerConnector@5609159b{HTTP/1.1,[http/1.1]}{0.0.0.0:8983}\n775  INFO  (main) [   ] o.e.j.s.Server Started @1310ms\n\n\n\nLikewise the bin/solr create -c foo logs shrink from 129 lines to 50 lines!\n\nStill WorkInProgress. Would be good with some confirmation that I'm on the right track here. ",
            "id": "comment-15506496"
        },
        {
            "date": "2016-09-20T13:33:25+0000",
            "author": "Jan H\u00f8ydahl",
            "content": "After we cleaned up the INFO level, we should probably look through the DEBUG level too, moving some of the less useful stuff down to TRACE; that will make the new solr start -v mode more useful. ",
            "id": "comment-15506542"
        },
        {
            "date": "2016-09-21T12:42:14+0000",
            "author": "David Smiley",
            "content": "+1 this'll be nice.\n\n311  INFO  (main) [   ] o.a.s.c.SolrResourceLoader new SolrResourceLoader for directory: '/Users/janhoy/git/lucene-solr/solr/server/solr'\n\nThis comes right after solr.solr.home is printed... I think this line is implied and therefore not helpful?\n\nINFO  (main) [   ] o.a.s.s.SolrDispatchFilter SolrDispatchFilter.init() done\n\nLooks like TRACE is appropriate for this one.\n\n761  INFO  (main) [   ] o.e.j.s.h.ContextHandler Started o.e.j.w.WebAppContext@6536e911\n{/solr,file:///Users/janhoy/git/lucene-solr/solr/server/solr-webapp/webapp/,AVAILABLE}\n{/Users/janhoy/git/lucene-solr/solr/server/solr-webapp/webapp}\n\nMaybe we can disable Jetty from printing that one \u2013 the web-app notion is an internal detail now. ",
            "id": "comment-15509792"
        },
        {
            "date": "2016-09-22T13:22:22+0000",
            "author": "Jan H\u00f8ydahl",
            "content": "Updated patch. I'll commit this and then keep the issue open a bit longer for further commits. ",
            "id": "comment-15513292"
        },
        {
            "date": "2016-09-22T15:04:10+0000",
            "author": "ASF subversion and git services",
            "content": "Commit f391d57075ca4bbb5608079bec63d9a6a574308f in lucene-solr's branch refs/heads/master from Jan H\u00f8ydahl\n[ https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=f391d570 ]\n\nSOLR-6677: Reduced logging during Solr startup, moved more logs to DEBUG level ",
            "id": "comment-15513520"
        },
        {
            "date": "2016-09-22T17:32:18+0000",
            "author": "ASF subversion and git services",
            "content": "Commit 03575003068f568980782e913016b2ac281e1741 in lucene-solr's branch refs/heads/branch_6x from Jan H\u00f8ydahl\n[ https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=0357500 ]\n\nSOLR-6677: Reduced logging during Solr startup, moved more logs to DEBUG level\n\n(cherry picked from commit f391d57) ",
            "id": "comment-15513910"
        },
        {
            "date": "2016-09-22T17:45:48+0000",
            "author": "Jan H\u00f8ydahl",
            "content": "We're now down to 9 lines for bin/solr start -f.\nAnd 20 lines for bin/solr start -c -f (down from 67, thanks to SOLR-5563).\nFor bin/solr create -c foo we have reduced from 129 to 48.\n\nFeel free to commit other log-level changes across the code base as part of this issue or a spinoff issue. ",
            "id": "comment-15513951"
        },
        {
            "date": "2016-09-22T20:32:56+0000",
            "author": "Jan H\u00f8ydahl",
            "content": "Test failures:\n\nFAILED:  junit.framework.TestSuite.org.apache.solr.analysis.TestFoldingMultitermExtrasQuery\n...\nCaused by: java.lang.NullPointerException\n\tat org.apache.solr.schema.IndexSchema.readSchema(IndexSchema.java:541)\n\t... 34 more\n\n\n\nWill commit a fix for the nullpointer ",
            "id": "comment-15514404"
        },
        {
            "date": "2016-09-22T21:37:35+0000",
            "author": "Jan H\u00f8ydahl",
            "content": "Committed to master (but with wrong JIRA id):\n\nCommit bede7aefa3b2294e869d7fa543417e160e3518f9 in lucene-solr's branch refs/heads/master from Jan H\u00f8ydahl\n[ https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=bede7ae ]\nSOLR-9534: Fix test failures related to nullpointer when printing core name in logs. ",
            "id": "comment-15514550"
        },
        {
            "date": "2016-09-22T21:38:14+0000",
            "author": "ASF subversion and git services",
            "content": "Commit dffbefa153ac6d86c60d09a1f69c1ba770e864ec in lucene-solr's branch refs/heads/branch_6x from Jan H\u00f8ydahl\n[ https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=dffbefa ]\n\nSOLR-6677: Fix test failures related to nullpointer when printing core name in logs.\n\n(cherry picked from commit bede7ae - which btw had wrong JIRA number..) ",
            "id": "comment-15514552"
        },
        {
            "date": "2016-09-23T13:26:10+0000",
            "author": "Alan Woodward",
            "content": "Some more moves from INFO to DEBUG, mostly on shutdown now ",
            "id": "comment-15516447"
        },
        {
            "date": "2016-09-23T17:06:39+0000",
            "author": "Jan H\u00f8ydahl",
            "content": "This is cool. Just imagine all the GB of disk space all Solr users globally will save after all this  ",
            "id": "comment-15516989"
        },
        {
            "date": "2016-09-26T09:25:19+0000",
            "author": "ASF subversion and git services",
            "content": "Commit eee7063f673858d074fb304707084706c17c85fc in lucene-solr's branch refs/heads/branch_6x from Alan Woodward\n[ https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=eee7063 ]\n\nSOLR-6677: Some more logging moves from INFO to DEBUG ",
            "id": "comment-15522557"
        },
        {
            "date": "2016-09-26T09:25:22+0000",
            "author": "ASF subversion and git services",
            "content": "Commit 255bf895b3c9ed9620d9168d644c72ae922b20b6 in lucene-solr's branch refs/heads/master from Alan Woodward\n[ https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=255bf89 ]\n\nSOLR-6677: Some more logging moves from INFO to DEBUG ",
            "id": "comment-15522558"
        },
        {
            "date": "2016-09-26T14:08:53+0000",
            "author": "Jan H\u00f8ydahl",
            "content": "New patch with some extra INFO->DEBUG conversions related to startup. One of the changes is to log this line only when there is actually a change in number of nodes:\n\no.a.s.c.c.ZkStateReader Updated live nodes from ZooKeeper... (0) -> (0)\n\n\n\nDo you see a need to log it even if there is no change? ",
            "id": "comment-15523168"
        },
        {
            "date": "2016-09-27T10:18:37+0000",
            "author": "Alan Woodward",
            "content": "+1 to the ZK logging changes.\n\nHere's some more, mostly around config and schema loading:\n\n\tlots of INFO->DEBUG\n\tsummarised a few useful schema INFO log lines into a single line\n\tmoved a couple of INFO lines about deprecated schema entities to WARN\n\tconversely, moved a couple of DirectoryFactory WARN lines to DEBUG (creating a new index directory and not finding any old directories to clean up - both entirely normal!)\n\n ",
            "id": "comment-15525689"
        },
        {
            "date": "2016-09-27T10:43:16+0000",
            "author": "ASF subversion and git services",
            "content": "Commit 0eaa85f696a7ea7e3752763e179d9bdde98dff3e in lucene-solr's branch refs/heads/master from Jan H\u00f8ydahl\n[ https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=0eaa85f ]\n\nSOLR-6677: part 3, moving some more to DEBUG. Only printing \"Updated live nodes from ZooKeeper...\" if there was actually a change ",
            "id": "comment-15525744"
        },
        {
            "date": "2016-09-27T10:49:23+0000",
            "author": "ASF subversion and git services",
            "content": "Commit 1ac2b0159492243250a2ef95ec29feeec9baf510 in lucene-solr's branch refs/heads/branch_6x from Jan H\u00f8ydahl\n[ https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=1ac2b01 ]\n\nSOLR-6677: part 3, moving some more to DEBUG. Only printing \"Updated live nodes from ZooKeeper...\" if there was actually a change\n\n(cherry picked from commit 0eaa85f) ",
            "id": "comment-15525760"
        },
        {
            "date": "2016-09-27T10:49:34+0000",
            "author": "Jan H\u00f8ydahl",
            "content": "Pushed part 3 ",
            "id": "comment-15525761"
        },
        {
            "date": "2016-09-27T10:54:50+0000",
            "author": "Jan H\u00f8ydahl",
            "content": "Alan Woodward, please add your name to the SOLR-6677 CHANGES.txt entry on your next commit  ",
            "id": "comment-15525772"
        },
        {
            "date": "2016-09-27T11:07:04+0000",
            "author": "ASF subversion and git services",
            "content": "Commit 1d46b419df356d0142732bd0745ccd1ab0606704 in lucene-solr's branch refs/heads/branch_6x from Alan Woodward\n[ https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=1d46b41 ]\n\nSOLR-6677: More log noise reduction ",
            "id": "comment-15525792"
        },
        {
            "date": "2016-09-27T11:07:07+0000",
            "author": "ASF subversion and git services",
            "content": "Commit 59c10713460604b3ff4300abc11d0f1a79a42307 in lucene-solr's branch refs/heads/master from Alan Woodward\n[ https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=59c1071 ]\n\nSOLR-6677: More log noise reduction ",
            "id": "comment-15525793"
        },
        {
            "date": "2016-09-27T19:01:47+0000",
            "author": "Shawn Heisey",
            "content": "Do you see a need to log it even if there is no change?\n\nAt SolrCloud startup, it might be nice to have one log entry with the number of nodes ... if we are able to detect when the number has become stable.  Then after that, only log this at INFO if the number changes.  I can't say whether it makes sense to log at DEBUG or TRACE when the node number stays the same. ",
            "id": "comment-15527113"
        },
        {
            "date": "2016-09-27T20:52:12+0000",
            "author": "Jan H\u00f8ydahl",
            "content": "Here is what I see on one of the nodes when starting a 3-node cloud setup with the current master:\n\nINFO  - 2016-09-27 20:44:46.881; [   ] org.apache.solr.cloud.ZkController; Register node as live in ZooKeeper:/live_nodes/192.168.0.11:8983_solr\nINFO  - 2016-09-27 20:44:46.886; [   ] org.apache.solr.common.cloud.ZkStateReader; Updated live nodes from ZooKeeper... (0) -> (1)\n...\nINFO  - 2016-09-27 20:44:51.654; [   ] org.apache.solr.common.cloud.ZkStateReader; Updated live nodes from ZooKeeper... (1) -> (2)\nINFO  - 2016-09-27 20:44:57.451; [   ] org.apache.solr.common.cloud.ZkStateReader; Updated live nodes from ZooKeeper... (2) -> (3)\n...\nINFO  - 2016-09-27 20:45:46.723; [   ] org.apache.solr.common.cloud.ZkStateReader$StateWatcher; A cluster state change: [WatchedEvent state:SyncConnected type:NodeDataChanged path:/collections/gettingstarted/state.json] for collection [gettingstarted] has occurred - updating... (live nodes size: [3])\n\n\n\nI think this is sufficient. ",
            "id": "comment-15527385"
        },
        {
            "date": "2016-09-28T09:59:38+0000",
            "author": "Jan H\u00f8ydahl",
            "content": "Looks like SOLR-5901 is related too. It has an old patch. Mark Miller is this something you want to commit? ",
            "id": "comment-15529135"
        },
        {
            "date": "2016-09-30T18:15:52+0000",
            "author": "Hoss Man",
            "content": "Alan Woodward: please make sure to add a note to the \"Upgrading\" section of CHANGES for 6.3 to call attention to the fact that Solr's logging verbosity at the INFO level has been greatly reduced, and people may need to update the log configs to use the DEBUG level to get the same logging messages as before. ",
            "id": "comment-15536622"
        },
        {
            "date": "2016-10-01T19:21:54+0000",
            "author": "ASF subversion and git services",
            "content": "Commit a2e24d1fc55c796fd966135fe19e47a150437553 in lucene-solr's branch refs/heads/branch_6x from Alan Woodward\n[ https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=a2e24d1 ]\n\nSOLR-6677: Call out logging changes in upgrading section of CHANGES ",
            "id": "comment-15539036"
        },
        {
            "date": "2016-10-01T19:21:56+0000",
            "author": "ASF subversion and git services",
            "content": "Commit 250c9d93f39bc8d3992b0e924bcd0a7883ea0773 in lucene-solr's branch refs/heads/master from Alan Woodward\n[ https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=250c9d9 ]\n\nSOLR-6677: Call out logging changes in upgrading section of CHANGES ",
            "id": "comment-15539037"
        },
        {
            "date": "2016-10-01T19:22:45+0000",
            "author": "Alan Woodward",
            "content": "Good point Hoss Man, have done just that. ",
            "id": "comment-15539039"
        },
        {
            "date": "2016-10-02T14:38:33+0000",
            "author": "Jan H\u00f8ydahl",
            "content": "The statement \"use the DEBUG level to get the same logging messages as before.\" is a bit misleading, as you will get MUCH MUCH more than what you got with INFO before. The key point here is that if people are looking for particular logs or have scripted some log parsing relying on some messages, you may need to tweak your log4j.properties to get those msgs back. That could be done either by increasing verbosity in general (not advisable) or by increasing verbosity for a particular class or package. ",
            "id": "comment-15540463"
        },
        {
            "date": "2016-10-02T15:26:42+0000",
            "author": "Alexandre Rafalovitch",
            "content": "I can't see it in commits done already, but the following line can probably be Debug or even TRACE level. \n\n\n78768 INFO  (qtp225493257-18) [   x:foo] o.a.s.h.c.SpellCheckComponent No queryConverter defined, using default converter\n\n\n\nIt refers to the flag that is not set anywhere in the examples and is probably too obscure to be anything but default for 99.9% of the installations. If anything it should log the opposite case, but that's a different issue. ",
            "id": "comment-15540523"
        },
        {
            "date": "2016-10-02T18:57:51+0000",
            "author": "Jan H\u00f8ydahl",
            "content": "Feel free to commit a fix tagged with SOLR-6677. Then I guess we'll close this issue in a few days and start opening new issues for further improvements. ",
            "id": "comment-15540816"
        },
        {
            "date": "2016-10-03T09:07:05+0000",
            "author": "ASF subversion and git services",
            "content": "Commit 6f6bb08782ae885419068d5c796cc5b29ea59d3b in lucene-solr's branch refs/heads/master from Alexandre Rafalovitch\n[ https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=6f6bb08 ]\n\nSOLR-6677: queryConverter message is now at TRACE ",
            "id": "comment-15541929"
        },
        {
            "date": "2016-10-03T09:20:58+0000",
            "author": "ASF subversion and git services",
            "content": "Commit ae7b685e4179f37443d99c5f7d80695485147dec in lucene-solr's branch refs/heads/branch_6x from Alexandre Rafalovitch\n[ https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=ae7b685 ]\n\nSOLR-6677: queryConverter message is now at TRACE ",
            "id": "comment-15541955"
        },
        {
            "date": "2016-10-04T12:21:37+0000",
            "author": "Jan H\u00f8ydahl",
            "content": "Resolving as fixed. Please open new issues for futher log level cleanup. Thanks for all the positive energy on this issue  ",
            "id": "comment-15545209"
        },
        {
            "date": "2016-11-09T08:37:50+0000",
            "author": "Shalin Shekhar Mangar",
            "content": "Closing after 6.3.0 release. ",
            "id": "comment-15650248"
        }
    ]
}