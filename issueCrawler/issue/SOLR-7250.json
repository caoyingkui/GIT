{
    "id": "SOLR-7250",
    "title": "In spellcheck.extendedResults=true freq value of suggestion differs from it actual origFreq",
    "details": {
        "components": [],
        "type": "New Feature",
        "labels": "",
        "fix_versions": [],
        "affect_versions": "None",
        "status": "Open",
        "resolution": "Unresolved",
        "priority": "Major"
    },
    "description": "Original frequency is not matching with suggestion frequency in SOLR\n\nOutput for \"whs is\" - (73) which is a suggestion of \"who is\" varies than its actual original frequency (94)\nFor your reference attaching two images of the output\n\nMy schema.xml\n\n<field name=\"gram\" type=\"textSpell\" indexed=\"true\" stored=\"true\" required=\"true\" multiValued=\"false\"/>\n<field name=\"gram_ci\" type=\"textSpellCi\" indexed=\"true\" stored=\"false\" multiValued=\"false\"/>\n\n<copyField source=\"gram\" dest=\"gram_ci\"/>\n\n<fieldType name=\"textSpell\" class=\"solr.TextField\" positionIncrementGap=\"100\">\n        <analyzer type=\"index\">\n                <tokenizer class=\"solr.StandardTokenizerFactory\"/>\n                <filter class=\"solr.ShingleFilterFactory\" maxShingleSize=\"5\" minShingleSize=\"2\" outputUnigrams=\"true\"/>\n        </analyzer>\n        <analyzer type=\"query\">\n                <tokenizer class=\"solr.StandardTokenizerFactory\"/>\n                <filter class=\"solr.ShingleFilterFactory\" maxShingleSize=\"5\" minShingleSize=\"2\" outputUnigrams=\"true\"/>\n        </analyzer>\n</fieldType>\n<fieldType name=\"textSpellCi\" class=\"solr.TextField\" positionIncrementGap=\"100\">\n        <analyzer type=\"index\">\n                <tokenizer class=\"solr.StandardTokenizerFactory\"/>\n                <filter class=\"solr.LowerCaseFilterFactory\"/>\n                <filter class=\"solr.ShingleFilterFactory\" maxShingleSize=\"5\" minShingleSize=\"2\" outputUnigrams=\"true\"/>\n        </analyzer>\n        <analyzer type=\"query\">\n                <tokenizer class=\"solr.StandardTokenizerFactory\"/>\n                <filter class=\"solr.LowerCaseFilterFactory\"/>\n                <filter class=\"solr.ShingleFilterFactory\" maxShingleSize=\"5\" minShingleSize=\"2\" outputUnigrams=\"true\"/>\n        </analyzer>\n</fieldType>\n\nsolrconfig.xml\n\n<searchComponent name=\"spellcheck\" class=\"solr.SpellCheckComponent\">\n        <str name=\"queryAnalyzerFieldType\">textSpellCi</str>\n        <lst name=\"spellchecker\">\n                <str name=\"name\">default</str>\n                <str name=\"field\">gram_ci</str>\n                <str name=\"classname\">solr.DirectSolrSpellChecker</str>\n                <str name=\"distanceMeasure\">internal</str>\n                <float name=\"accuracy\">0.5</float>\n                <int name=\"maxEdits\">2</int>\n                <int name=\"minPrefix\">0</int>\n                <int name=\"maxInspections\">5</int>\n                <int name=\"minQueryLength\">2</int>\n                <float name=\"maxQueryFrequency\">0.99</float>\n                <str name=\"comparatorClass\">freq</str>\n                <float name=\"thresholdTokenFrequency\">0.0</float>\n        </lst>\n</searchComponent>\n<requestHandler name=\"/spell\" class=\"solr.SearchHandler\" startup=\"lazy\">\n        <lst name=\"defaults\">\n                <str name=\"df\">gram_ci</str>\n                <str name=\"spellcheck.dictionary\">default</str>\n                <str name=\"spellcheck\">on</str>\n                <str name=\"spellcheck.extendedResults\">true</str>\n                <str name=\"spellcheck.count\">15</str>\n                <str name=\"spellcheck.alternativeTermCount\">10</str>\n                <str name=\"spellcheck.onlyMorePopular\">false</str>\n        </lst>\n        <arr name=\"last-components\">\n                <str>spellcheck</str>\n        </arr>\n</requestHandler>\n\n\nFor more information have a look at this\nhttp://stackoverflow.com/questions/28857915/original-frequency-is-not-matching-with-suggestion-frequency-in-solr",
    "attachments": {},
    "issue_links": {},
    "comments": []
}