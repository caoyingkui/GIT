{
    "id": "SOLR-1455",
    "title": "Error during auto-warming OutOfMemoryError",
    "details": {
        "affect_versions": "1.3",
        "status": "Resolved",
        "fix_versions": [],
        "components": [],
        "type": "Bug",
        "priority": "Major",
        "labels": "",
        "resolution": "Invalid"
    },
    "description": "lately solr has been locking up for me\n\ni keep getting \n\nWARNING: No lockType configured for /home/solr/indices/lunar/data/index/ assuming 'simple'\nSep 23, 2009 4:47:34 AM org.apache.coyote.http11.Http11Processor process\nSEVERE: Error processing request\njava.lang.OutOfMemoryError: GC overhead limit exceeded\nSep 23, 2009 4:48:57 AM org.apache.solr.common.SolrException log\nSEVERE: java.lang.OutOfMemoryError: GC overhead limit exceeded\n\nSep 23, 2009 5:20:59 AM org.apache.solr.common.SolrException log\nSEVERE: Error during auto-warming of key:org.apache.solr.search.QueryResultKey@cb3e3ef6:java.lang.OutOfMemoryError: GC overhead limit exceeded\n\nSep 23, 2009 5:20:59 AM org.apache.solr.common.SolrException log\nSEVERE: java.lang.OutOfMemoryError: GC overhead limit exceeded\n\nSep 23, 2009 5:20:59 AM org.apache.solr.search.SolrIndexSearcher warm\nINFO: autowarming result for Searcher@2d59e0ae main\n        queryResultCache\n{lookups=0,hits=0,hitratio=0.00,inserts=49,evictions=0,size=49,warmupTime=49100153,cumulative_lookups=60,cumulative_hits=5,cumulative_hitratio=0.08,cumulative_inserts=55,cumulative_evictions=0}\nSep 23, 2009 5:20:59 AM org.apache.solr.common.SolrException log\nSEVERE: java.lang.RuntimeException: java.lang.OutOfMemoryError: GC overhead limit exceeded\n        at org.apache.solr.core.SolrCore.getSearcher(SolrCore.java:960)\n        at org.apache.solr.update.DirectUpdateHandler2.commit(DirectUpdateHandler2.java:368)\n        at org.apache.solr.update.processor.RunUpdateProcessor.processCommit(RunUpdateProcessorFactory.java:77)\n        at org.apache.solr.handler.XmlUpdateRequestHandler.processUpdate(XmlUpdateRequestHandler.java:226)\n        at org.apache.solr.handler.XmlUpdateRequestHandler.handleRequestBody(XmlUpdateRequestHandler.java:123)\n        at org.apache.solr.handler.RequestHandlerBase.handleRequest(RequestHandlerBase.java:131)\n        at org.apache.solr.core.SolrCore.execute(SolrCore.java:1204)\n        at org.apache.solr.servlet.SolrDispatchFilter.execute(SolrDispatchFilter.java:303)\n        at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:232)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:175)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:128)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:263)\n        at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:844)\n        at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:584)\n        at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:447)\n        at java.lang.Thread.run(Unknown Source)\nCaused by: java.lang.OutOfMemoryError: GC overhead limit exceeded\n\n\nand after a while the lock is never removed:\nSEVERE: org.apache.lucene.store.LockObtainFailedException: Lock obtain timed out: SimpleFSLock@/home/solr/indices/lunar/data/index/lucene-1cf222e5ad584eae35889657453815d8-write.lock\n        at org.apache.lucene.store.Lock.obtain(Lock.java:85)\n        at org.apache.lucene.index.IndexWriter.init(IndexWriter.java:1140)\n        at org.apache.lucene.index.IndexWriter.<init>(IndexWriter.java:938)\n        at org.apache.solr.update.SolrIndexWriter.<init>(SolrIndexWriter.java:116)\n        at org.apache.solr.update.UpdateHandler.createMainIndexWriter(UpdateHandler.java:122)\n        at org.apache.solr.update.DirectUpdateHandler2.openWriter(DirectUpdateHandler2.java:167)\n        at org.apache.solr.update.DirectUpdateHandler2.addDoc(DirectUpdateHandler2.java:221)\n        at org.apache.solr.update.processor.RunUpdateProcessor.processAdd(RunUpdateProcessorFactory.java:59)\n        at org.apache.solr.handler.XmlUpdateRequestHandler.processUpdate(XmlUpdateRequestHandler.java:196)\n        at org.apache.solr.handler.XmlUpdateRequestHandler.handleRequestBody(XmlUpdateRequestHandler.java:123)\n        at org.apache.solr.handler.RequestHandlerBase.handleRequest(RequestHandlerBase.java:131)\n        at org.apache.solr.core.SolrCore.execute(SolrCore.java:1204)\n        at org.apache.solr.servlet.SolrDispatchFilter.execute(SolrDispatchFilter.java:303)\n        at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:232)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:175)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:128)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:263)\n        at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:844)\n        at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:584)\n        at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:447)\n        at java.lang.Thread.run(Unknown Source)\n\nthis happens every couple of days. I recently added:\n<unlockOnStartup>true</unlockOnStartup>\nand only had to remove the lock.\n\nin the past however i'd always have to stop solr, kill -9 the instance and start it up again.\nI havent been able to find useful info anywhere\nAlso my index folder is 3.6GB\n\nIf you need any more information i'd be happy to provide it. Thanks",
    "attachments": {},
    "issue_links": {},
    "comments": [
        {
            "author": "Hoss Man",
            "id": "comment-12762070",
            "date": "2009-10-05T02:25:32+0000",
            "content": "please post questions to solr-user about problems you have running solr before opening bugs. "
        }
    ]
}