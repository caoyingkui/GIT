{
    "id": "SOLR-11152",
    "title": "ClassNotFoundException: com.uwyn.jhighlight.renderer.XhtmlRendererFactory",
    "details": {
        "labels": "",
        "priority": "Major",
        "components": [
            "contrib - Solr Cell (Tika extraction)"
        ],
        "type": "Bug",
        "fix_versions": [],
        "affect_versions": "6.6",
        "resolution": "Unresolved",
        "status": "Open"
    },
    "description": "We get the following error when trying to index/extract a tgz file with Solr 6.6.0:\n\n\nCaused by: java.lang.NoClassDefFoundError: com/uwyn/jhighlight/renderer/XhtmlRendererFactory\n\tat org.apache.tika.parser.code.SourceCodeParser.getRenderer(SourceCodeParser.java:132)\n\tat org.apache.tika.parser.code.SourceCodeParser.parse(SourceCodeParser.java:111)\n\tat org.apache.tika.parser.CompositeParser.parse(CompositeParser.java:280)\n\tat org.apache.tika.parser.CompositeParser.parse(CompositeParser.java:280)\n\tat org.apache.tika.parser.AutoDetectParser.parse(AutoDetectParser.java:120)\n\tat org.apache.tika.parser.DelegatingParser.parse(DelegatingParser.java:72)\n\tat org.apache.tika.extractor.ParsingEmbeddedDocumentExtractor.parseEmbedded(ParsingEmbeddedDocumentExtractor.java:102)\n\tat org.apache.tika.parser.pkg.PackageParser.parseEntry(PackageParser.java:219)\n\tat org.apache.tika.parser.pkg.PackageParser.parse(PackageParser.java:182)\n\tat org.apache.tika.parser.CompositeParser.parse(CompositeParser.java:280)\n\tat org.apache.tika.parser.CompositeParser.parse(CompositeParser.java:280)\n\tat org.apache.tika.parser.AutoDetectParser.parse(AutoDetectParser.java:120)\n\tat org.apache.tika.parser.DelegatingParser.parse(DelegatingParser.java:72)\n\tat org.apache.tika.extractor.ParsingEmbeddedDocumentExtractor.parseEmbedded(ParsingEmbeddedDocumentExtractor.java:102)\n\tat org.apache.tika.parser.pkg.PackageParser.parseEntry(PackageParser.java:219)\n\tat org.apache.tika.parser.pkg.PackageParser.parse(PackageParser.java:182)\n\tat org.apache.tika.parser.CompositeParser.parse(CompositeParser.java:280)\n\tat org.apache.tika.parser.CompositeParser.parse(CompositeParser.java:280)\n\tat org.apache.tika.parser.AutoDetectParser.parse(AutoDetectParser.java:120)\n\tat org.apache.tika.parser.DelegatingParser.parse(DelegatingParser.java:72)\n\tat org.apache.tika.extractor.ParsingEmbeddedDocumentExtractor.parseEmbedded(ParsingEmbeddedDocumentExtractor.java:102)\n\tat org.apache.tika.parser.pkg.CompressorParser.parse(CompressorParser.java:164)\n\tat org.apache.tika.parser.CompositeParser.parse(CompositeParser.java:280)\n\tat org.apache.tika.parser.CompositeParser.parse(CompositeParser.java:280)\n\tat org.apache.tika.parser.AutoDetectParser.parse(AutoDetectParser.java:120)\n\tat org.apache.solr.handler.extraction.ExtractingDocumentLoader.load(ExtractingDocumentLoader.java:228)\n\tat org.apache.solr.handler.ContentStreamHandlerBase.handleRequestBody(ContentStreamHandlerBase.java:68)\n\tat org.apache.solr.handler.RequestHandlerBase.handleRequest(RequestHandlerBase.java:173)\n\tat org.apache.solr.core.SolrCore.execute(SolrCore.java:2477)\n\tat org.apache.solr.servlet.HttpSolrCall.execute(HttpSolrCall.java:723)\n\tat org.apache.solr.servlet.HttpSolrCall.call(HttpSolrCall.java:529)\n\t... 29 more\nCaused by: java.lang.ClassNotFoundException: com.uwyn.jhighlight.renderer.XhtmlRendererFactory\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n\tat java.net.FactoryURLClassLoader.loadClass(URLClassLoader.java:814)\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n\t... 60 more\n\n\n\nIt seems like the dependency com.uwyn:jhighlight:1.0 is missing in contrib/extraction/lib in the Solr installation.\n\nWhen placing it there, the indexation works perfectly.",
    "attachments": {},
    "issue_links": {},
    "comments": []
}