{
    "id": "SOLR-9907",
    "title": "in solr 6.2 select query with edismax and bf=rord(datecreated) is not working",
    "details": {
        "components": [
            "SolrCloud"
        ],
        "type": "Bug",
        "labels": "",
        "fix_versions": [],
        "affect_versions": "None",
        "status": "Resolved",
        "resolution": "Duplicate",
        "priority": "Major"
    },
    "description": "We have solr cloud with 3 shard and 3 replica with solr 6.2 installed.Select query with edismax and bf=rord(datecreated) , where datecreated is a date field gives error.\nError Details:\n------------------\n\n\"error\":\n{\n    \"metadata\":[\n      \"error-class\",\"org.apache.solr.common.SolrException\",\n      \"root-error-class\",\"org.apache.solr.client.solrj.impl.HttpSolrClient$RemoteSolrException\"],\n    \"msg\":\"org.apache.solr.client.solrj.SolrServerException: No live available to handle this request:[http://xyz:8983/solr/client_sku_shard3_replica3, http://xyz:8983/solr/client_sku_shard2_replica2, http://xyz:8983/solr/client_sku_shard2_replica1, http://xyz:8983/solr/client_sku_shard2_replica3, http://xyz:8983/solr/client_sku_shard1_replica1, http://xyz:8983/solr/client_sku_shard3_replica2, http://yxz:8983/solr/client_sku_shard1_replica2, http://xyz:8983/solr/client_sku_shard3_replica1, http://xyz:8983/solr/client_sku_shard1_replica3]\",\n    \"trace\":\"org.apache.solr.common.SolrException: org.apache.solr.client.solrj.SolrServerException: No live SolrServers available to handle this request:[http://xyz:8983/solr/client_sku_shard3_replica3, http://xyz:8983/solr/client_sku_shard2_replica2, http://xyz:8983/solr/client_sku_shard2_replica1, http://xyz:8983/solr/client_sku_shard2_replica3, http://xyz:8983/solr/client_sku_shard1_replica1, http://xyz:8983/solr/client_sku_shard3_replica2, http://yxz:8983/solr/client_sku_shard1_replica2, http://xyz:8983/solr/client_sku_shard3_replica1, http://xyz:8983/solr/client_sku_shard1_replica3]\\n\\tat org.apache.solr.handler.component.SearchHandler.handleRequestBody(SearchHandler.java:415)\\n\\tat org.apache.solr.handler.RequestHandlerBase.handleRequest(RequestHandlerBase.java:154)\\n\\tat org.apache.solr.core.SolrCore.execute(SolrCore.java:2089)\\n\\tat org.apache.solr.servlet.HttpSolrCall.execute(HttpSolrCall.java:652)\\n\\tat org.apache.solr.servlet.HttpSolrCall.call(HttpSolrCall.java:459)\\n\\tat org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:257)\\n\\tat org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:208)\\n\\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1668)\\n\\tat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:581)\\n\\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\\n\\tat org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548)\\n\\tat org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:226)\\n\\tat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1160)\\n\\tat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:511)\\n\\tat org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185)\\n\\tat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1092)\\n\\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\\n\\tat org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:213)\\n\\tat org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:119)\\n\\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:134)\\n\\tat org.eclipse.jetty.server.Server.handle(Server.java:518)\\n\\tat org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:308)\\n\\tat org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:244)\\n\\tat org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:273)\\n\\tat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:95)\\n\\tat org.eclipse.jetty.io.SelectChannelEndPoint$2.run(SelectChannelEndPoint.java:93)\\n\\tat org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.produceAndRun(ExecuteProduceConsume.java:246)\\n\\tat org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.run(ExecuteProduceConsume.java:156)\\n\\tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:654)\\n\\tat org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:572)\\n\\tat java.lang.Thread.run(Thread.java:745)\\nCaused by: org.apache.solr.client.solrj.SolrServerException: No live SolrServers available to handle this request:[http://xyz:8983/solr/client_sku_shard3_replica3, http://xyz:8983/solr/client_sku_shard2_replica2, http://xyz:8983/solr/client_sku_shard2_replica1, http://xyz:8983/solr/client_sku_shard2_replica3, http://xyz:8983/solr/client_sku_shard1_replica1, http://xyz:8983/solr/client_sku_shard3_replica2, http://yxz:8983/solr/client_sku_shard1_replica2, http://xyz:8983/solr/client_sku_shard3_replica1, http://xyz:8983/solr/client_sku_shard1_replica3]\\n\\tat org.apache.solr.client.solrj.impl.LBHttpSolrClient.request(LBHttpSolrClient.java:384)\\n\\tat org.apache.solr.handler.component.HttpShardHandlerFactory.makeLoadBalancedRequest(HttpShardHandlerFactory.java:275)\\n\\tat org.apache.solr.handler.component.HttpShardHandler.lambda$submit$0(HttpShardHandler.java:198)\\n\\tat org.apache.solr.handler.component.HttpShardHandler$$Lambda$88/1497746121.call(Unknown Source)\\n\\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\\n\\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\\n\\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\\n\\tat org.apache.solr.common.util.ExecutorUtil$MDCAwareThreadPoolExecutor.lambda$execute$0(ExecutorUtil.java:229)\\n\\tat org.apache.solr.common.util.ExecutorUtil$MDCAwareThreadPoolExecutor$$Lambda$3/1173802200.run(Unknown Source)\\n\\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\\n\\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\\n\\t... 1 more\\nCaused by: org.apache.solr.client.solrj.impl.HttpSolrClient$RemoteSolrException: Error from server at http://xyz:8983/solr/client_sku_shard3_replica2: Type mismatch: created was indexed with multiple values per document, use SORTED_SET instead\\n\\tat org.apache.solr.client.solrj.impl.HttpSolrClient.executeMethod(HttpSolrClient.java:592)\\n\\tat org.apache.solr.client.solrj.impl.HttpSolrClient.request(HttpSolrClient.java:261)\\n\\tat org.apache.solr.client.solrj.impl.HttpSolrClient.request(HttpSolrClient.java:250)\\n\\tat org.apache.solr.client.solrj.impl.LBHttpSolrClient.doRequest(LBHttpSolrClient.java:405)\\n\\tat org.apache.solr.client.solrj.impl.LBHttpSolrClient.request(LBHttpSolrClient.java:373)\\n\\t... 11 more\\n\",\n    \"code\":500}\n}",
    "attachments": {},
    "issue_links": {},
    "comments": [
        {
            "date": "2016-12-30T17:33:57+0000",
            "author": "Erick Erickson",
            "content": "Please raise issues like this on the user's list, many more people will see it and you'll likely get help much more quickly.\n\nIf it's determined that this is a new problem with Solr code, then you should raise a JIRA. \n\nThis is a duplicate of SOLR-7495.\n\nThe current workaround is to declare the field multiValued=\"true\". If you need to sort, use copyField to a single-valued field and sort on that. ",
            "id": "comment-15788048"
        }
    ]
}