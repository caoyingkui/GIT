{
    "id": "SOLR-10951",
    "title": "Update Hadoop dependencies to 2.8.1, so Solr works with Java 9",
    "details": {
        "labels": "",
        "priority": "Major",
        "components": [
            "Hadoop Integration",
            "hdfs"
        ],
        "type": "Task",
        "fix_versions": [
            "7.0"
        ],
        "affect_versions": "6.6,                                            7.0",
        "resolution": "Won't Fix",
        "status": "Closed"
    },
    "description": "See issue: HADOOP-14586\n\nSince Java 9 build 175 (the first Java 9 relaese candidate), Hadoop integration fails in Java 9:\n\n\n   [junit4]   2> 129956 ERROR (jetty-launcher-232-thread-2) [    ] o.a.s.c.SolrCore null:java.lang.ExceptionInInitializerError\n   [junit4]   2> \tat org.apache.hadoop.util.StringUtils.<clinit>(StringUtils.java:80)\n   [junit4]   2> \tat org.apache.hadoop.conf.Configuration.getBoolean(Configuration.java:1437)\n   [junit4]   2> \tat org.apache.hadoop.security.token.delegation.web.DelegationTokenManager.<init>(DelegationTokenManager.java:115)\n   [junit4]   2> \tat org.apache.hadoop.security.token.delegation.web.DelegationTokenAuthenticationHandler.initTokenManager(DelegationTokenAuthenticationHandler.java:148)\n   [junit4]   2> \tat org.apache.hadoop.security.token.delegation.web.DelegationTokenAuthenticationHandler.init(DelegationTokenAuthenticationHandler.java:118)\n   [junit4]   2> \tat org.apache.hadoop.security.authentication.server.AuthenticationFilter.initializeAuthHandler(AuthenticationFilter.java:238)\n   [junit4]   2> \tat org.apache.hadoop.security.token.delegation.web.DelegationTokenAuthenticationFilter.initializeAuthHandler(DelegationTokenAuthenticationFilter.java:209)\n   [junit4]   2> \tat org.apache.solr.security.HadoopAuthFilter.initializeAuthHandler(HadoopAuthFilter.java:120)\n   [junit4]   2> \tat org.apache.hadoop.security.authentication.server.AuthenticationFilter.init(AuthenticationFilter.java:227)\n   [junit4]   2> \tat org.apache.hadoop.security.token.delegation.web.DelegationTokenAuthenticationFilter.init(DelegationTokenAuthenticationFilter.java:175)\n   [junit4]   2> \tat org.apache.solr.security.HadoopAuthFilter.init(HadoopAuthFilter.java:68)\n   [junit4]   2> \tat org.apache.solr.security.HadoopAuthPlugin.init(HadoopAuthPlugin.java:142)\n   [junit4]   2> \tat org.apache.solr.core.CoreContainer.initializeAuthenticationPlugin(CoreContainer.java:360)\n   [junit4]   2> \tat org.apache.solr.core.CoreContainer.reloadSecurityProperties(CoreContainer.java:684)\n   [junit4]   2> \tat org.apache.solr.core.CoreContainer.load(CoreContainer.java:522)\n   [junit4]   2> \tat org.apache.solr.servlet.SolrDispatchFilter.createCoreContainer(SolrDispatchFilter.java:257)\n   [junit4]   2> \tat org.apache.solr.servlet.SolrDispatchFilter.init(SolrDispatchFilter.java:177)\n   [junit4]   2> \tat org.eclipse.jetty.servlet.FilterHolder.initialize(FilterHolder.java:137)\n   [junit4]   2> \tat org.eclipse.jetty.servlet.ServletHandler.initialize(ServletHandler.java:873)\n   [junit4]   2> \tat org.eclipse.jetty.servlet.ServletHandler.updateMappings(ServletHandler.java:1565)\n   [junit4]   2> \tat org.eclipse.jetty.servlet.ServletHandler.setFilterMappings(ServletHandler.java:1599)\n   [junit4]   2> \tat org.eclipse.jetty.servlet.ServletHandler.addFilterMapping(ServletHandler.java:1285)\n   [junit4]   2> \tat org.eclipse.jetty.servlet.ServletHandler.addFilterWithMapping(ServletHandler.java:1130)\n   [junit4]   2> \tat org.eclipse.jetty.servlet.ServletContextHandler.addFilter(ServletContextHandler.java:448)\n   [junit4]   2> \tat org.apache.solr.client.solrj.embedded.JettySolrRunner$1.lifeCycleStarted(JettySolrRunner.java:306)\n   [junit4]   2> \tat org.eclipse.jetty.util.component.AbstractLifeCycle.setStarted(AbstractLifeCycle.java:179)\n   [junit4]   2> \tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:69)\n   [junit4]   2> \tat org.apache.solr.client.solrj.embedded.JettySolrRunner.start(JettySolrRunner.java:394)\n   [junit4]   2> \tat org.apache.solr.client.solrj.embedded.JettySolrRunner.start(JettySolrRunner.java:367)\n   [junit4]   2> \tat org.apache.solr.cloud.MiniSolrCloudCluster.startJettySolrRunner(MiniSolrCloudCluster.java:382)\n   [junit4]   2> \tat org.apache.solr.cloud.MiniSolrCloudCluster.lambda$new$0(MiniSolrCloudCluster.java:245)\n   [junit4]   2> \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n   [junit4]   2> \tat org.apache.solr.common.util.ExecutorUtil$MDCAwareThreadPoolExecutor.lambda$execute$0(ExecutorUtil.java:188)\n   [junit4]   2> \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1161)\n   [junit4]   2> \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n   [junit4]   2> \tat java.base/java.lang.Thread.run(Thread.java:844)\n   [junit4]   2> Caused by: java.lang.StringIndexOutOfBoundsException: begin 0, end 3, length 1\n   [junit4]   2> \tat java.base/java.lang.String.checkBoundsBeginEnd(String.java:3116)\n   [junit4]   2> \tat java.base/java.lang.String.substring(String.java:1885)\n   [junit4]   2> \tat org.apache.hadoop.util.Shell.<clinit>(Shell.java:51)\n   [junit4]   2> \t... 36 more\n   [junit4]   2> \n\n\n\nThis means we can for now only disable all tests using Hadoop, if Java 9 is detected.\n\nOn Policeman Jenkins the HDFS integration is already disabled, but there are 2 more tests that fail:\n\n\n\torg.apache.solr.security.hadoop.TestDelegationWithHadoopAuth\n\torg.apache.solr.cloud.TestSolrCloudWithDelegationTokens\n\n\n\nI will add an assumeFalse for a while, until Hadoop fixed the issue.",
    "attachments": {
        "SOLR-10951.patch": "https://issues.apache.org/jira/secure/attachment/12874392/SOLR-10951.patch"
    },
    "issue_links": {},
    "comments": [
        {
            "date": "2017-06-24T13:35:18+0000",
            "content": "Commit e43253312f965ba838d80c2000dee761df1f25f5 in lucene-solr's branch refs/heads/master from Uwe Schindler\n[ https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=e432533 ]\n\nSOLR-10951: Hadoop does not work on Java 9, disable tests that break ",
            "author": "ASF subversion and git services",
            "id": "comment-16061989"
        },
        {
            "date": "2017-06-24T13:41:52+0000",
            "content": "Commit a3ac47af52a0cb3d29aa3f14446b6c3d79b32b6c in lucene-solr's branch refs/heads/branch_6x from Uwe Schindler\n[ https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=a3ac47a ]\n\nSOLR-10951: Hadoop does not work on Java 9, disable tests that break ",
            "author": "ASF subversion and git services",
            "id": "comment-16061993"
        },
        {
            "date": "2017-06-24T18:01:27+0000",
            "content": "According to HADOOP-14586, Hadoop 2.8.x should not have this problem. Current release is 2.8.1.\n\nIs there any reason we stay on this old version? ",
            "author": "Uwe Schindler",
            "id": "comment-16062080"
        },
        {
            "date": "2017-06-24T18:09:40+0000",
            "content": "When updating the hadoop version to 2.8.1, compilation fails with:\n\n\n[javac] C:\\Users\\Uwe Schindler\\Projects\\lucene\\trunk-lusolr1\\solr\\core\\src\\java\\org\\apache\\solr\\store\\hdfs\\HdfsDirectory.java:32: error: cannot find symbol\n[javac] import org.apache.hadoop.hdfs.DistributedFileSystem;\n\n ",
            "author": "Uwe Schindler",
            "id": "comment-16062084"
        },
        {
            "date": "2017-06-24T18:18:35+0000",
            "content": "I have seen the Jenkins failures. We have to update Hadoop, otherwise we cannot run tests anymore. StringUtils/Shell in Hadoop is so essential that it fails as soon as any class touches it (only by loading).\n\nI am trying to get an update from the Hadoop people. ",
            "author": "Uwe Schindler",
            "id": "comment-16062087"
        },
        {
            "date": "2017-06-24T22:06:03+0000",
            "content": "Hi,\n\nI figured out: To update to Hadoop 2.8.1, we also need hadoop-hdfs-client.jar, which is new in 2.8. After adding this dependency, compilation works again. I will attach a patch soon. Unfprtunately I cannot test on Windows, so I have to start VMs and apply patch there, to look into it.\n\nThis would be the easiest. An alternative is to wait for 2.7.4, but this may take some time, although Hadoop people want to make it available, thanks Akira Ajisaka!\n\nUwe ",
            "author": "Uwe Schindler",
            "id": "comment-16062159"
        },
        {
            "date": "2017-06-24T22:16:51+0000",
            "content": "Here is a patch, not yet tested on Linux - but compiles. ",
            "author": "Uwe Schindler",
            "id": "comment-16062160"
        },
        {
            "date": "2017-06-25T16:37:25+0000",
            "content": "I had to change some additional dependencies, but I got it running up to the place where tests of HDFS tear down.\n\nWith Hadoop-2.8.1, the test shutdown code and thread leak detector hangs infinite in a lock while trying to interrupt() threads:\n\n\n   [junit4] >>> JVM J1 emitted unexpected output (verbatim) ----\n   [junit4] 2017-06-25 15:58:44\n   [junit4] Full thread dump Java HotSpot(TM) Client VM (25.131-b11 mixed mode):\n   [junit4] \n   [junit4] \"IPC Server handler 9 on 41067\" #8132 daemon prio=5 os_prio=0 tid=0xc6674800 nid=0x67c3 waiting on condition [0xca932000]\n   [junit4]    java.lang.Thread.State: TIMED_WAITING (parking)\n   [junit4] \tat sun.misc.Unsafe.park(Native Method)\n   [junit4] \t- parking to wait for  <0xd7b3e000> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n   [junit4] \tat java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)\n   [junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)\n   [junit4] \tat java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:467)\n   [junit4] \tat org.apache.hadoop.ipc.CallQueueManager.take(CallQueueManager.java:214)\n   [junit4] \tat org.apache.hadoop.ipc.Server$Handler.run(Server.java:2441)\n   [junit4] \n   [junit4] \"IPC Server handler 8 on 41067\" #8131 daemon prio=5 os_prio=0 tid=0xc6673c00 nid=0x67c2 waiting on condition [0xcf2ad000]\n   [junit4]    java.lang.Thread.State: TIMED_WAITING (parking)\n   [junit4] \tat sun.misc.Unsafe.park(Native Method)\n   [junit4] \t- parking to wait for  <0xd7b3e000> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n   [junit4] \tat java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)\n   [junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)\n   [junit4] \tat java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:467)\n   [junit4] \tat org.apache.hadoop.ipc.CallQueueManager.take(CallQueueManager.java:214)\n   [junit4] \tat org.apache.hadoop.ipc.Server$Handler.run(Server.java:2441)\n   [junit4] \n   [junit4] \"IPC Server handler 7 on 41067\" #8130 daemon prio=5 os_prio=0 tid=0xc6672c00 nid=0x67c1 waiting on condition [0xcf25c000]\n   [junit4]    java.lang.Thread.State: TIMED_WAITING (parking)\n   [junit4] \tat sun.misc.Unsafe.park(Native Method)\n   [junit4] \t- parking to wait for  <0xd7b3e000> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n   [junit4] \tat java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)\n   [junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awa\n   [junit4] itNanos(AbstractQueuedSynchronizer.java:2078)\n   [junit4] \tat java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:467)\n   [junit4] \tat org.apache.hadoop.ipc.CallQueueManager.take(CallQueueManager.java:214)\n   [junit4] \tat org.apache.hadoop.ipc.Server$Handler.run(Server.java:2441)\n   [junit4] \n   [junit4] \"IPC Server handler 6 on 41067\" #8129 daemon prio=5 os_prio=0 tid=0xc6671c00 nid=0x67c0 waiting on condition [0xca515000]\n   [junit4]    java.lang.Thread.State: TIMED_WAITING (parking)\n   [junit4] \tat sun.misc.Unsafe.park(Native Method)\n   [junit4] \t- parking to wait for  <0xd7b3e000> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n   [junit4] \tat java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)\n   [junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)\n   [junit4] \tat java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:467)\n   [junit4] \tat org.apache.hadoop.ipc.CallQueueManager.take(CallQueueManager.java:214)\n   [junit4] \tat org.apache.hadoop.ipc.Server$Handler.run(Server.java:2441)\n   [junit4] \n   [junit4] \"IPC Server handler 5 on 41067\" #8128 daemon prio=5 os_prio=0 tid=0xc6670c00 nid=0x67bf waiting on condition [0xcaa76000]\n   [junit4]    java.lang.Thread.State: TIMED_WAITING (parking)\n   [junit4] \tat sun.misc.Unsafe.park(Native Method)\n   [junit4] \t- parking to wait for  <0xd7b3e000> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n   [junit4] \tat java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)\n   [junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)\n   [junit4] \tat java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:467)\n   [junit4] \tat org.apache.hadoop.ipc.CallQueueManager.take(CallQueueManager.java:214)\n   [junit4] \tat org.apache.hadoop.ipc.Server$Handler.run(Server.java:2441)\n   [junit4] \n   [junit4] \"IPC Server handler 4 on 41067\" #8127 daemon prio=5 os_prio=0 tid=0xc6670000 nid=0x67be waiting on condition [0xca5b7000]\n   [junit4]    java.lang.Thread.State: TIMED_WAITING (parking)\n   [junit4] \tat sun.misc.Unsafe.park(Native Method)\n   [junit4] \t- parking to wait for  <0xd7b3e000> (a java.util.concurrent.locks.AbstractQueuedSynchro\n   [junit4] nizer$ConditionObject)\n   [junit4] \tat java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)\n   [junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)\n   [junit4] \tat java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:467)\n   [junit4] \tat org.apache.hadoop.ipc.CallQueueManager.take(CallQueueManager.java:214)\n   [junit4] \tat org.apache.hadoop.ipc.Server$Handler.run(Server.java:2441)\n   [junit4] \n   [junit4] \"IPC Server handler 3 on 41067\" #8126 daemon prio=5 os_prio=0 tid=0xc666f000 nid=0x67bd waiting on condition [0xca3d1000]\n   [junit4]    java.lang.Thread.State: TIMED_WAITING (parking)\n   [junit4] \tat sun.misc.Unsafe.park(Native Method)\n   [junit4] \t- parking to wait for  <0xd7b3e000> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n   [junit4] \tat java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)\n   [junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)\n   [junit4] \tat java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:467)\n   [junit4] \tat org.apache.hadoop.ipc.CallQueueManager.take(CallQueueManager.java:214)\n   [junit4] \tat org.apache.hadoop.ipc.Server$Handler.run(Server.java:2441)\n   [junit4] \n   [junit4] \"IPC Server handler 2 on 41067\" #8125 daemon prio=5 os_prio=0 tid=0xc666e400 nid=0x67bc waiting on condition [0xce4ad000]\n   [junit4]    java.lang.Thread.State: TIMED_WAITING (parking)\n   [junit4] \tat sun.misc.Unsafe.park(Native Method)\n   [junit4] \t- parking to wait for  <0xd7b3e000> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n   [junit4] \tat java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)\n   [junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)\n   [junit4] \tat java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:467)\n   [junit4] \tat org.apache.hadoop.ipc.CallQueueManager.take(CallQueueManager.java:214)\n   [junit4] \tat org.apache.hadoop.ipc.Server$Handler.run(Server.java:2441)\n   [junit4] \n   [junit4] \"IPC Server handler 1 on 41067\" #8124 daemon prio=5 os_prio=0 tid=0xc666d400 nid=0x67bb waiting on condition [0xca473000]\n   [junit4]    j\n   [junit4] ava.lang.Thread.State: TIMED_WAITING (parking)\n   [junit4] \tat sun.misc.Unsafe.park(Native Method)\n   [junit4] \t- parking to wait for  <0xd7b3e000> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n   [junit4] \tat java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)\n   [junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)\n   [junit4] \tat java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:467)\n   [junit4] \tat org.apache.hadoop.ipc.CallQueueManager.take(CallQueueManager.java:214)\n   [junit4] \tat org.apache.hadoop.ipc.Server$Handler.run(Server.java:2441)\n   [junit4] \n   [junit4] \"IPC Server handler 0 on 41067\" #8123 daemon prio=5 os_prio=0 tid=0xc666c400 nid=0x67ba waiting on condition [0xc9ffe000]\n   [junit4]    java.lang.Thread.State: TIMED_WAITING (parking)\n   [junit4] \tat sun.misc.Unsafe.park(Native Method)\n   [junit4] \t- parking to wait for  <0xd7b3e000> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n   [junit4] \tat java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)\n   [junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)\n   [junit4] \tat java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:467)\n   [junit4] \tat org.apache.hadoop.ipc.CallQueueManager.take(CallQueueManager.java:214)\n   [junit4] \tat org.apache.hadoop.ipc.Server$Handler.run(Server.java:2441)\n   [junit4] \n   [junit4] \"IPC Server listener on 41067\" #8114 daemon prio=5 os_prio=0 tid=0xc666bc00 nid=0x67b9 runnable [0xc7018000]\n   [junit4]    java.lang.Thread.State: RUNNABLE\n   [junit4] \tat sun.nio.ch.IOUtil.drain(Native Method)\n   [junit4] \tat sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:104)\n   [junit4] \t- locked <0xd7ce8eb0> (a java.lang.Object)\n   [junit4] \tat sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)\n   [junit4] \t- locked <0xd7ce8c70> (a sun.nio.ch.Util$3)\n   [junit4] \t- locked <0xd7ce8c60> (a java.util.Collections$UnmodifiableSet)\n   [junit4] \t- locked <0xd7ce8b28> (a sun.nio.ch.EPollSelectorImpl)\n   [junit4] \tat sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)\n   [junit4] \tat sun.nio.ch.SelectorImpl.select(SelectorImpl.java:101)\n   [junit4] \tat org.apache.hadoop.ipc.Server$Listener.r\n   [junit4] un(Server.java:1036)\n   [junit4] \n   [junit4] \"IPC Server Responder\" #8117 daemon prio=5 os_prio=0 tid=0xc666b400 nid=0x67b8 runnable [0xc8f8a000]\n   [junit4]    java.lang.Thread.State: RUNNABLE\n   [junit4] \tat sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)\n   [junit4] \tat sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:269)\n   [junit4] \tat sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:93)\n   [junit4] \tat sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)\n   [junit4] \t- locked <0xd7b3e3e8> (a sun.nio.ch.Util$3)\n   [junit4] \t- locked <0xd7b3e3f8> (a java.util.Collections$UnmodifiableSet)\n   [junit4] \t- locked <0xd7b3e398> (a sun.nio.ch.EPollSelectorImpl)\n   [junit4] \tat sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)\n   [junit4] \tat org.apache.hadoop.ipc.Server$Responder.doRunLoop(Server.java:1214)\n   [junit4] \tat org.apache.hadoop.ipc.Server$Responder.run(Server.java:1197)\n   [junit4] \n   [junit4] \"Block report processor\" #8112 daemon prio=5 os_prio=0 tid=0xc6662800 nid=0x67b7 waiting on condition [0xca1eb000]\n   [junit4]    java.lang.Thread.State: WAITING (parking)\n   [junit4] \tat sun.misc.Unsafe.park(Native Method)\n   [junit4] \t- parking to wait for  <0xd7b3e590> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n   [junit4] \tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\n   [junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)\n   [junit4] \tat java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:403)\n   [junit4] \tat org.apache.hadoop.hdfs.server.blockmanagement.BlockManager$BlockReportProcessingThread.processQueue(BlockManager.java:3984)\n   [junit4] \tat org.apache.hadoop.hdfs.server.blockmanagement.BlockManager$BlockReportProcessingThread.run(BlockManager.java:3973)\n   [junit4] \n   [junit4] \"org.apache.hadoop.hdfs.server.blockmanagement.HeartbeatManager$Monitor@1e1bd5d\" #8113 daemon prio=5 os_prio=0 tid=0xc665ec00 nid=0x67b5 waiting on condition [0xc70ba000]\n   [junit4]    java.lang.Thread.State: TIMED_WAITING (sleeping)\n   [junit4] \tat java.lang.Thread.sleep(Native Method)\n   [junit4] \tat org.apache.hadoop.hdfs.server.blockmanagement.HeartbeatManager$Monitor.run(HeartbeatManager.java:419)\n   [junit4] \tat java.lang.Thread.run(Thread.java:748)\n   [junit4] \n   [junit4] \"DecommissionMonitor-0\" #8122 d\n   [junit4] aemon prio=5 os_prio=0 tid=0xc665e000 nid=0x67b4 waiting on condition [0xcf1ba000]\n   [junit4]    java.lang.Thread.State: TIMED_WAITING (parking)\n   [junit4] \tat sun.misc.Unsafe.park(Native Method)\n   [junit4] \t- parking to wait for  <0xd7b3e9b8> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n   [junit4] \tat java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)\n   [junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)\n   [junit4] \tat java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)\n   [junit4] \tat java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)\n   [junit4] \tat java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)\n   [junit4] \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)\n   [junit4] \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n   [junit4] \tat java.lang.Thread.run(Thread.java:748)\n   [junit4] \n   [junit4] \"org.apache.hadoop.hdfs.server.blockmanagement.PendingReplicationBlocks$PendingReplicationMonitor@1964584\" #8121 daemon prio=5 os_prio=0 tid=0xc665c400 nid=0x67b3 waiting on condition [0xc8df5000]\n   [junit4]    java.lang.Thread.State: TIMED_WAITING (sleeping)\n   [junit4] \tat java.lang.Thread.sleep(Native Method)\n   [junit4] \tat org.apache.hadoop.hdfs.server.blockmanagement.PendingReplicationBlocks$PendingReplicationMonitor.run(PendingReplicationBlocks.java:237)\n   [junit4] \tat java.lang.Thread.run(Thread.java:748)\n   [junit4] \n   [junit4] \"IPC Server idle connection scanner for port 41067\" #8116 daemon prio=5 os_prio=0 tid=0xc661b400 nid=0x67ad in Object.wait() [0xcb2fe000]\n   [junit4]    java.lang.Thread.State: TIMED_WAITING (on object monitor)\n   [junit4] \tat java.lang.Object.wait(Native Method)\n   [junit4] \tat java.util.TimerThread.mainLoop(Timer.java:552)\n   [junit4] \t- locked <0xd7b3ed88> (a java.util.TaskQueue)\n   [junit4] \tat java.util.TimerThread.run(Timer.java:505)\n   [junit4] \n   [junit4] \"Socket Reader #1 for port 41067\" #8115 prio=5 os_prio=0 tid=0xc6619400 nid=0x67ac runnable [0xc9c32000]\n   [junit4]    java.lang.Thread.State: RUNNABLE\n   [junit4] \tat sun.nio.ch.EPollArrayWrapper.interrupt(Na\n   [junit4] tive Method)\n   [junit4] \tat sun.nio.ch.EPollArrayWrapper.interrupt(EPollArrayWrapper.java:317)\n   [junit4] \tat sun.nio.ch.EPollSelectorImpl.wakeup(EPollSelectorImpl.java:207)\n   [junit4] \t- locked <0xd7b3ef60> (a java.lang.Object)\n   [junit4] \tat java.nio.channels.spi.AbstractSelector$1.interrupt(AbstractSelector.java:213)\n   [junit4] \tat java.nio.channels.spi.AbstractSelector.begin(AbstractSelector.java:219)\n   [junit4] \tat sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:92)\n   [junit4] \tat sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)\n   [junit4] \t- locked <0xd7b3ef68> (a sun.nio.ch.Util$3)\n   [junit4] \t- locked <0xd7b3ef78> (a java.util.Collections$UnmodifiableSet)\n   [junit4] \t- locked <0xd7b3ef20> (a sun.nio.ch.EPollSelectorImpl)\n   [junit4] \tat sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)\n   [junit4] \tat sun.nio.ch.SelectorImpl.select(SelectorImpl.java:101)\n   [junit4] \tat org.apache.hadoop.ipc.Server$Listener$Reader.doRunLoop(Server.java:974)\n   [junit4] \t- locked <0xd7b3ed98> (a org.apache.hadoop.ipc.Server$Listener$Reader)\n   [junit4] \tat org.apache.hadoop.ipc.Server$Listener$Reader.run(Server.java:953)\n   [junit4] \n   [junit4] \"Timer-1\" #8110 daemon prio=5 os_prio=0 tid=0xc7626400 nid=0x67ab in Object.wait() [0xcb069000]\n   [junit4]    java.lang.Thread.State: TIMED_WAITING (on object monitor)\n   [junit4] \tat java.lang.Object.wait(Native Method)\n   [junit4] \tat java.util.TimerThread.mainLoop(Timer.java:552)\n   [junit4] \t- locked <0xd7b3f108> (a java.util.TaskQueue)\n   [junit4] \tat java.util.TimerThread.run(Timer.java:505)\n   [junit4] \n   [junit4] \"Timer-0\" #8109 daemon prio=5 os_prio=0 tid=0xc760e000 nid=0x67aa in Object.wait() [0xc8f39000]\n   [junit4]    java.lang.Thread.State: TIMED_WAITING (on object monitor)\n   [junit4] \tat java.lang.Object.wait(Native Method)\n   [junit4] \tat java.util.TimerThread.mainLoop(Timer.java:552)\n   [junit4] \t- locked <0xd7b3f2c8> (a java.util.TaskQueue)\n   [junit4] \tat java.util.TimerThread.run(Timer.java:505)\n   [junit4] \n   [junit4] \"13142186@qtp-24418277-1 - Acceptor0 HttpServer2$SelectChannelConnectorWithSafeStartup@localhost.localdomain:43319\" #8107 daemon prio=5 os_prio=0 tid=0xc7603800 nid=0x67a8 runnable [0xcaac7000]\n   [junit4]    java.lang.Thread.State: RUNNABLE\n   [junit4] \tat sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)\n   [junit4] \tat sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:269)\n   [junit4] \tat sun.nio.ch.EPol\n   [junit4] lSelectorImpl.doSelect(EPollSelectorImpl.java:93)\n   [junit4] \tat sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)\n   [junit4] \t- locked <0xd7e0b980> (a sun.nio.ch.Util$3)\n   [junit4] \t- locked <0xd7e0b990> (a java.util.Collections$UnmodifiableSet)\n   [junit4] \t- locked <0xd7e0b940> (a sun.nio.ch.EPollSelectorImpl)\n   [junit4] \tat sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)\n   [junit4] \tat org.mortbay.io.nio.SelectorManager$SelectSet.doSelect(SelectorManager.java:498)\n   [junit4] \tat org.mortbay.io.nio.SelectorManager.doSelect(SelectorManager.java:192)\n   [junit4] \tat org.mortbay.jetty.nio.SelectChannelConnector.accept(SelectChannelConnector.java:124)\n   [junit4] \tat org.mortbay.jetty.AbstractConnector$Acceptor.run(AbstractConnector.java:708)\n   [junit4] \tat org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)\n   [junit4] \n   [junit4] \"pool-2-thread-1\" #8105 prio=5 os_prio=0 tid=0xc7a73400 nid=0x67a6 waiting on condition [0xce1c7000]\n   [junit4]    java.lang.Thread.State: TIMED_WAITING (parking)\n   [junit4] \tat sun.misc.Unsafe.park(Native Method)\n   [junit4] \t- parking to wait for  <0xd7b3f7f8> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n   [junit4] \tat java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)\n   [junit4] \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)\n   [junit4] \tat java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)\n   [junit4] \tat java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)\n   [junit4] \tat java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)\n   [junit4] \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)\n   [junit4] \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n   [junit4] \tat java.lang.Thread.run(Thread.java:748)\n   [junit4] \n   [junit4] \"Timer for 'NameNode' metrics system\" #8102 daemon prio=5 os_prio=0 tid=0xc7a52000 nid=0x67a4 in Object.wait() [0xc9b3f000]\n   [junit4]    java.lang.Thread.State: TIMED_WAITING (on object monitor)\n   [junit4] \tat java.lang.Object.wait(Native Method)\n   [junit4] \tat java.util.TimerThread.mainLoop(Timer.java:552)\n   [junit4] \t- locked <0xd7b3fa38> (a java.util.TaskQueue)\n   [junit4] \tat java.util.TimerThread.run(Timer.java:505)\n   [junit4] \n   [junit4] \"SUITE-HdfsDirectoryFactoryTest-seed#[61471115528599BC]\" #8093 prio=10 os_prio=0 tid=0xcaec4400 nid=0x679d waiting for monitor entry [0xcc159000]\n   [junit4]    java.lang.Thread.State: BLOCKED (on object monitor)\n   [junit4] \tat java.lang.Thread.join(Thread.java:1243)\n   [junit4] \t- waiting to lock <0xd7b3ed98> (a org.apache.hadoop.ipc.Server$Listener$Reader)\n   [junit4] \tat com.carrotsearch.randomizedtesting.ThreadLeakControl.tryToInterruptAll(ThreadLeakControl.java:776)\n   [junit4] \tat com.carrotsearch.randomizedtesting.ThreadLeakControl.checkThreadLeaks(ThreadLeakControl.java:626)\n   [junit4] \tat com.carrotsearch.randomizedtesting.ThreadLeakControl$2.evaluate(ThreadLeakControl.java:439)\n   [junit4] \tat com.carrotsearch.randomizedtesting.RandomizedRunner.runSuite(RandomizedRunner.java:678)\n   [junit4] \tat com.carrotsearch.randomizedtesting.RandomizedRunner.access$200(RandomizedRunner.java:140)\n   [junit4] \tat com.carrotsearch.randomizedtesting.RandomizedRunner$2.run(RandomizedRunner.java:598)\n   [junit4] \n   [junit4] \"TimeLimitedCollector timer thread\" #2531 daemon prio=5 os_prio=0 tid=0xf2cd9800 nid=0x3d98 waiting on condition [0xc96d1000]\n   [junit4]    java.lang.Thread.State: TIMED_WAITING (sleeping)\n   [junit4] \tat java.lang.Thread.sleep(Native Method)\n   [junit4] \tat org.apache.lucene.search.TimeLimitingCollector$TimerThread.run(TimeLimitingCollector.java:261)\n   [junit4] \n   [junit4] \"JUnit4-serializer-daemon\" #8 daemon prio=5 os_prio=0 tid=0xd027cc00 nid=0x2266 waiting on condition [0xd147b000]\n   [junit4]    java.lang.Thread.State: TIMED_WAITING (sleeping)\n   [junit4] \tat java.lang.Thread.sleep(Native Method)\n   [junit4] \tat com.carrotsearch.ant.tasks.junit4.events.Serializer$1.run(Serializer.java:50)\n   [junit4] \n   [junit4] \"Service Thread\" #7 daemon prio=9 os_prio=0 tid=0xd0a2a400 nid=0x2261 runnable [0x00000000]\n   [junit4]    java.lang.Thread.State: RUNNABLE\n   [junit4] \n   [junit4] \"C1 CompilerThread0\" #6 daemon prio=9 os_prio=0 tid=0xd0a26c00 nid=0x225f waiting on condition [0x00000000]\n   [junit4]    java.lang.Thread.State: RUNNABLE\n   [junit4] \n   [junit4] \"Signal Dispatcher\" #5 daemon prio=9 os_prio=0 tid=0xd0a25400 nid=0x225e waiting on condition [0x00000000]\n   [junit4]    java.lang.Thread.State: RUNNABLE\n   [junit4] \n   [junit4] \"Surrogate Locker Thre\n   [junit4] ad (Concurrent GC)\" #4 daemon prio=9 os_prio=0 tid=0xd0a23c00 nid=0x225d waiting on condition [0x00000000]\n   [junit4]    java.lang.Thread.State: RUNNABLE\n   [junit4] \n   [junit4] \"Finalizer\" #3 daemon prio=8 os_prio=0 tid=0xd13d9400 nid=0x2254 in Object.wait() [0xf3b7d000]\n   [junit4]    java.lang.Thread.State: WAITING (on object monitor)\n   [junit4] \tat java.lang.Object.wait(Native Method)\n   [junit4] \tat java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:143)\n   [junit4] \t- locked <0xd301c770> (a java.lang.ref.ReferenceQueue$Lock)\n   [junit4] \tat java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:164)\n   [junit4] \tat java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:209)\n   [junit4] \n   [junit4] \"Reference Handler\" #2 daemon prio=10 os_prio=0 tid=0xd13d6800 nid=0x2253 in Object.wait() [0xf3d7d000]\n   [junit4]    java.lang.Thread.State: WAITING (on object monitor)\n   [junit4] \tat java.lang.Object.wait(Native Method)\n   [junit4] \tat java.lang.Object.wait(Object.java:502)\n   [junit4] \tat java.lang.ref.Reference.tryHandlePending(Reference.java:191)\n   [junit4] \t- locked <0xd301c910> (a java.lang.ref.Reference$Lock)\n   [junit4] \tat java.lang.ref.Reference$ReferenceHandler.run(Reference.java:153)\n   [junit4] \n   [junit4] \"main\" #1 prio=5 os_prio=0 tid=0xf6912c00 nid=0x2214 in Object.wait() [0xf6a65000]\n   [junit4]    java.lang.Thread.State: WAITING (on object monitor)\n   [junit4] \tat java.lang.Object.wait(Native Method)\n   [junit4] \tat java.lang.Thread.join(Thread.java:1252)\n   [junit4] \t- locked <0xd7b3fa78> (a com.carrotsearch.randomizedtesting.RandomizedRunner$2)\n   [junit4] \tat java.lang.Thread.join(Thread.java:1326)\n   [junit4] \tat com.carrotsearch.randomizedtesting.RandomizedRunner.runSuite(RandomizedRunner.java:608)\n   [junit4] \tat com.carrotsearch.randomizedtesting.RandomizedRunner.run(RandomizedRunner.java:457)\n   [junit4] \tat com.carrotsearch.ant.tasks.junit4.slave.SlaveMain.execute(SlaveMain.java:244)\n   [junit4] \tat com.carrotsearch.ant.tasks.junit4.slave.SlaveMain.main(SlaveMain.java:355)\n   [junit4] \tat com.carrotsearch.ant.tasks.junit4.slave.SlaveMainSafe.main(SlaveMainSafe.java:13)\n   [junit4] \n   [junit4] \"VM Thread\" os_prio=0 tid=0xd13d1c00 nid=0x2252 runnable \n   [junit4] \n   [junit4] \"Gang worker#0 (Parallel GC Threads)\" os_prio=0 tid=0xf691d800 nid=0x2229 runnable \n   [junit4] \n   [junit4] \"Gang worker#1 (Parallel GC Threads)\" os_prio=0 tid=0xf691ec00 nid=0x222c runnable \n   [junit4] \n   [junit4] \"Gang worker#2 \n   [junit4] (Parallel GC Threads)\" os_prio=0 tid=0xf6920000 nid=0x222f runnable \n   [junit4] \n   [junit4] \"Gang worker#3 (Parallel GC Threads)\" os_prio=0 tid=0xf6921400 nid=0x2232 runnable \n   [junit4] \n   [junit4] \"Gang worker#4 (Parallel GC Threads)\" os_prio=0 tid=0xf6922c00 nid=0x2235 runnable \n   [junit4] \n   [junit4] \"Gang worker#5 (Parallel GC Threads)\" os_prio=0 tid=0xf6924000 nid=0x2238 runnable \n   [junit4] \n   [junit4] \"Gang worker#6 (Parallel GC Threads)\" os_prio=0 tid=0xf6925400 nid=0x223b runnable \n   [junit4] \n   [junit4] \"Gang worker#7 (Parallel GC Threads)\" os_prio=0 tid=0xf6926800 nid=0x223f runnable \n   [junit4] \n   [junit4] \"G1 Main Concurrent Mark GC Thread\" os_prio=0 tid=0xf69bb800 nid=0x2249 runnable \n   [junit4] \n   [junit4] \"Gang worker#0 (G1 Parallel Marking Threads)\" os_prio=0 tid=0xf69bcc00 nid=0x224b runnable \n   [junit4] \n   [junit4] \"Gang worker#1 (G1 Parallel Marking Threads)\" os_prio=0 tid=0xf69be000 nid=0x224d runnable \n   [junit4] \n   [junit4] \"G1 Concurrent Refinement Thread#0\" os_prio=0 tid=0xf69b2c00 nid=0x2248 runnable \n   [junit4] \n   [junit4] \"G1 Concurrent Refinement Thread#1\" os_prio=0 tid=0xf69b1800 nid=0x2247 runnable \n   [junit4] \n   [junit4] \"G1 Concurrent Refinement Thread#2\" os_prio=0 tid=0xf69b0400 nid=0x2246 runnable \n   [junit4] \n   [junit4] \"G1 Concurrent Refinement Thread#3\" os_prio=0 tid=0xf69af000 nid=0x2245 runnable \n   [junit4] \n   [junit4] \"G1 Concurrent Refinement Thread#4\" os_prio=0 tid=0xf69ad800 nid=0x2244 runnable \n   [junit4] \n   [junit4] \"G1 Concurrent Refinement Thread#5\" os_prio=0 tid=0xf69ac400 nid=0x2243 runnable \n   [junit4] \n   [junit4] \"G1 Concurrent Refinement Thread#6\" os_prio=0 tid=0xf69ab000 nid=0x2242 runnable \n   [junit4] \n   [junit4] \"G1 Concurrent Refinement Thread#7\" os_prio=0 tid=0xf69a9c00 nid=0x2241 runnable \n   [junit4] \n   [junit4] \"G1 Concurrent Refinement Thread#8\" os_prio=0 tid=0xf69a8800 nid=0x2240 runnable \n   [junit4] \n   [junit4] \"VM Periodic Task Thread\" os_prio=0 tid=0xd0a2cc00 nid=0x2263 waiting on condition \n   [junit4] \n   [junit4] JNI global references: 2899\n   [junit4] \n   [junit4] Heap\n   [junit4]  garbage-first heap   total 524288K, used 109160K [0xd2a00000, 0xd2b00800, 0xf2a00000)\n   [junit4]   region size 1024K, 2 young (2048K), 1 survivors (1024K)\n   [junit4]  Metaspace       used 50948K, capacity 52555K, committed 52608K, reserved 53552K\n   [junit4] \n   [junit4] <<< JVM J1: EOF ----\n\n\n\nI'd like to fix this - as we now have a problem:\n\n\tWe'd like to start Lucene/Solr 7.0 release\n\tJava 9 release candidate is there\n\tHadoop breaks in one of its most basic classes (Shell)\n\tUpdating Hadoop to 2.8.1 makes tests run, but hang in some deadlock while trying to interrupt them\n\tA bugfix release for Hadopp 2.7.x might take long time\n\n\n\nMark Miller: Do you have any idea what can cause above hangs on stack traces?\n\nI created a branch on my Github: https://github.com/apache/lucene-solr/compare/master...uschindler:jira/SOLR-10951\nI also setup a Policeman Jenkins: https://jenkins.thetaphi.de/job/Lucene-Solr-Hadoop-Update/\n(I triggered stack traces when it hung, but all look like the one above). The code hangs on Java 8 and Java 9. ",
            "author": "Uwe Schindler",
            "id": "comment-16062375"
        },
        {
            "date": "2017-06-26T08:21:07+0000",
            "content": "Here is my latest patch with all dependencies updated, It still fails to shutdown HDFS test cluster in tests, so causes hanging tearDown of tests. ",
            "author": "Uwe Schindler",
            "id": "comment-16062676"
        },
        {
            "date": "2017-06-28T14:47:32+0000",
            "content": "As this issue seems to take longer to solve (and is not easy to solve in Lucene/Solr 6.x), I have a hack available that makes Hadoop integration work with Solr 6 and 7 using the current Hadoop libraries: SOLR-10966\n\nOnce this issue is solved, we should revert the hack - of course! ",
            "author": "Uwe Schindler",
            "id": "comment-16066613"
        },
        {
            "date": "2017-06-28T15:37:45+0000",
            "content": "Commit cdc2cc5afa669dd8c97907eff8f9efe6d89ca74b in lucene-solr's branch refs/heads/master from Uwe Schindler\n[ https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=cdc2cc5 ]\n\nRevert \"SOLR-10951: Hadoop does not work on Java 9, disable tests that break\"\n\nThis reverts commit e43253312f965ba838d80c2000dee761df1f25f5. ",
            "author": "ASF subversion and git services",
            "id": "comment-16066719"
        },
        {
            "date": "2017-06-28T15:43:02+0000",
            "content": "Commit 5998ebb25056fdf134a591f1230c8bff15b55f0a in lucene-solr's branch refs/heads/branch_6x from Uwe Schindler\n[ https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=5998ebb ]\n\nRevert \"SOLR-10951: Hadoop does not work on Java 9, disable tests that break\"\n\nThis reverts commit e43253312f965ba838d80c2000dee761df1f25f5. ",
            "author": "ASF subversion and git services",
            "id": "comment-16066732"
        },
        {
            "date": "2017-06-28T15:51:47+0000",
            "content": "Sorry for the commit/revert traffic. I used the wrong commit message (wrong issue number). ",
            "author": "Uwe Schindler",
            "id": "comment-16066756"
        },
        {
            "date": "2017-08-20T11:11:04+0000",
            "content": "Hadoop 2.7.4 was released. We should go to this version first. ",
            "author": "Uwe Schindler",
            "id": "comment-16134380"
        }
    ]
}