{
    "id": "SOLR-2732",
    "title": "solr tests hang indefinitely",
    "details": {
        "affect_versions": "None",
        "status": "Closed",
        "fix_versions": [],
        "components": [],
        "type": "Bug",
        "priority": "Major",
        "labels": "",
        "resolution": "Works for Me"
    },
    "description": "Charlie cron has been hung for hours... thread dump attached.",
    "attachments": {},
    "issue_links": {},
    "comments": [
        {
            "author": "Robert Muir",
            "id": "comment-13091089",
            "date": "2011-08-25T16:01:43+0000",
            "content": "\n    [junit] ===== FULL THREAD DUMP ===============\n    [junit] Thu Aug 25 11:59:02 2011\n    [junit] Oracle JRockit(R) R28.1.0-123-138454-1.6.0_20-20101014-1350-linux-ia32\n    [junit] \n    [junit] \"Main Thread\" id=1 idx=0x4 tid=3097 prio=5 alive, waiting, native_blocked\n    [junit]     -- Waiting for notification on: org/apache/solr/BaseDistributedSearchTestCase$5@0x97348400[fat lock]\n    [junit]     at jrockit/vm/Threads.waitForNotifySignal(JLjava/lang/Object;)Z(Native Method)\n    [junit]     at java/lang/Object.wait(J)V(Native Method)\n    [junit]     at java/lang/Thread.join(Thread.java:1143)\n    [junit]     ^-- Lock released while waiting: org/apache/solr/BaseDistributedSearchTestCase$5@0x97348400[fat lock]\n    [junit]     at java/lang/Thread.join(Thread.java:1196)\n    [junit]     at org/apache/solr/BaseDistributedSearchTestCase.query(BaseDistributedSearchTestCase.java:364)\n    [junit]     at org/apache/solr/handler/component/DistributedSpellCheckComponentTest.doTest(DistributedSpellCheckComponentTest.java:110)\n    [junit]     at org/apache/solr/BaseDistributedSearchTestCase.testDistribSearch(BaseDistributedSearchTestCase.java:599)\n    [junit]     at jrockit/vm/RNI.c2java(IIIII)V(Native Method)\n    [junit]     at jrockit/vm/Reflect.invokeMethod(Ljava/lang/Object;Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;(Native Method)\n    [junit]     at sun/reflect/NativeMethodAccessorImpl.invoke0(Ljava/lang/reflect/Method;Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;(Native Method)\n    [junit]     at sun/reflect/NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    [junit]     at sun/reflect/DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    [junit]     at java/lang/reflect/Method.invoke(Method.java:597)\n    [junit]     at org/junit/runners/model/FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)\n    [junit]     at org/junit/internal/runners/model/ReflectiveCallable.run(ReflectiveCallable.java:15)\n    [junit]     at org/junit/runners/model/FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)\n    [junit]     at org/junit/internal/runners/statements/InvokeMethod.evaluate(InvokeMethod.java:20)\n    [junit]     at org/junit/rules/TestWatchman$1.evaluate(TestWatchman.java:48)\n    [junit]     at org/junit/internal/runners/statements/RunBefores.evaluate(RunBefores.java:28)\n    [junit]     at org/junit/internal/runners/statements/RunAfters.evaluate(RunAfters.java:31)\n    [junit]     at org/junit/runners/BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:76)\n    [junit]     at org/apache/lucene/util/LuceneTestCase$LuceneTestCaseRunner.runChild(LuceneTestCase.java:1530)\n    [junit]     at org/apache/lucene/util/LuceneTestCase$LuceneTestCaseRunner.runChild(LuceneTestCase.java:1432)\n    [junit]     at org/junit/runners/ParentRunner$3.run(ParentRunner.java:193)\n    [junit]     at org/junit/runners/ParentRunner$1.schedule(ParentRunner.java:52)\n    [junit]     at org/junit/runners/ParentRunner.runChildren(ParentRunner.java:191)\n    [junit]     at org/junit/runners/ParentRunner.access$000(ParentRunner.java:42)\n    [junit]     at org/junit/runners/ParentRunner$2.evaluate(ParentRunner.java:184)\n    [junit]     at org/junit/internal/runners/statements/RunBefores.evaluate(RunBefores.java:28)\n    [junit]     at org/junit/internal/runners/statements/RunAfters.evaluate(RunAfters.java:31)\n    [junit]     at org/junit/runners/ParentRunner.run(ParentRunner.java:236)\n    [junit]     at junit/framework/JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)\n    [junit]     at org/apache/tools/ant/taskdefs/optional/junit/JUnitTestRunner.run(JUnitTestRunner.java:420)\n    [junit]     at org/apache/tools/ant/taskdefs/optional/junit/JUnitTestRunner.launch(JUnitTestRunner.java:911)\n    [junit]     at org/apache/tools/ant/taskdefs/optional/junit/JUnitTestRunner.main(JUnitTestRunner.java:743)\n    [junit]     at jrockit/vm/RNI.c2java(IIIII)V(Native Method)\n    [junit]     -- end of trace\n    [junit] \n    [junit] \"(Signal Handler)\" id=2 idx=0x8 tid=3098 prio=5 alive, daemon\n    [junit] \n    [junit] \"(OC Main Thread)\" id=3 idx=0xc tid=3099 prio=5 alive, native_waiting, daemon\n    [junit] \n    [junit] \"(Code Generation Thread 1)\" id=4 idx=0x10 tid=3100 prio=5 alive, native_waiting, daemon\n    [junit] \n    [junit] \"(Code Optimization Thread 1)\" id=5 idx=0x14 tid=3101 prio=5 alive, native_waiting, daemon\n    [junit] \n    [junit] \"(VM Periodic Task)\" id=6 idx=0x18 tid=3102 prio=10 alive, native_blocked, daemon\n    [junit] \n    [junit] \"Finalizer\" id=7 idx=0x1c tid=3103 prio=8 alive, native_waiting, daemon\n    [junit]     at jrockit/memory/Finalizer.waitForFinalizees(J[Ljava/lang/Object;)I(Native Method)\n    [junit]     at jrockit/memory/Finalizer.access$700(Finalizer.java:12)\n    [junit]     at jrockit/memory/Finalizer$4.run(Finalizer.java:189)\n    [junit]     at java/lang/Thread.run(Thread.java:619)\n    [junit]     at jrockit/vm/RNI.c2java(IIIII)V(Native Method)\n    [junit]     -- end of trace\n    [junit] \n    [junit] \"Reference Handler\" id=8 idx=0x20 tid=3104 prio=10 alive, native_waiting, daemon\n    [junit]     at java/lang/ref/Reference.waitForActivatedQueue(J)Ljava/lang/ref/Reference;(Native Method)\n    [junit]     at java/lang/ref/Reference.access$100(Reference.java:11)\n    [junit]     at java/lang/ref/Reference$ReferenceHandler.run(Reference.java:82)\n    [junit]     at jrockit/vm/RNI.c2java(IIIII)V(Native Method)\n    [junit]     -- end of trace\n    [junit] \n    [junit] \"(Sensor Event Thread)\" id=9 idx=0x24 tid=3105 prio=5 alive, native_blocked, daemon\n    [junit] \n    [junit] \"VM JFR Buffer Thread\" id=10 idx=0x28 tid=3106 prio=5 alive, in native, daemon\n    [junit] \n    [junit] \"MultiThreadedHttpConnectionManager cleanup\" id=20 idx=0x48 tid=3126 prio=5 alive, waiting, native_blocked, daemon\n    [junit]     -- Waiting for notification on: java/lang/ref/ReferenceQueue$Lock@0x960765b8[fat lock]\n    [junit]     at jrockit/vm/Threads.waitForNotifySignal(JLjava/lang/Object;)Z(Native Method)\n    [junit]     at java/lang/Object.wait(J)V(Native Method)\n    [junit]     at java/lang/ref/ReferenceQueue.remove(ReferenceQueue.java:118)\n    [junit]     ^-- Lock released while waiting: java/lang/ref/ReferenceQueue$Lock@0x960765b8[fat lock]\n    [junit]     at java/lang/ref/ReferenceQueue.remove(ReferenceQueue.java:134)\n    [junit]     at org/apache/commons/httpclient/MultiThreadedHttpConnectionManager$ReferenceQueueThread.run(MultiThreadedHttpConnectionManager.java:1122)\n    [junit]     at jrockit/vm/RNI.c2java(IIIII)V(Native Method)\n    [junit]     -- end of trace\n    [junit] \n    [junit] \"317857319@qtp-317936807-0\" id=27 idx=0x64 tid=3148 prio=5 alive, waiting, native_blocked\n    [junit]     -- Waiting for notification on: org/mortbay/thread/QueuedThreadPool$PoolThread@0x99a25638[fat lock]\n    [junit]     at jrockit/vm/Threads.waitForNotifySignal(JLjava/lang/Object;)Z(Native Method)\n    [junit]     at java/lang/Object.wait(J)V(Native Method)\n    [junit]     at org/mortbay/thread/QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:626)\n    [junit]     ^-- Lock released while waiting: org/mortbay/thread/QueuedThreadPool$PoolThread@0x99a25638[fat lock]\n    [junit]     at jrockit/vm/RNI.c2java(IIIII)V(Native Method)\n    [junit]     -- end of trace\n    [junit] \n    [junit] \"317857442@qtp-317936807-1 - Acceptor0 SocketConnector@0.0.0.0:51938\" id=28 idx=0x68 tid=3149 prio=5 alive, in native\n    [junit]     at java/net/PlainSocketImpl.socketAccept(Ljava/net/SocketImpl;)V(Native Method)\n    [junit]     at java/net/PlainSocketImpl.accept(PlainSocketImpl.java:390)\n    [junit]     ^-- Holding lock: java/net/SocksSocketImpl@0x99a25778[biased lock]\n    [junit]     at java/net/ServerSocket.implAccept(ServerSocket.java:453)\n    [junit]     at java/net/ServerSocket.accept(ServerSocket.java:421)\n    [junit]     at org/mortbay/jetty/bio/SocketConnector.accept(SocketConnector.java:99)\n    [junit]     at org/mortbay/jetty/AbstractConnector$Acceptor.run(AbstractConnector.java:708)\n    [junit]     at org/mortbay/thread/QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)\n    [junit]     at jrockit/vm/RNI.c2java(IIIII)V(Native Method)\n    [junit]     -- end of trace\n    [junit] \n    [junit] \"Timer-1\" id=29 idx=0x6c tid=3150 prio=5 alive, waiting, native_blocked, daemon\n    [junit]     -- Waiting for notification on: java/util/TaskQueue@0x99a25820[fat lock]\n    [junit]     at jrockit/vm/Threads.waitForNotifySignal(JLjava/lang/Object;)Z(Native Method)\n    [junit]     at java/lang/Object.wait(J)V(Native Method)\n    [junit]     at java/util/TimerThread.mainLoop(Timer.java:509)\n    [junit]     ^-- Lock released while waiting: java/util/TaskQueue@0x99a25820[fat lock]\n    [junit]     at java/util/TimerThread.run(Timer.java:462)\n    [junit]     at jrockit/vm/RNI.c2java(IIIII)V(Native Method)\n    [junit]     -- end of trace\n    [junit] \n    [junit] \"pool-60-thread-1\" id=30 idx=0x70 tid=3151 prio=5 alive, parked, native_blocked\n    [junit]     -- Parking to wait for: java/util/concurrent/locks/AbstractQueuedSynchronizer$ConditionObject@0x9a882ff0\n    [junit]     at jrockit/vm/Locks.park0(J)V(Native Method)\n    [junit]     at jrockit/vm/Locks.park(Locks.java:2230)\n    [junit]     at sun/misc/Unsafe.park(ZJ)V(Native Method)\n    [junit]     at java/util/concurrent/locks/LockSupport.park(LockSupport.java:158)\n    [junit]     at java/util/concurrent/locks/AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1925)\n    [junit]     at java/util/concurrent/LinkedBlockingQueue.take(LinkedBlockingQueue.java:399)\n    [junit]     at java/util/concurrent/ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:947)\n    [junit]     at java/util/concurrent/ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:907)\n    [junit]     at java/lang/Thread.run(Thread.java:619)\n    [junit]     at jrockit/vm/RNI.c2java(IIIII)V(Native Method)\n    [junit]     -- end of trace\n    [junit] \n    [junit] \"315544743@qtp-315544407-1 - Acceptor0 SocketConnector@0.0.0.0:59727\" id=32 idx=0x78 tid=3153 prio=5 alive, in native\n    [junit]     at java/net/PlainSocketImpl.socketAccept(Ljava/net/SocketImpl;)V(Native Method)\n    [junit]     at java/net/PlainSocketImpl.accept(PlainSocketImpl.java:390)\n    [junit]     ^-- Holding lock: java/net/SocksSocketImpl@0x9a882478[biased lock]\n    [junit]     at java/net/ServerSocket.implAccept(ServerSocket.java:453)\n    [junit]     at java/net/ServerSocket.accept(ServerSocket.java:421)\n    [junit]     at org/mortbay/jetty/bio/SocketConnector.accept(SocketConnector.java:99)\n    [junit]     at org/mortbay/jetty/AbstractConnector$Acceptor.run(AbstractConnector.java:708)\n    [junit]     at org/mortbay/thread/QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)\n    [junit]     at jrockit/vm/RNI.c2java(IIIII)V(Native Method)\n    [junit]     -- end of trace\n    [junit] \n    [junit] \"Timer-2\" id=33 idx=0x7c tid=3154 prio=5 alive, waiting, native_blocked, daemon\n    [junit]     -- Waiting for notification on: java/util/TaskQueue@0x9a882520[fat lock]\n    [junit]     at jrockit/vm/Threads.waitForNotifySignal(JLjava/lang/Object;)Z(Native Method)\n    [junit]     at java/lang/Object.wait(J)V(Native Method)\n    [junit]     at java/util/TimerThread.mainLoop(Timer.java:509)\n    [junit]     ^-- Lock released while waiting: java/util/TaskQueue@0x9a882520[fat lock]\n    [junit]     at java/util/TimerThread.run(Timer.java:462)\n    [junit]     at jrockit/vm/RNI.c2java(IIIII)V(Native Method)\n    [junit]     -- end of trace\n    [junit] \n    [junit] \"pool-71-thread-1\" id=34 idx=0x80 tid=3158 prio=5 alive, parked, native_blocked\n    [junit]     -- Parking to wait for: java/util/concurrent/locks/AbstractQueuedSynchronizer$ConditionObject@0x9a5d0058\n    [junit]     at jrockit/vm/Locks.park0(J)V(Native Method)\n    [junit]     at jrockit/vm/Locks.park(Locks.java:2230)\n    [junit]     at sun/misc/Unsafe.park(ZJ)V(Native Method)\n    [junit]     at java/util/concurrent/locks/LockSupport.park(LockSupport.java:158)\n    [junit]     at java/util/concurrent/locks/AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1925)\n    [junit]     at java/util/concurrent/LinkedBlockingQueue.take(LinkedBlockingQueue.java:399)\n    [junit]     at java/util/concurrent/ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:947)\n    [junit]     at java/util/concurrent/ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:907)\n    [junit]     at java/lang/Thread.run(Thread.java:619)\n    [junit]     at jrockit/vm/RNI.c2java(IIIII)V(Native Method)\n    [junit]     -- end of trace\n    [junit] \n    [junit] \"315909671@qtp-315544407-4\" id=41 idx=0x9c tid=3169 prio=5 alive, parked, native_blocked\n    [junit]     -- Parking to wait for: java/util/concurrent/locks/AbstractQueuedSynchronizer$ConditionObject@0x970ba5e0\n    [junit]     at jrockit/vm/Locks.park0(J)V(Native Method)\n    [junit]     at jrockit/vm/Locks.park(Locks.java:2230)\n    [junit]     at sun/misc/Unsafe.park(ZJ)V(Native Method)\n    [junit]     at java/util/concurrent/locks/LockSupport.park(LockSupport.java:158)\n    [junit]     at java/util/concurrent/locks/AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1925)\n    [junit]     at java/util/concurrent/LinkedBlockingQueue.take(LinkedBlockingQueue.java:399)\n    [junit]     at java/util/concurrent/ExecutorCompletionService.take(ExecutorCompletionService.java:164)\n    [junit]     at org/apache/solr/handler/component/HttpShardHandler.takeCompletedOrError(HttpShardHandler.java:202)\n    [junit]     at org/apache/solr/handler/component/SearchHandler.handleRequestBody(SearchHandler.java:274)\n    [junit]     at org/apache/solr/handler/RequestHandlerBase.handleRequest(RequestHandlerBase.java:129)\n    [junit]     at org/apache/solr/core/SolrCore.execute(SolrCore.java:1406)\n    [junit]     at org/apache/solr/servlet/SolrDispatchFilter.execute(SolrDispatchFilter.java:353)\n    [junit]     at org/apache/solr/servlet/SolrDispatchFilter.doFilter(SolrDispatchFilter.java:248)\n    [junit]     at org/mortbay/jetty/servlet/ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)\n    [junit]     at org/mortbay/jetty/servlet/ServletHandler.handle(ServletHandler.java:399)\n    [junit]     at org/mortbay/jetty/servlet/SessionHandler.handle(SessionHandler.java:182)\n    [junit]     at org/mortbay/jetty/handler/ContextHandler.handle(ContextHandler.java:766)\n    [junit]     at org/mortbay/jetty/handler/HandlerWrapper.handle(HandlerWrapper.java:152)\n    [junit]     at org/mortbay/jetty/Server.handle(Server.java:326)\n    [junit]     at org/mortbay/jetty/HttpConnection.handleRequest(HttpConnection.java:542)\n    [junit]     at org/mortbay/jetty/HttpConnection$RequestHandler.headerComplete(HttpConnection.java:928)\n    [junit]     at org/mortbay/jetty/HttpParser.parseNext(HttpParser.java:549)\n    [junit]     at org/mortbay/jetty/HttpParser.parseAvailable(HttpParser.java:212)\n    [junit]     at org/mortbay/jetty/HttpConnection.handle(HttpConnection.java:404)\n    [junit]     at org/mortbay/jetty/bio/SocketConnector$Connection.run(SocketConnector.java:228)\n    [junit]     at org/mortbay/thread/QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)\n    [junit]     at jrockit/vm/RNI.c2java(IIIII)V(Native Method)\n    [junit]     -- end of trace\n    [junit] \n    [junit] \"pool-79-thread-2\" id=42 idx=0xa0 tid=3170 prio=5 alive, in native\n    [junit]     at jrockit/net/SocketNativeIO.readBytesPinned(Ljava/io/FileDescriptor;[BIII)I(Native Method)\n    [junit]     at jrockit/net/SocketNativeIO.socketRead(SocketNativeIO.java:32)\n    [junit]     at java/net/SocketInputStream.socketRead0(Ljava/io/FileDescriptor;[BIII)I(SocketInputStream.java)\n    [junit]     at java/net/SocketInputStream.read(SocketInputStream.java:129)\n    [junit]     at java/io/BufferedInputStream.fill(BufferedInputStream.java:218)\n    [junit]     at java/io/BufferedInputStream.read(BufferedInputStream.java:237)\n    [junit]     ^-- Holding lock: java/io/BufferedInputStream@0x970ce508[biased lock]\n    [junit]     at org/apache/commons/httpclient/HttpParser.readRawLine(HttpParser.java:78)\n    [junit]     at org/apache/commons/httpclient/HttpParser.readLine(HttpParser.java:106)\n    [junit]     at org/apache/commons/httpclient/HttpConnection.readLine(HttpConnection.java:1116)\n    [junit]     at org/apache/commons/httpclient/MultiThreadedHttpConnectionManager$HttpConnectionAdapter.readLine(MultiThreadedHttpConnectionManager.java:1413)\n    [junit]     at org/apache/commons/httpclient/HttpMethodBase.readStatusLine(HttpMethodBase.java:1973)\n    [junit]     at org/apache/commons/httpclient/HttpMethodBase.readResponse(HttpMethodBase.java:1735)\n    [junit]     at org/apache/commons/httpclient/HttpMethodBase.execute(HttpMethodBase.java:1098)\n    [junit]     at org/apache/commons/httpclient/HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:398)\n    [junit]     at org/apache/commons/httpclient/HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)\n    [junit]     at org/apache/commons/httpclient/HttpClient.executeMethod(HttpClient.java:397)\n    [junit]     at org/apache/commons/httpclient/HttpClient.executeMethod(HttpClient.java:323)\n    [junit]     at org/apache/solr/client/solrj/impl/CommonsHttpSolrServer.request(CommonsHttpSolrServer.java:426)\n    [junit]     at org/apache/solr/client/solrj/impl/CommonsHttpSolrServer.request(CommonsHttpSolrServer.java:244)\n    [junit]     at org/apache/solr/client/solrj/impl/LBHttpSolrServer.request(LBHttpSolrServer.java:249)\n    [junit]     at org/apache/solr/handler/component/HttpShardHandler$1.call(HttpShardHandler.java:151)\n    [junit]     at org/apache/solr/handler/component/HttpShardHandler$1.call(HttpShardHandler.java:116)\n    [junit]     at java/util/concurrent/FutureTask$Sync.innerRun(FutureTask.java:303)\n    [junit]     at java/util/concurrent/FutureTask.run(FutureTask.java:138)\n    [junit]     at java/util/concurrent/Executors$RunnableAdapter.call(Executors.java:441)\n    [junit]     at java/util/concurrent/FutureTask$Sync.innerRun(FutureTask.java:303)\n    [junit]     at java/util/concurrent/FutureTask.run(FutureTask.java:138)\n    [junit]     at java/util/concurrent/ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n    [junit]     at java/util/concurrent/ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n    [junit]     at java/lang/Thread.run(Thread.java:619)\n    [junit]     at jrockit/vm/RNI.c2java(IIIII)V(Native Method)\n    [junit]     -- end of trace\n    [junit] \n    [junit] \"Thread-22\" id=47 idx=0xb4 tid=3175 prio=5 alive, in native\n    [junit]     at jrockit/net/SocketNativeIO.readBytesPinned(Ljava/io/FileDescriptor;[BIII)I(Native Method)\n    [junit]     at jrockit/net/SocketNativeIO.socketRead(SocketNativeIO.java:32)\n    [junit]     at java/net/SocketInputStream.socketRead0(Ljava/io/FileDescriptor;[BIII)I(SocketInputStream.java)\n    [junit]     at java/net/SocketInputStream.read(SocketInputStream.java:129)\n    [junit]     at java/io/BufferedInputStream.fill(BufferedInputStream.java:218)\n    [junit]     at java/io/BufferedInputStream.read(BufferedInputStream.java:237)\n    [junit]     ^-- Holding lock: java/io/BufferedInputStream@0x965a6180[biased lock]\n    [junit]     at org/apache/commons/httpclient/HttpParser.readRawLine(HttpParser.java:78)\n    [junit]     at org/apache/commons/httpclient/HttpParser.readLine(HttpParser.java:106)\n    [junit]     at org/apache/commons/httpclient/HttpConnection.readLine(HttpConnection.java:1116)\n    [junit]     at org/apache/commons/httpclient/MultiThreadedHttpConnectionManager$HttpConnectionAdapter.readLine(MultiThreadedHttpConnectionManager.java:1413)\n    [junit]     at org/apache/commons/httpclient/HttpMethodBase.readStatusLine(HttpMethodBase.java:1973)\n    [junit]     at org/apache/commons/httpclient/HttpMethodBase.readResponse(HttpMethodBase.java:1735)\n    [junit]     at org/apache/commons/httpclient/HttpMethodBase.execute(HttpMethodBase.java:1098)\n    [junit]     at org/apache/commons/httpclient/HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:398)\n    [junit]     at org/apache/commons/httpclient/HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)\n    [junit]     at org/apache/commons/httpclient/HttpClient.executeMethod(HttpClient.java:397)\n    [junit]     at org/apache/commons/httpclient/HttpClient.executeMethod(HttpClient.java:323)\n    [junit]     at org/apache/solr/client/solrj/impl/CommonsHttpSolrServer.request(CommonsHttpSolrServer.java:426)\n    [junit]     at org/apache/solr/client/solrj/impl/CommonsHttpSolrServer.request(CommonsHttpSolrServer.java:244)\n    [junit]     at org/apache/solr/client/solrj/request/QueryRequest.process(QueryRequest.java:89)\n    [junit]     at org/apache/solr/client/solrj/SolrServer.query(SolrServer.java:119)\n    [junit]     at org/apache/solr/BaseDistributedSearchTestCase$5.run(BaseDistributedSearchTestCase.java:350)\n    [junit]     at jrockit/vm/RNI.c2java(IIIII)V(Native Method)\n    [junit]     -- end of trace\n    [junit] \n    [junit] \"pool-82-thread-1\" id=49 idx=0xbc tid=3177 prio=5 alive, parked, native_blocked\n    [junit]     at jrockit/vm/Locks.park0(J)V(Native Method)\n    [junit]     at jrockit/vm/Locks.park(Locks.java:2230)\n    [junit]     at sun/misc/Unsafe.park(ZJ)V(Native Method)\n    [junit]     at java/util/concurrent/locks/LockSupport.parkNanos(LockSupport.java:198)\n    [junit]     at java/util/concurrent/locks/AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1963)\n    [junit]     at java/util/concurrent/DelayQueue.take(DelayQueue.java:164)\n    [junit]     at java/util/concurrent/ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:583)\n    [junit]     at java/util/concurrent/ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:576)\n    [junit]     at java/util/concurrent/ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:947)\n    [junit]     at java/util/concurrent/ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:907)\n    [junit]     at java/lang/Thread.run(Thread.java:619)\n    [junit]     at jrockit/vm/RNI.c2java(IIIII)V(Native Method)\n    [junit]     -- end of trace\n    [junit] \n    [junit] ===== END OF THREAD DUMP ===============\n\n "
        },
        {
            "author": "Robert Muir",
            "id": "comment-13091091",
            "date": "2011-08-25T16:03:49+0000",
            "content": "full build log: http://sierranevada.servebeer.com/1314196681.log "
        },
        {
            "author": "Yonik Seeley",
            "id": "comment-13091099",
            "date": "2011-08-25T16:16:09+0000",
            "content": "I think I just saw this happen a day or two ago on my hacked up local trunk (SOLR-2700) and chalked it up to that somehow.\nI wonder why this has started happening? "
        },
        {
            "author": "Robert Muir",
            "id": "comment-13091102",
            "date": "2011-08-25T16:20:34+0000",
            "content": "is there any more info i can glean from the running process that would be useful? \n\nI don't want to kill the process if it will discard useful debugging information. "
        },
        {
            "author": "Yonik Seeley",
            "id": "comment-13091144",
            "date": "2011-08-25T17:27:03+0000",
            "content": "Looking at the thread dump, I see that solr sent requests to shards and is waiting for responses... but I don't see any sign of those sub-requests (executing or hanging or anything.)  Not sure what's going on. "
        },
        {
            "author": "Jan H\u00f8ydahl",
            "id": "comment-15574958",
            "date": "2016-10-14T10:51:04+0000",
            "content": "Closing old test issue from 2011, I have not seen this with today's test suite "
        }
    ]
}