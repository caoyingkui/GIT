{
    "id": "LUCENE-5376",
    "title": "Add a demo search server",
    "details": {
        "type": "Improvement",
        "priority": "Major",
        "labels": "",
        "resolution": "Won't Fix",
        "components": [],
        "affect_versions": "None",
        "status": "Resolved",
        "fix_versions": []
    },
    "description": "I think it'd be useful to have a \"demo\" search server for Lucene.\n\nRather than being fully featured, like Solr, it would be minimal, just wrapping the existing Lucene modules to show how you can make use of these features in a server setting.\n\nThe purpose is to demonstrate how one can build a minimal search server on top of APIs like SearchManager, SearcherLifetimeManager, etc.\n\nThis is also useful for finding rough edges / issues in Lucene's APIs that make building a server unnecessarily hard.\n\nI don't think it should have back compatibility promises (except Lucene's index back compatibility), so it's free to improve as Lucene's APIs change.\n\nAs a starting point, I'll post what I built for the \"eating your own dog food\" search app for Lucene's & Solr's jira issues http://jirasearch.mikemccandless.com (blog: http://blog.mikemccandless.com/2013/05/eating-dog-food-with-lucene.html ). It uses Netty to expose basic indexing & searching APIs via JSON, but it's very rough (lots nocommits).",
    "attachments": {
        "lucene-demo-server.tgz": "https://issues.apache.org/jira/secure/attachment/12620179/lucene-demo-server.tgz"
    },
    "issue_links": {},
    "comments": [
        {
            "id": "comment-13855586",
            "author": "Michael McCandless",
            "content": "I'm attaching the current sources (tgz archive)... they are standalone now but to add it into Lucene I think we should put it under lucene/demo or lucene/server or something.\n\nIt uses \"custom\" (Python) build scripts, because I became frustrated with ant; after extracting, python3 build.py test should run the tests.\n\nThese are just the sources for the server side of the http://jirasearch.mikemccandless.com app.\n\nThere are many issues to fix, e.g. cut back to ant (there are some old ant build scripts there), use only one JSON parser (it uses two now), but it does support a number of basic indexing/search APIs: add/update document/s, bulk add/update documents, suggest, search/After, block joins, highlighting, live field values, snapshots, basic index statistics (for diagnostics).\n\nIt has limited support for \"plugins\", but I'm tempted to remove that before committing.  The only plugin it has now is Tika, to crack binary documents into text for indexing. ",
            "date": "2013-12-23T12:21:51+0000"
        },
        {
            "id": "comment-13855634",
            "author": "Han Jiang",
            "content": "+1, it will be great to have an 'active' demo to show the features \n\nI think we should remove those hardcoded classpaths, e.g. in post.py:30?\n\nAnd will this demo be expected to be the same as jirasearch? Will we need further configuration to get the demo webside working? For example I cannot find search.py in the sourcecodes. ",
            "date": "2013-12-23T13:31:30+0000"
        },
        {
            "id": "comment-13855664",
            "author": "Michael McCandless",
            "content": "Thanks Han.\n\nI think we should remove those hardcoded classpaths, e.g. in post.py:30?\n\nGood catch, I'll fix that ... that's a minimal example of how to issue commands to the server to create an index and register a few fields, from a Python client.\n\nAnd will this demo be expected to be the same as jirasearch? Will we need further configuration to get the demo webside working? For example I cannot find search.py in the sourcecodes.\n\nThese sources are just for the server side; I didn't include the jirasearch UI/indexing sources.  But I agree it would be useful to have that too, i.e. an example search app/UI that runs against this server.  I'll think about how to fold it in ... ",
            "date": "2013-12-23T14:39:30+0000"
        },
        {
            "id": "comment-13855686",
            "author": "Yonik Seeley",
            "content": "I think there are plenty of lucene-based search servers already in existence... We shouldn't bloat lucene/solr even further by adding yet another.  Something like this belongs as a separate project (collaborate on github with whoever else wants to build/maintain this). ",
            "date": "2013-12-23T15:35:00+0000"
        },
        {
            "id": "comment-13856314",
            "author": "ASF subversion and git services",
            "content": "Commit 1553272 from Robert Muir in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1553272 ]\n\nLUCENE-5376: mike's tgz as-is to branch ",
            "date": "2013-12-24T13:41:30+0000"
        },
        {
            "id": "comment-13856322",
            "author": "ASF subversion and git services",
            "content": "Commit 1553275 from Robert Muir in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1553275 ]\n\nLUCENE-5376: fixup the ant/ivy a bit ",
            "date": "2013-12-24T14:03:45+0000"
        },
        {
            "id": "comment-13856341",
            "author": "ASF subversion and git services",
            "content": "Commit 1553282 from Robert Muir in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1553282 ]\n\nLUCENE-5376: fix compile ",
            "date": "2013-12-24T14:53:49+0000"
        },
        {
            "id": "comment-13856343",
            "author": "ASF subversion and git services",
            "content": "Commit 1553283 from Robert Muir in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1553283 ]\n\nLUCENE-5376: add svn:ignore ",
            "date": "2013-12-24T14:58:35+0000"
        },
        {
            "id": "comment-13856352",
            "author": "ASF subversion and git services",
            "content": "Commit 1553287 from Robert Muir in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1553287 ]\n\nLUCENE-5376: get tests passing ",
            "date": "2013-12-24T15:19:56+0000"
        },
        {
            "id": "comment-13856355",
            "author": "ASF subversion and git services",
            "content": "Commit 1553288 from Robert Muir in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1553288 ]\n\nLUCENE-5376: use consistent dependencies versions, dont download the internet ",
            "date": "2013-12-24T15:25:33+0000"
        },
        {
            "id": "comment-13856358",
            "author": "ASF subversion and git services",
            "content": "Commit 1553289 from Robert Muir in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1553289 ]\n\nLUCENE-5376: clean up some forbidden apis ",
            "date": "2013-12-24T15:36:25+0000"
        },
        {
            "id": "comment-13856362",
            "author": "ASF subversion and git services",
            "content": "Commit 1553291 from Robert Muir in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1553291 ]\n\nLUCENE-5376: get ant javados passing ",
            "date": "2013-12-24T15:45:01+0000"
        },
        {
            "id": "comment-13856366",
            "author": "ASF subversion and git services",
            "content": "Commit 1553294 from Robert Muir in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1553294 ]\n\nLUCENE-5376: fix documentation-lint, rat-sources, remove python build, remove plugin (it can be a separate module?) ",
            "date": "2013-12-24T16:04:20+0000"
        },
        {
            "id": "comment-13856379",
            "author": "ASF subversion and git services",
            "content": "Commit 1553297 from Robert Muir in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1553297 ]\n\nLUCENE-5376: minimize jdocs deps, nuke unused imports ",
            "date": "2013-12-24T16:24:34+0000"
        },
        {
            "id": "comment-13856386",
            "author": "ASF subversion and git services",
            "content": "Commit 1553300 from Robert Muir in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1553300 ]\n\nLUCENE-5376: clean up forbidden system outs / logging ",
            "date": "2013-12-24T16:43:32+0000"
        },
        {
            "id": "comment-13856388",
            "author": "ASF subversion and git services",
            "content": "Commit 1553301 from Robert Muir in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1553301 ]\n\nLUCENE-5376: remove code duplication ",
            "date": "2013-12-24T16:47:14+0000"
        },
        {
            "id": "comment-13856528",
            "author": "Shai Erera",
            "content": "I think we should put it under lucene/demo or lucene/server or something.\n\nI think we should put it under lucene/server. We can have the JIRA search example (or a simpler one) under demo if we really want to, but I think a LuceneServer is a good component by itself. First, we never know what it will turn out into, what APIs will be developed etc. Also, it would be nice to see clean examples of distributed search (simple, facet, spatial) as well as suggest (maybe even distributed suggest). So +1 for adding it as a new module. ",
            "date": "2013-12-25T06:18:04+0000"
        },
        {
            "id": "comment-13856569",
            "author": "Areek Zillur",
            "content": "This is a good idea.  I was thinking of having a suggest demo in the lucene demo package! But this would be a good place to put it. I will look into the suggest stuff after a week or so. ",
            "date": "2013-12-25T11:00:03+0000"
        },
        {
            "id": "comment-13856602",
            "author": "ASF subversion and git services",
            "content": "Commit 1553379 from Michael McCandless in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1553379 ]\n\nLUCENE-5376: try to address nocommit... ",
            "date": "2013-12-25T13:39:02+0000"
        },
        {
            "id": "comment-13856604",
            "author": "ASF subversion and git services",
            "content": "Commit 1553384 from Robert Muir in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1553384 ]\n\nLUCENE-5376: remove crazy use of jackson for pretty-printing. jackson only used in the indexing api now ",
            "date": "2013-12-25T14:06:06+0000"
        },
        {
            "id": "comment-13856607",
            "author": "Robert Muir",
            "content": "I created 'lucene5376' branch (https://svn.apache.org/repos/asf/lucene/dev/branches/lucene5376) with the patch and cleaned up the build and so on.\n\nnotes/questions:\n\n\ti removed the tika plugin (for now). is this ok? we can make it a separate module?\n\twhich json parser to keep? jackson is only used rarely, i assume this is the one to remove? We just have to change the indexing code now to remove those jars.\n\tforbidden-apis was angry about the SOPs. i tried to figure out which ones were intentional and which ones were not. you can see the list of files exempted in build.xml.\n\tjavadocs-lint is working but angry because mostly all javadocs (package.html's, class docs) are missing. this seems to need some help.\n\tTestPlugins is disabled, but i think we can fix it if we build a .zip on-the-fly, pulling in MockPlugin.class and other files  with .getResourceAsStream? Uwe will love this.\n\n ",
            "date": "2013-12-25T14:18:33+0000"
        },
        {
            "id": "comment-13856612",
            "author": "Michael McCandless",
            "content": "i removed the tika plugin (for now). is this ok? we can make it a separate module?\n\nThat's fine ... let's leave it for later?\n\nwhich json parser to keep? jackson is only used rarely, i assume this is the one to remove? We just have to change the indexing code now to remove those jars.\n\nI had to add jackson for streaming / incremental parsing for the bulk APIs ... I think (not sure!) that we should just move to jackson for everything, but I haven't started that yet.  I'll look into it.\n\nforbidden-apis was angry about the SOPs. i tried to figure out which ones were intentional and which ones were not. you can see the list of files exempted in build.xml.\n\nThanks for fixing!\n\njavadocs-lint is working but angry because mostly all javadocs (package.html's, class docs) are missing. this seems to need some help.\n\nI'll work on this.\n\nTestPlugins is disabled, but i think we can fix it if we build a .zip on-the-fly, pulling in MockPlugin.class and other files with .getResourceAsStream? Uwe will love this.\n\nThat sounds great!\n\nThanks Rob. ",
            "date": "2013-12-25T15:00:39+0000"
        },
        {
            "id": "comment-13856622",
            "author": "Robert Muir",
            "content": "\nI had to add jackson for streaming / incremental parsing for the bulk APIs ... I think (not sure!) that we should just move to jackson for everything, but I haven't started that yet. I'll look into it.\n\nOK, I may have sent this in the wrong direction with my latest commit, so just back it out if you want to move to jackson. I assumed the opposite, since jackson was only used in a few places. I will say I do prefer the simpler underengineered api of the json-smart vs the ... no comment... jackson, even if it has less features. Reminds me of HttpURLConnection vs httpclient. ",
            "date": "2013-12-25T17:03:38+0000"
        },
        {
            "id": "comment-13856629",
            "author": "ASF subversion and git services",
            "content": "Commit 1553403 from Robert Muir in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1553403 ]\n\nLUCENE-5376: fix and re-enable test ",
            "date": "2013-12-25T18:05:40+0000"
        },
        {
            "id": "comment-13856867",
            "author": "ASF subversion and git services",
            "content": "Commit 1553477 from Michael McCandless in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1553477 ]\n\nLUCENE-5376: javadocs ",
            "date": "2013-12-26T13:17:01+0000"
        },
        {
            "id": "comment-13856879",
            "author": "ASF subversion and git services",
            "content": "Commit 1553486 from Robert Muir in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1553486 ]\n\nLUCENE-5376: javadocs fixes ",
            "date": "2013-12-26T14:05:10+0000"
        },
        {
            "id": "comment-13856909",
            "author": "ASF subversion and git services",
            "content": "Commit 1553499 from Robert Muir in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1553499 ]\n\nLUCENE-5376: move the hack wtf into one place ",
            "date": "2013-12-26T15:32:27+0000"
        },
        {
            "id": "comment-13856915",
            "author": "ASF subversion and git services",
            "content": "Commit 1553500 from Robert Muir in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1553500 ]\n\nLUCENE-5376: don't create and destroy dirs in the CWD ",
            "date": "2013-12-26T15:53:18+0000"
        },
        {
            "id": "comment-13857481",
            "author": "ASF subversion and git services",
            "content": "Commit 1553670 from Michael McCandless in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1553670 ]\n\nLUCENE-5376: javadocs ",
            "date": "2013-12-27T13:15:20+0000"
        },
        {
            "id": "comment-13858014",
            "author": "ASF subversion and git services",
            "content": "Commit 1553821 from Michael McCandless in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1553821 ]\n\nLUCENE-5376: javadocs ",
            "date": "2013-12-28T12:56:59+0000"
        },
        {
            "id": "comment-13858307",
            "author": "ASF subversion and git services",
            "content": "Commit 1554012 from Michael McCandless in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1554012 ]\n\nLUCENE-5376: documentation-lint finally passes (method level) ",
            "date": "2013-12-29T10:40:42+0000"
        },
        {
            "id": "comment-13858317",
            "author": "ASF subversion and git services",
            "content": "Commit 1554013 from Michael McCandless in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1554013 ]\n\nLUCENE-5376: simplify sync'd code ",
            "date": "2013-12-29T11:10:34+0000"
        },
        {
            "id": "comment-13858327",
            "author": "ASF subversion and git services",
            "content": "Commit 1554020 from Michael McCandless in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1554020 ]\n\nLUCENE-5376: clean up / document addDocument code ",
            "date": "2013-12-29T12:30:43+0000"
        },
        {
            "id": "comment-13858330",
            "author": "ASF subversion and git services",
            "content": "Commit 1554022 from Michael McCandless in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1554022 ]\n\nLUCENE-5376: rename singleValued -> multiValued ",
            "date": "2013-12-29T12:41:53+0000"
        },
        {
            "id": "comment-13858783",
            "author": "ASF subversion and git services",
            "content": "Commit 1554207 from Michael McCandless in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1554207 ]\n\nLUCENE-5376, LUCENE-5251: expose DocumentDictionary (to build suggestor from stored documents) in demo server ",
            "date": "2013-12-30T13:19:29+0000"
        },
        {
            "id": "comment-13859464",
            "author": "ASF subversion and git services",
            "content": "Commit 1554409 from Michael McCandless in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1554409 ]\n\nLUCENE-5294, LUCENE-5376: in Lucene demo server, support building suggester where weight is an expression ",
            "date": "2013-12-31T12:04:54+0000"
        },
        {
            "id": "comment-13862289",
            "author": "ASF subversion and git services",
            "content": "Commit 1555341 from Michael McCandless in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1555341 ]\n\nLUCENE-5376: test sugar: insert the current index name to outgoing requests to make writing tests easier ",
            "date": "2014-01-04T12:31:16+0000"
        },
        {
            "id": "comment-13862656",
            "author": "ASF subversion and git services",
            "content": "Commit 1555629 from Michael McCandless in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1555629 ]\n\nLUCENE-5376: sync trunk changes, cutover to new facets APIs, simplify search handler ",
            "date": "2014-01-05T21:05:31+0000"
        },
        {
            "id": "comment-13862947",
            "author": "ASF subversion and git services",
            "content": "Commit 1555726 from Michael McCandless in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1555726 ]\n\nLUCENE-5376: consolidate logic to pull the searcher from indexGen, version, snapshot or current ",
            "date": "2014-01-06T12:16:10+0000"
        },
        {
            "id": "comment-13863476",
            "author": "ASF subversion and git services",
            "content": "Commit 1556045 from Michael McCandless in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1556045 ]\n\nLUCENE-4795, LUCENE-5376: expose SortedSetDocValuesFacets in lucene server ",
            "date": "2014-01-06T21:55:35+0000"
        },
        {
            "id": "comment-13865352",
            "author": "ASF subversion and git services",
            "content": "Commit 1556508 from Michael McCandless in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1556508 ]\n\nLUCENE-5207, LUCENE-5376: add expressions support to lucene server, so you can define a virtual field from any JS expression and then sort by that field or retrieve its values for all hits ",
            "date": "2014-01-08T12:01:06+0000"
        },
        {
            "id": "comment-13865473",
            "author": "ASF subversion and git services",
            "content": "Commit 1556546 from Michael McCandless in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1556546 ]\n\nLUCENE-5376: turn on scoring when sorting by field if any of the sort fields or retrieved fields require scores, e.g. when they are an expression field that uses _score ",
            "date": "2014-01-08T14:26:36+0000"
        },
        {
            "id": "comment-13865511",
            "author": "ASF subversion and git services",
            "content": "Commit 1556555 from Michael McCandless in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1556555 ]\n\nLUCENE-5376: don't need to make ScoreValueSource public ",
            "date": "2014-01-08T14:52:16+0000"
        },
        {
            "id": "comment-13865579",
            "author": "ASF subversion and git services",
            "content": "Commit 1556564 from Michael McCandless in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1556564 ]\n\nLUCENE-5376: add another expression test case; add nocommit for bcp47 cutover ",
            "date": "2014-01-08T16:04:08+0000"
        },
        {
            "id": "comment-13865810",
            "author": "ASF subversion and git services",
            "content": "Commit 1556620 from Michael McCandless in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1556620 ]\n\nLUCENE-5376: also allow dynamic expression per-request ",
            "date": "2014-01-08T19:57:44+0000"
        },
        {
            "id": "comment-13865861",
            "author": "ASF subversion and git services",
            "content": "Commit 1556627 from Michael McCandless in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1556627 ]\n\nLUCENE-5376: remove recency blending hack: just use expressions instead ",
            "date": "2014-01-08T20:36:08+0000"
        },
        {
            "id": "comment-13866512",
            "author": "ASF subversion and git services",
            "content": "Commit 1556775 from Michael McCandless in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1556775 ]\n\nLUCENE-5376: allow setting norms format, including compressed norms ",
            "date": "2014-01-09T10:24:40+0000"
        },
        {
            "id": "comment-13866536",
            "author": "ASF subversion and git services",
            "content": "Commit 1556786 from Michael McCandless in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1556786 ]\n\nLUCENE-4906, LUCENE-5376: using the expert 'render to Object' APIs in PostingsHighlighter to render directly to JSONArray in lucene server ",
            "date": "2014-01-09T10:49:31+0000"
        },
        {
            "id": "comment-13867682",
            "author": "ASF subversion and git services",
            "content": "Commit 1557073 from Michael McCandless in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1557073 ]\n\nLUCENE-5336, LUCENE-5376: expose SimpleQueryParser in lucene server ",
            "date": "2014-01-10T10:23:25+0000"
        },
        {
            "id": "comment-13869017",
            "author": "ASF subversion and git services",
            "content": "Commit 1557517 from Michael McCandless in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1557517 ]\n\nLUCENE-5376: expose control over underlying facet index field, fix some nocommits ",
            "date": "2014-01-12T12:02:32+0000"
        },
        {
            "id": "comment-13869456",
            "author": "ASF subversion and git services",
            "content": "Commit 1557694 from Michael McCandless in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1557694 ]\n\nLUCENE-5376: fix nocommits, add tests, get RAMDir indices working more correctly; rename 'index' param to 'search' when registering a field ",
            "date": "2014-01-13T12:43:32+0000"
        },
        {
            "id": "comment-13870001",
            "author": "ASF subversion and git services",
            "content": "Commit 1557855 from Michael McCandless in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1557855 ]\n\nLUCENE-5376: all custom Directory implementations accessible in CP; always return suggest count from buildSuggest; fix highlighting in AnalyzingInfixSuggster to render strait to JSONObject; add HTTP compression nocommits ",
            "date": "2014-01-13T21:17:03+0000"
        },
        {
            "id": "comment-13870038",
            "author": "ASF subversion and git services",
            "content": "Commit 1557868 from Michael McCandless in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1557868 ]\n\nLUCENE-5376: add merge max MB/sec rate limiting ",
            "date": "2014-01-13T21:54:56+0000"
        },
        {
            "id": "comment-13874976",
            "author": "ASF subversion and git services",
            "content": "Commit 1559196 from Michael McCandless in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1559196 ]\n\nLUCENE-5376, LUCENE-5399: add missingLast support to lucene server ",
            "date": "2014-01-17T17:23:37+0000"
        },
        {
            "id": "comment-13875465",
            "author": "Areek Zillur",
            "content": "LUCENE-5404 adds support for counting # of entries a lookup was built with and returns it on the build command, Dictionary uses InputIterator instead of BytesRefIterator among other things. I think it will get rid of some nocommits here? ",
            "date": "2014-01-18T01:14:49+0000"
        },
        {
            "id": "comment-13875607",
            "author": "Michael McCandless",
            "content": "LUCENE-5404 adds support for counting # of entries a lookup was built with and returns it on the build command, Dictionary uses InputIterator instead of BytesRefIterator among other things. I think it will get rid of some nocommits here?\n\nWow, super, this will fix a few nocommits in the server.  Thanks Areek, I'll have a look! ",
            "date": "2014-01-18T10:18:01+0000"
        },
        {
            "id": "comment-13875921",
            "author": "ASF subversion and git services",
            "content": "Commit 1559524 from Michael McCandless in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1559524 ]\n\nLUCENE-5376: cutover to analysis factories to create tokenizer and token filters; still need char filters & whole analyzers ",
            "date": "2014-01-19T16:52:58+0000"
        },
        {
            "id": "comment-13875958",
            "author": "ASF subversion and git services",
            "content": "Commit 1559542 from Michael McCandless in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1559542 ]\n\nLUCENE-5376: always throw unchecked cause of the InvocationTargetException ",
            "date": "2014-01-19T18:26:41+0000"
        },
        {
            "id": "comment-13876383",
            "author": "ASF subversion and git services",
            "content": "Commit 1559670 from Michael McCandless in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1559670 ]\n\nLUCENE-5376: get 'file-like resources' working with char filters, fix nocommits, tests, clean up the analysis factory code ",
            "date": "2014-01-20T11:56:11+0000"
        },
        {
            "id": "comment-13876709",
            "author": "ASF subversion and git services",
            "content": "Commit 1559805 from Michael McCandless in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1559805 ]\n\nLUCENE-5376: show how to do distance drill down with lucene server; clean up some tests ",
            "date": "2014-01-20T18:56:27+0000"
        },
        {
            "id": "comment-13877391",
            "author": "ASF subversion and git services",
            "content": "Commit 1559973 from Michael McCandless in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1559973 ]\n\nLUCENE-5376: add search timeout (TimeLimitingCollector) ",
            "date": "2014-01-21T11:16:21+0000"
        },
        {
            "id": "comment-13877405",
            "author": "ASF subversion and git services",
            "content": "Commit 1559984 from Michael McCandless in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1559984 ]\n\nLUCENE-5376: finish the simple distance range facets example; fix pre-existing bug when range facet filters are used with drill sideways ",
            "date": "2014-01-21T11:41:06+0000"
        },
        {
            "id": "comment-13880906",
            "author": "ASF subversion and git services",
            "content": "Commit 1560946 from Michael McCandless in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1560946 ]\n\nLUCENE-5376: improve comments / nocommits ",
            "date": "2014-01-24T11:37:47+0000"
        },
        {
            "id": "comment-13882374",
            "author": "ASF subversion and git services",
            "content": "Commit 1561524 from Michael McCandless in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1561524 ]\n\nLUCENE-5376: add some nocommits; cutover another pretty-print from jackson to json-smart; small simplification to replication ",
            "date": "2014-01-26T18:14:15+0000"
        },
        {
            "id": "comment-13882382",
            "author": "ASF subversion and git services",
            "content": "Commit 1561529 from Michael McCandless in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1561529 ]\n\nLUCENE-5376: relax type DocsEnum -> DocIdSetIterator; fix typos ",
            "date": "2014-01-26T18:51:02+0000"
        },
        {
            "id": "comment-13883452",
            "author": "Arcadius Ahouansou",
            "content": "Hello.\n\nI have checked out this branch and did in the lucene directory an \nant clean package-zip\nThe build was successful and many artefacts were created including:\n\n\n\tlucene-xml-query-demo.war\n\tlucene-demo-5.0-SNAPSHOT.jar\n\tlucene-server-5.0-SNAPSHOT.jar\n\n\n\nI dropped the war into a fresh jetty 9 install and jetty was not happy (see stacktrace below).\n\nMy questions is:\n\n\tHow the demo and the new server package fit together?\n\tHow to run the demo?\n\n\n\nThanks.\n\n\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n        at java.lang.reflect.Method.invoke(Unknown Source)\n        at org.eclipse.jetty.start.Main.invokeMain(Main.java:297)\n        at org.eclipse.jetty.start.Main.start(Main.java:724)\n        at org.eclipse.jetty.start.Main.main(Main.java:103)\n        2014-01-27 22:21:36.288:WARN:lucene-xml-query-demo:main: unavailable\n        javax.servlet.UnavailableException: org.apache.lucene.xmlparser.webdemo.FormBasedXmlQueryDemo\n        at org.eclipse.jetty.servlet.BaseHolder.doStart(BaseHolder.java:102)\n        at org.eclipse.jetty.servlet.ServletHolder.doStart(ServletHolder.java:294)\n\n ",
            "date": "2014-01-27T22:37:42+0000"
        },
        {
            "id": "comment-13884240",
            "author": "Michael McCandless",
            "content": "Hi Arcadius, the server is currently not a webapp; you don't drop it into any web container to run it.\n\nInstead, its a standalone app, using Netty for the HTTP interface; run it like this:\n\n\n    java -cp ... org.apache.lucene.server.Server -port NNNN -stateDir /path/to/dir\n\n\n\nYou'll need to put a bunch of Lucene's JARs on the classpath since the server exposes most of Lucene's modules (grouping, joins, analysis, highlighter, facets, queries, queryparser, suggest, expressions), as well as the jars under lucene/server/lib after you've run \"ant resolve\". ",
            "date": "2014-01-28T15:19:47+0000"
        },
        {
            "id": "comment-13885242",
            "author": "ASF subversion and git services",
            "content": "Commit 1562403 from Michael McCandless in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1562403 ]\n\nLUCENE-5376: sync trunk ",
            "date": "2014-01-29T11:14:55+0000"
        },
        {
            "id": "comment-13887910",
            "author": "ASF subversion and git services",
            "content": "Commit 1563180 from Michael McCandless in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1563180 ]\n\nLUCENE-5415,LUCENE-5376: get MultiTermQuery highlighting working; fix compilation errors ",
            "date": "2014-01-31T17:16:02+0000"
        },
        {
            "id": "comment-13888127",
            "author": "ASF subversion and git services",
            "content": "Commit 1563248 from Michael McCandless in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1563248 ]\n\nLUCENE-5376: merge trunk ",
            "date": "2014-01-31T20:29:25+0000"
        },
        {
            "id": "comment-13892087",
            "author": "ASF subversion and git services",
            "content": "Commit 1564769 from Michael McCandless in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1564769 ]\n\nLUCENE-5376: minor cleanups in replication ",
            "date": "2014-02-05T13:27:26+0000"
        },
        {
            "id": "comment-13893287",
            "author": "ASF subversion and git services",
            "content": "Commit 1565184 from Michael McCandless in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1565184 ]\n\nLUCENE-5376: merge trunk ",
            "date": "2014-02-06T11:38:31+0000"
        },
        {
            "id": "comment-13893504",
            "author": "ASF subversion and git services",
            "content": "Commit 1565325 from Michael McCandless in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1565325 ]\n\nLUCENE-5376: add some more test cases for dynamic expressions; clean up test code ",
            "date": "2014-02-06T16:24:30+0000"
        },
        {
            "id": "comment-13896081",
            "author": "ASF subversion and git services",
            "content": "Commit 1566454 from Michael McCandless in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1566454 ]\n\nLUCENE-5376: sync trunk ",
            "date": "2014-02-09T22:30:23+0000"
        },
        {
            "id": "comment-13912967",
            "author": "ASF subversion and git services",
            "content": "Commit 1572063 from Michael McCandless in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1572063 ]\n\nLUCENE-5376: sync trunk ",
            "date": "2014-02-26T14:44:01+0000"
        },
        {
            "id": "comment-13914680",
            "author": "ASF subversion and git services",
            "content": "Commit 1572637 from Michael McCandless in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1572637 ]\n\nLUCENE-5376: add factory for SuggestStopFilter; get PostingsHighlighter MTQ highlighting working with block join queries; fix 0.0 score from block join group parent; add explicit label faceting; fix analyzing infix suggester highlighting; allow drill-downs on range facets ",
            "date": "2014-02-27T16:00:38+0000"
        },
        {
            "id": "comment-13915047",
            "author": "Chris Male",
            "content": "Hey Mike,\n\nWhat's the endzone here? Any thoughts on it coming back into trunk? ",
            "date": "2014-02-27T21:07:57+0000"
        },
        {
            "id": "comment-13915071",
            "author": "Michael McCandless",
            "content": "What's the endzone here? Any thoughts on it coming back into trunk?\n\nYes, I'd like to land it in trunk / 4.x, but it's probably going to be a while still ... lots of nocommits, though probably most could be downgraded to TODOs.\n\nThe server works well (it's running at http://jirasearch.mikemccandless.com), and is a nice showcase of many Lucene modules (faceting, expressions, joins, grouping, highlighting, etc.).  It's also helped uncover a number of \"rough edges\" in Lucene... ",
            "date": "2014-02-27T21:32:31+0000"
        },
        {
            "id": "comment-13916021",
            "author": "ASF subversion and git services",
            "content": "Commit 1573003 from Michael McCandless in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1573003 ]\n\nLUCENE-5376: merge trunk ",
            "date": "2014-02-28T17:12:08+0000"
        },
        {
            "id": "comment-13916387",
            "author": "ASF subversion and git services",
            "content": "Commit 1573080 from Michael McCandless in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1573080 ]\n\nLUCENE-5376, LUCENE-5477: add near-real-time suggest updates when using AnalyzingInfixSuggester to Lucene demo server ",
            "date": "2014-02-28T21:07:52+0000"
        },
        {
            "id": "comment-13917191",
            "author": "ASF subversion and git services",
            "content": "Commit 1573227 from Michael McCandless in branch 'dev/branches/lucene5376'\n[ https://svn.apache.org/r1573227 ]\n\nLUCENE-5376: expose set/getCommitUserData ",
            "date": "2014-03-01T21:01:09+0000"
        },
        {
            "id": "comment-13937242",
            "author": "ASF subversion and git services",
            "content": "Commit 1578132 from Michael McCandless in branch 'dev/branches/lucene5376_2'\n[ https://svn.apache.org/r1578132 ]\n\nLUCENE-5376: make new branch ",
            "date": "2014-03-16T18:09:29+0000"
        },
        {
            "id": "comment-13937244",
            "author": "ASF subversion and git services",
            "content": "Commit 1578133 from Michael McCandless in branch 'dev/branches/lucene5376_2'\n[ https://svn.apache.org/r1578133 ]\n\nLUCENE-5376: carry over last branch ",
            "date": "2014-03-16T18:11:08+0000"
        },
        {
            "id": "comment-13937302",
            "author": "ASF subversion and git services",
            "content": "Commit 1578144 from Michael McCandless in branch 'dev/branches/lucene5376_2'\n[ https://svn.apache.org/r1578144 ]\n\nLUCENE-5376: merge trunk ",
            "date": "2014-03-16T19:39:18+0000"
        },
        {
            "id": "comment-13937331",
            "author": "Chris Male",
            "content": "What's motivated the new branch? ",
            "date": "2014-03-16T20:59:27+0000"
        },
        {
            "id": "comment-13937336",
            "author": "Michael McCandless",
            "content": "What's motivated the new branch?\n\nOh, sorry, something went wrong with the merge props on the old branch, such that when I tried to merge as I always do (\"svn merge ../trunk\") it hit strange conflicts in files never changed on the branch and then stopped merging and asked me to resolve the conflicts and re-run the merge, which caused further conflicts in files that shouldn't have conflicted...\n\nI figured it was easier to just rebranch. ",
            "date": "2014-03-16T21:12:46+0000"
        },
        {
            "id": "comment-13937343",
            "author": "Chris Male",
            "content": "Sweet! ",
            "date": "2014-03-16T21:32:54+0000"
        },
        {
            "id": "comment-13940689",
            "author": "ASF subversion and git services",
            "content": "Commit 1579299 from Michael McCandless in branch 'dev/branches/lucene5376_2'\n[ https://svn.apache.org/r1579299 ]\n\nLUCENE-5376: add missing cause for some exceptions ",
            "date": "2014-03-19T17:05:30+0000"
        },
        {
            "id": "comment-13985464",
            "author": "ASF subversion and git services",
            "content": "Commit 1591283 from jdyer@apache.org in branch 'dev/branches/lucene5376_2'\n[ https://svn.apache.org/r1591283 ]\n\nLUCENE-5376: add \"lib\" directory to svn:ignore ",
            "date": "2014-04-30T13:16:24+0000"
        },
        {
            "id": "comment-13985496",
            "author": "ASF subversion and git services",
            "content": "Commit 1591292 from jdyer@apache.org in branch 'dev/branches/lucene5376_2'\n[ https://svn.apache.org/r1591292 ]\n\nLUCENE-5376: Use a default 'stateDir'  instead of throwing NPE ",
            "date": "2014-04-30T13:30:46+0000"
        },
        {
            "id": "comment-13985564",
            "author": "James Dyer",
            "content": "Just playing around with this a little bit.  I'm running into some barriers for a quick start, wonder if we could...\n\n\n\tIf user doesn't specify a handler, or an invalid one, return a list of valid handlers, possibly with a little param documentation instead of the current IllegalArgumentException\n\tAllow commands like \"createIndex\" be execute as GET and not require POST.  Maybe let users pass parameters on the URL and not always expect an incoming JSON document?  And/or have a parameter \"json\" for such a document?\n\n\n\nI'd be happy to try and add this but wasn't sure if the intent was to make this strictly a server-to-server app, or also something users could play around with interactively with a browser. ",
            "date": "2014-04-30T14:21:05+0000"
        },
        {
            "id": "comment-13985583",
            "author": "Michael McCandless",
            "content": "Thanks James!\n\nIf user doesn't specify a handler, or an invalid one, return a list of valid handlers, possibly with a little param documentation instead of the current IllegalArgumentException\n\n+1: it's really important that all errors that come back from the server are transparent/clear as possible.  Maybe point to the live docs handler?\n\nAllow commands like \"createIndex\" be execute as GET and not require POST. Maybe let users pass parameters on the URL and not always expect an incoming JSON document? And/or have a parameter \"json\" for such a document?\n\nI think this makes sense as long as the GET API is just a mirror of what you could do via JSON?  E.g., maybe take all CGI args, turn into the corresponding JSON struct, and pretend that JSON had arrived via POST?  Something like that ... ",
            "date": "2014-04-30T14:47:56+0000"
        },
        {
            "id": "comment-13986940",
            "author": "ASF subversion and git services",
            "content": "Commit 1591762 from jdyer@apache.org in branch 'dev/branches/lucene5376_2'\n[ https://svn.apache.org/r1591762 ]\n\nLUCENE-5376: add HelpHandler to aid new users and provide quick reference ",
            "date": "2014-05-01T20:13:30+0000"
        },
        {
            "id": "comment-13986944",
            "author": "ASF subversion and git services",
            "content": "Commit 1591764 from jdyer@apache.org in branch 'dev/branches/lucene5376_2'\n[ https://svn.apache.org/r1591764 ]\n\nLUCENE-5376: HelpHandler fixes ",
            "date": "2014-05-01T20:21:36+0000"
        },
        {
            "id": "comment-13987989",
            "author": "ASF subversion and git services",
            "content": "Commit 1591984 from jdyer@apache.org in branch 'dev/branches/lucene5376_2'\n[ https://svn.apache.org/r1591984 ]\n\nLUCENE-5376: HelpHandler fix for incoming parameter ",
            "date": "2014-05-02T17:39:52+0000"
        },
        {
            "id": "comment-13988003",
            "author": "ASF subversion and git services",
            "content": "Commit 1591986 from jdyer@apache.org in branch 'dev/branches/lucene5376_2'\n[ https://svn.apache.org/r1591986 ]\n\nLUCENE-5376: convert GET parameters to JSON ",
            "date": "2014-05-02T17:52:07+0000"
        },
        {
            "id": "comment-14366133",
            "author": "Vincent Murphy",
            "content": "Just looking for the code? https://github.com/apache/lucene-solr/tree/lucene5376_2 ",
            "date": "2015-03-17T21:35:56+0000"
        },
        {
            "id": "comment-15399888",
            "author": "Michael McCandless",
            "content": "I've moved this \"thin wrapper Lucene server to its own github project: https://github.com/mikemccand/luceneserver ",
            "date": "2016-07-29T19:28:20+0000"
        }
    ]
}