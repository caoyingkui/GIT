{
    "id": "SOLR-4113",
    "title": "Fullpath for db-config file causes error on SolrCloud",
    "details": {
        "affect_versions": "6.0",
        "status": "Open",
        "fix_versions": [],
        "components": [],
        "type": "Bug",
        "priority": "Major",
        "labels": "",
        "resolution": "Unresolved"
    },
    "description": "When I put a full path for a db config file to my solrconfig.xml, dataimport attempt shows an error message like this:\n\nSEVERE: null:java.io.IOException: Error opening /configs/mycore//Users/deniz/SolrCloudTesting/solr/mycore/conf/db-config.xml\n\tat org.apache.solr.cloud.ZkSolrResourceLoader.openResource(ZkSolrResourceLoader.java:82)\n\tat org.apache.solr.handler.dataimport.DataImportHandler.handleRequestBody(DataImportHandler.java:132)\n\tat org.apache.solr.handler.RequestHandlerBase.handleRequest(RequestHandlerBase.java:144)\n\tat org.apache.solr.core.SolrCore.execute(SolrCore.java:1830)\n\tat org.apache.solr.servlet.SolrDispatchFilter.execute(SolrDispatchFilter.java:455)\n\tat org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:276)\n\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1337)\n\tat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:484)\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:119)\n\tat org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:524)\n\tat org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:233)\n\tat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1065)\n\tat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:413)\n\tat org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:192)\n\tat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:999)\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:117)\n\tat org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:250)\n\tat org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:149)\n\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:111)\n\tat org.eclipse.jetty.server.Server.handle(Server.java:351)\n\tat org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:454)\n\tat org.eclipse.jetty.server.BlockingHttpConnection.handleRequest(BlockingHttpConnection.java:47)\n\tat org.eclipse.jetty.server.AbstractHttpConnection.headerComplete(AbstractHttpConnection.java:890)\n\tat org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.headerComplete(AbstractHttpConnection.java:944)\n\tat org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:634)\n\tat org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:230)\n\tat org.eclipse.jetty.server.BlockingHttpConnection.handle(BlockingHttpConnection.java:66)\n\tat org.eclipse.jetty.server.bio.SocketConnector$ConnectorEndPoint.run(SocketConnector.java:254)\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:599)\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:534)\n\tat java.lang.Thread.run(Thread.java:680)\nCaused by: java.lang.IllegalArgumentException: Invalid path string \"/configs/mycore//Users/deniz/SolrCloudTesting/solr/mycore/conf/db-config.xml\" caused by empty node name specified @19\n\tat org.apache.zookeeper.common.PathUtils.validatePath(PathUtils.java:99)\n\tat org.apache.zookeeper.ZooKeeper.exists(ZooKeeper.java:794)\n\tat org.apache.solr.common.cloud.SolrZkClient$4.execute(SolrZkClient.java:193)\n\tat org.apache.solr.common.cloud.SolrZkClient$4.execute(SolrZkClient.java:190)\n\tat org.apache.solr.common.cloud.ZkCmdExecutor.retryOperation(ZkCmdExecutor.java:63)\n\tat org.apache.solr.common.cloud.SolrZkClient.exists(SolrZkClient.java:190)\n\tat org.apache.solr.cloud.ZkController.pathExists(ZkController.java:519)\n\tat org.apache.solr.cloud.ZkSolrResourceLoader.openResource(ZkSolrResourceLoader.java:77)\n\t... 30 more\n\n\nand here is the part that i set my db-configs location in solrconfig.xml:\n\n<requestHandler name=\"/dataimport\" class=\"org.apache.solr.handler.dataimport.DataImportHandler\">\n                <lst name=\"defaults\">\n                        <str name=\"config\">/Users/deniz/SolrCloudTesting/solr/mycore/conf/db-config.xml</str>",
    "attachments": {},
    "issue_links": {},
    "comments": []
}